{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "cd647317",
   "metadata": {},
   "source": [
    "# Introduction\n",
    "\n",
    "In agent-based models, the network structure is a crucial element and, thus, needs to be modeled with care.\n",
    "When empirical network data are unavailable, simulation models must rely on network models.\n",
    "Popy is a new way to quickly create network models ready to use in agent-based models.\n",
    "\n",
    "Popy relies on a concept for creating network models that is mainly used in epidemiological models: the definition of so-called *contact layers*.\n",
    "Contact layers act as links between agents by virtually providing a common space where agents assigned to the same contact layer meet.\n",
    "In Popy, these contact layers are called *locations*.\n",
    "\n",
    "To build a network model with Popy, one starts with a population of unconnected agents or with data to create the agents.\n",
    "Then, one can use Popy to quickly define multiple locations, determining who will meet whom, when, and how.\n",
    "Popy uses those location definitions to generate the desired network model by creating location instances (and, if needed agent instances), assigning the agents to the locations, and, thus, build a bipartite network of agents and locations.\n",
    "In the last step, this bipartite network can, thanks to Popy's full integration into [AgentPy](https://agentpy.readthedocs.io/en/latest/#), either be directly used in a simulation model or can be exported as an agent-level network. The following figure provides an overview of these steps:\n",
    "\n",
    "![](popy_overview.png)\n",
    "\n",
    "It is important to understand, that Popy is not a *population synthesizer*.\n",
    "The main purpose of Popy is to connect agents via contact layers to easily generate a valid interaction structure for agent-based models.\n",
    "Popy does not create any original data on the agent-level.\n",
    "All the data Popy uses to create agents must be given by the user.\n",
    "However, Popy makes it very easy to transform (empirical or artificial) micro-level data into agent populations of any size by providing convenient sampling tools.\n",
    "In addition, Popy includes tools to inspect the network properties and compare it to empirical data."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "51f110ae",
   "metadata": {},
   "source": [
    "# Basics"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "3bacf45d",
   "metadata": {},
   "source": [
    "After the installation of popy, the first thing we have to do is to import the package in order to use it:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "ea958cfb",
   "metadata": {},
   "outputs": [],
   "source": [
    "import popy"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "14850cd5",
   "metadata": {},
   "source": [
    "In Popy, `Model` is the most important object class because almost everything happens inside - or at least in regard to - a `Model`.\n",
    "You can imagine a `Model` as the world where all the entities we create live.\n",
    "Therefore, everthing you can do in Popy starts with creating an instance of `popy.Model`."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "cad8ffee",
   "metadata": {},
   "outputs": [],
   "source": [
    "model = popy.Model()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b5d95d24",
   "metadata": {},
   "source": [
    "A `Model` has three very important attributes.\n",
    "\n",
    "`Model.g` is a network-graph which stores all agents, locations and their relations to each other as a bipartite network:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "7d062837",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<networkx.classes.graph.Graph at 0x24bed2c2e50>"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.g"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "3781e5d3",
   "metadata": {},
   "source": [
    "`Model.agents` returns a list of all agents stored in `Model.g`:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "fe2f903c",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "AgentList (0 objects)"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.agents"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "dc985bd4",
   "metadata": {},
   "source": [
    "`Model.locations` returns a list of all locations stored in `Model.g`:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "99491a3c",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "LocationList (0 objects)"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.locations"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e12316ce",
   "metadata": {},
   "source": [
    "Next, we create our first agent:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "3f8b5b7f",
   "metadata": {},
   "outputs": [],
   "source": [
    "agent = popy.Agent(model)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "50f75545",
   "metadata": {},
   "source": [
    "Whenever a new instance of an `Agent` is created, it gets automatically added to the given instance of `Model`.\n",
    "This means that the created `Agent` instance is represented as a node in `model.g` and gets returned in `model.agents`:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "65ed8132",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "NodeView((1,))"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.g.nodes"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "2db70a6a",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "AgentList (1 object)"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.agents"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "84b41b15",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Agent (Obj 1)"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.agents[0]"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "fb8028cb",
   "metadata": {},
   "source": [
    "The same applies to locations:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "84b369b0",
   "metadata": {},
   "outputs": [],
   "source": [
    "location = popy.Location(model)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "c79ad26f",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "NodeView((1, 2))"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.g.nodes"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "72e1edcc",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "LocationList (1 object)"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.locations"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2f0a7d4c",
   "metadata": {},
   "source": [
    "In programming, often the best thing you can do to understand what is going on is to look at things.\n",
    "In Popy, the `NetworkInspector` helps you to understand the network you are building.\n",
    "For instance, using the `NetworkInsepctor`, you can visualize the bipartite network of agents and locations:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "id": "a4b3fc11",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "ERROR:bokeh.core.validation.check:E-1001 (BAD_COLUMN_NAME): Glyph refers to nonexistent column name. This could either be due to a misspelling or typo, or due to an expected column being missing. : line_alpha='weight' [no close matches] {renderer: GlyphRenderer(id='p1053', ...)}\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"f2ba8296-3e46-4539-b0a1-84df0735a2ce\" data-root-id=\"p1001\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"30bb731d-89fa-46d2-857f-322af39f7b95\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p1001\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p1003\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p1002\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p1014\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p1016\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p1008\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p1053\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p1044\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p1045\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p1046\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[]],[\"ys\",[]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p1054\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p1055\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p1050\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"weight\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p1051\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p1052\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p1067\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p1058\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p1059\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p1060\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[1.0]],[\"ys\",[0.03816624994288976]],[\"_node\",[1]],[\"bipartite\",[0]],[\"type\",[\"Agent\"]],[\"_colormap\",[\"rgb(246, 254, 52)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p1068\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p1069\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1064\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1065\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1066\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p1079\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p1070\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p1071\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p1072\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-1.0]],[\"ys\",[-0.03816624994288976]],[\"_node\",[2]],[\"bipartite\",[1]],[\"type\",[\"Location\"]],[\"_colormap\",[\"rgb(60, 105, 110)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p1080\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p1081\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1076\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1077\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1078\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p1009\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p1032\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p1033\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p1034\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p1035\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p1036\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p1056\",\"attributes\":{\"renderers\":[{\"id\":\"p1053\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p1082\",\"attributes\":{\"renderers\":[{\"id\":\"p1067\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p1084\",\"attributes\":{\"renderers\":[{\"id\":\"p1079\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p1025\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p1026\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p1027\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p1028\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p1018\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p1019\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p1020\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p1021\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p1024\",\"attributes\":{\"axis\":{\"id\":\"p1018\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p1031\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p1025\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"30bb731d-89fa-46d2-857f-322af39f7b95\",\"roots\":{\"p1001\":\"f2ba8296-3e46-4539-b0a1-84df0735a2ce\"},\"root_ids\":[\"p1001\"],\"notebook_comms_target\":\"p1110\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p1001"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector = popy.NetworkInspector(model)\n",
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8a7a404b",
   "metadata": {},
   "source": [
    "To be honest, the above is not really a network, because there are only two nodes without any edge.\n",
    "However, the graph gives an intuitive overview over the entities in your model.\n",
    "\n",
    "Let's create an edge between those two entities by *adding* the agent to the location:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "25781eef",
   "metadata": {},
   "outputs": [],
   "source": [
    "location.add_agent(agent)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "47222cdc",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"edfea944-4e1e-4212-93c1-cfde9a1857bb\" data-root-id=\"p1231\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"8f415f0f-62d0-41ef-b2b9-4b140a143a8e\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p1231\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p1233\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p1232\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p1244\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p1246\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p1238\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p1283\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p1274\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p1275\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p1276\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.851662826714179,0.851662826714179]]],[\"ys\",[[-1.0,1.0]]],[\"_u\",[1]],[\"_v\",[2]],[\"weight\",[1]],[\"_edge_alpha\",[1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p1284\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p1285\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p1280\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p1281\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p1282\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p1297\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p1288\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p1289\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p1290\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.851662826714179]],[\"ys\",[1.0]],[\"_node\",[2]],[\"bipartite\",[1]],[\"type\",[\"Location\"]],[\"_colormap\",[\"rgb(241, 214, 127)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p1298\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p1299\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1294\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1295\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1296\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p1309\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p1300\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p1301\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p1302\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.851662826714179]],[\"ys\",[-1.0]],[\"_node\",[1]],[\"bipartite\",[0]],[\"type\",[\"Agent\"]],[\"_colormap\",[\"rgb(154, 85, 108)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p1310\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p1311\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1306\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1307\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1308\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p1239\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p1262\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p1263\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p1264\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p1265\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p1266\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p1286\",\"attributes\":{\"renderers\":[{\"id\":\"p1283\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p1312\",\"attributes\":{\"renderers\":[{\"id\":\"p1297\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p1314\",\"attributes\":{\"renderers\":[{\"id\":\"p1309\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p1255\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p1256\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p1257\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p1258\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p1248\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p1249\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p1250\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p1251\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p1254\",\"attributes\":{\"axis\":{\"id\":\"p1248\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p1261\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p1255\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"8f415f0f-62d0-41ef-b2b9-4b140a143a8e\",\"roots\":{\"p1231\":\"edfea944-4e1e-4212-93c1-cfde9a1857bb\"},\"root_ids\":[\"p1231\"],\"notebook_comms_target\":\"p1364\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p1231"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "22bf7bfa",
   "metadata": {},
   "source": [
    "The attribute `location.agents` "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "id": "57fdc64d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "AgentList (1 object)"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "location.agents"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "id": "f9704f53",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "LocationList (1 object)"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "agent.locations"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b77e927e",
   "metadata": {},
   "source": [
    "Let's add some more agents to the model using a For-Loop:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "id": "17b56c1c",
   "metadata": {},
   "outputs": [],
   "source": [
    "for _ in range(3):\n",
    "    popy.Agent(model)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8b2eeb43",
   "metadata": {},
   "source": [
    "As you can see, we do not even have to assign the created instances of `Agent` to a variable because their are added to the model automatically during the initialization.\n",
    "Now we have 4 agents in our model:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "id": "7295a3ac",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "AgentList (4 objects)"
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.agents"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e3c2b342",
   "metadata": {},
   "source": [
    "Let's add an additional location:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "id": "86b41d39",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Location (Obj 6)"
      ]
     },
     "execution_count": 20,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "popy.Location(model)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "id": "5325accb",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "LocationList (2 objects)"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.locations"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2567dd4f",
   "metadata": {},
   "source": [
    "Let's have a look at the bipartite network graph:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "80be1a18",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"f5f2fdfa-4712-4e7e-a92a-80aff0bfd667\" data-root-id=\"p1485\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"d42e88a0-605a-4ac8-b22d-ace841512cb2\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p1485\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p1487\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p1486\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p1498\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p1500\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p1492\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p1537\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p1528\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p1529\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p1530\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.26658106337852316,0.1867416605681454]]],[\"ys\",[[0.75575721658058,0.8703936580323149]]],[\"_u\",[1]],[\"_v\",[2]],[\"weight\",[1]],[\"_edge_alpha\",[1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p1538\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p1539\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p1534\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p1535\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p1536\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p1551\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p1542\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p1543\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p1544\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.26658106337852316,1.0,0.1785275233457978,-0.9102638160882104]],[\"ys\",[0.75575721658058,-0.26188750290818874,-0.8793462364123414,0.2935732921224178]],[\"_node\",[1,3,4,5]],[\"bipartite\",[0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(145, 167, 182)\",\"rgb(145, 167, 182)\",\"rgb(145, 167, 182)\",\"rgb(145, 167, 182)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p1552\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p1553\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1548\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1549\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1550\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p1563\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p1554\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p1555\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p1556\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.1867416605681454,-0.7215864312042561]],[\"ys\",[0.8703936580323149,-0.7784904274147828]],[\"_node\",[2,6]],[\"bipartite\",[1,1]],[\"type\",[\"Location\",\"Location\"]],[\"_colormap\",[\"rgb(104, 217, 97)\",\"rgb(104, 217, 97)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p1564\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p1565\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1560\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1561\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1562\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p1493\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p1516\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p1517\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p1518\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p1519\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p1520\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p1540\",\"attributes\":{\"renderers\":[{\"id\":\"p1537\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p1566\",\"attributes\":{\"renderers\":[{\"id\":\"p1551\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p1568\",\"attributes\":{\"renderers\":[{\"id\":\"p1563\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p1509\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p1510\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p1511\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p1512\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p1502\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p1503\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p1504\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p1505\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p1508\",\"attributes\":{\"axis\":{\"id\":\"p1502\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p1515\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p1509\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"d42e88a0-605a-4ac8-b22d-ace841512cb2\",\"roots\":{\"p1485\":\"f5f2fdfa-4712-4e7e-a92a-80aff0bfd667\"},\"root_ids\":[\"p1485\"],\"notebook_comms_target\":\"p1642\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p1485"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f99e20fe",
   "metadata": {},
   "source": [
    "Because there is still only one edge, in the next step we assign each agent to one location and make sure that each location has not more than 2 agents:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "id": "8ad53b91",
   "metadata": {},
   "outputs": [],
   "source": [
    "for location in model.locations:\n",
    "    for agent in model.agents:\n",
    "        if len(location.agents) < 2 and len(agent.locations) == 0:\n",
    "            location.add_agent(agent)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "id": "826b6557",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'bipartite': 0, '_obj': Agent (Obj 1)}"
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.g.nodes[1]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "id": "c654d3e6",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"fd5d4253-dd10-4ce9-a0b2-4458dd810eb8\" data-root-id=\"p1763\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"702f83ec-c232-436d-b2bb-45314de71c8b\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p1763\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p1765\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p1764\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p1776\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p1778\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p1770\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p1815\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p1806\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p1807\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p1808\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.40499129855284566,-0.25884327129131196],[-0.25884327129131196,-0.09176883261146525],[0.053207412924654765,0.24873483789691603],[0.45366115163405196,0.24873483789691603]]],[\"ys\",[[-0.7018347895344695,-0.8636055433044608],[-0.8636055433044608,-1.0],[0.9410134350426909,0.8472439259683621],[0.7771829718278772,0.8472439259683621]]],[\"_u\",[1,2,4,5]],[\"_v\",[2,3,6,6]],[\"weight\",[1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p1816\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p1817\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p1812\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p1813\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p1814\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p1829\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p1820\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p1821\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p1822\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.40499129855284566,-0.09176883261146525,0.053207412924654765,0.45366115163405196]],[\"ys\",[-0.7018347895344695,-1.0,0.9410134350426909,0.7771829718278772]],[\"_node\",[1,3,4,5]],[\"bipartite\",[0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(7, 221, 160)\",\"rgb(7, 221, 160)\",\"rgb(7, 221, 160)\",\"rgb(7, 221, 160)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p1830\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p1831\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1826\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1827\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1828\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p1841\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p1832\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p1833\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p1834\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.25884327129131196,0.24873483789691603]],[\"ys\",[-0.8636055433044608,0.8472439259683621]],[\"_node\",[2,6]],[\"bipartite\",[1,1]],[\"type\",[\"Location\",\"Location\"]],[\"_colormap\",[\"rgb(183, 21, 75)\",\"rgb(183, 21, 75)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p1842\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p1843\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1838\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1839\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p1840\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p1771\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p1794\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p1795\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p1796\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p1797\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p1798\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p1818\",\"attributes\":{\"renderers\":[{\"id\":\"p1815\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p1844\",\"attributes\":{\"renderers\":[{\"id\":\"p1829\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p1846\",\"attributes\":{\"renderers\":[{\"id\":\"p1841\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p1787\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p1788\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p1789\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p1790\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p1780\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p1781\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p1782\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p1783\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p1786\",\"attributes\":{\"axis\":{\"id\":\"p1780\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p1793\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p1787\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"702f83ec-c232-436d-b2bb-45314de71c8b\",\"roots\":{\"p1763\":\"fd5d4253-dd10-4ce9-a0b2-4458dd810eb8\"},\"root_ids\":[\"p1763\"],\"notebook_comms_target\":\"p1944\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p1763"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "62657360",
   "metadata": {},
   "source": [
    "By the way: We can easily plot the netowrk on the agent-level:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "id": "a06c1668",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"cea5273a-bd93-49d6-9d78-b75694db029f\" data-root-id=\"p2065\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"9f58a6b2-6bf8-4065-bd49-3c89f7421563\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p2065\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p2067\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p2066\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p2078\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p2080\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p2072\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p2117\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p2108\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p2109\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p2110\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.9598839208127669,-0.8439128992071683],[1.0,0.8037968200199352]]],[\"ys\",[[-0.24581582057255622,0.17841003154132748],[0.2305228233463088,-0.16311703431508007]]],[\"_u\",[1,4]],[\"_v\",[3,5]],[\"weight\",[1,1]],[\"_edge_alpha\",[1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p2118\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p2119\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p2114\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p2115\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p2116\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p2131\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p2122\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p2123\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p2124\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.9598839208127669,-0.8439128992071683,1.0,0.8037968200199352]],[\"ys\",[-0.24581582057255622,0.17841003154132748,0.2305228233463088,-0.16311703431508007]],[\"_node\",[1,3,4,5]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p2132\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p2133\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p2128\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p2129\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p2130\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p2073\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p2096\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p2097\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p2098\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p2099\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p2100\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p2120\",\"attributes\":{\"renderers\":[{\"id\":\"p2117\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p2134\",\"attributes\":{\"renderers\":[{\"id\":\"p2131\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p2089\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p2090\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p2091\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p2092\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p2082\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p2083\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p2084\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p2085\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p2088\",\"attributes\":{\"axis\":{\"id\":\"p2082\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p2095\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p2089\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"9f58a6b2-6bf8-4065-bd49-3c89f7421563\",\"roots\":{\"p2065\":\"cea5273a-bd93-49d6-9d78-b75694db029f\"},\"root_ids\":[\"p2065\"],\"notebook_comms_target\":\"p2251\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p2065"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_agent_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "id": "60e6d261",
   "metadata": {},
   "outputs": [],
   "source": [
    "agent = model.agents[0]\n",
    "for location in model.locations:\n",
    "    if agent not in location.agents:\n",
    "        location.add_agent(agent)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "id": "936792fb",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"a0562adb-ed50-46b2-8d5d-29f6f253eac7\" data-root-id=\"p2347\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"4b91b682-9f66-42b7-b101-f7fc48c11ff1\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p2347\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p2349\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p2348\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p2360\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p2362\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p2354\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p2399\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p2390\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p2391\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p2392\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.0003887645006800292,0.004003119304302953],[0.0003887645006800292,-0.002854688704236054],[0.004003119304302953,0.007569858426855443],[-0.29717313870160683,-0.002854688704236054],[0.2880660851740038,-0.002854688704236054]]],[\"ys\",[[-0.12282255261825883,-0.5939460621729998],[-0.12282255261825883,0.3763827079905353],[-0.5939460621729998,-1.0],[0.6687319242404307,0.3763827079905353],[0.6716539825602929,0.3763827079905353]]],[\"_u\",[1,1,2,4,5]],[\"_v\",[2,6,3,6,6]],[\"weight\",[1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p2400\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p2401\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p2396\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p2397\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p2398\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p2413\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p2404\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p2405\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p2406\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.004003119304302953,-0.002854688704236054]],[\"ys\",[-0.5939460621729998,0.3763827079905353]],[\"_node\",[2,6]],[\"bipartite\",[1,1]],[\"type\",[\"Location\",\"Location\"]],[\"_colormap\",[\"rgb(125, 72, 238)\",\"rgb(125, 72, 238)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p2414\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p2415\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p2410\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p2411\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p2412\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p2425\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p2416\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p2417\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p2418\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.0003887645006800292,0.007569858426855443,-0.29717313870160683,0.2880660851740038]],[\"ys\",[-0.12282255261825883,-1.0,0.6687319242404307,0.6716539825602929]],[\"_node\",[1,3,4,5]],[\"bipartite\",[0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(103, 155, 83)\",\"rgb(103, 155, 83)\",\"rgb(103, 155, 83)\",\"rgb(103, 155, 83)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p2426\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p2427\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p2422\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p2423\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p2424\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p2355\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p2378\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p2379\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p2380\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p2381\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p2382\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p2402\",\"attributes\":{\"renderers\":[{\"id\":\"p2399\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p2428\",\"attributes\":{\"renderers\":[{\"id\":\"p2413\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p2430\",\"attributes\":{\"renderers\":[{\"id\":\"p2425\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p2371\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p2372\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p2373\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p2374\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p2364\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p2365\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p2366\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p2367\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p2370\",\"attributes\":{\"axis\":{\"id\":\"p2364\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p2377\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p2371\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"4b91b682-9f66-42b7-b101-f7fc48c11ff1\",\"roots\":{\"p2347\":\"a0562adb-ed50-46b2-8d5d-29f6f253eac7\"},\"root_ids\":[\"p2347\"],\"notebook_comms_target\":\"p2571\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p2347"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "id": "8cdf95b1",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"e59a2d9b-836c-493b-9904-b7e28e831a14\" data-root-id=\"p2692\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"658bfb73-86c9-4818-92f7-ce3777f99f0a\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p2692\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p2694\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p2693\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p2705\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p2707\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p2699\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p2744\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p2735\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p2736\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p2737\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.13796320163514303,-1.0],[-0.13796320163514303,0.7685973769125759],[-0.13796320163514303,0.3693658247225673],[0.7685973769125759,0.3693658247225673]]],[\"ys\",[[0.08437337705182517,0.611564308849679],[0.08437337705182517,-0.021566918401797225],[0.08437337705182517,-0.6743707674997073],[-0.021566918401797225,-0.6743707674997073]]],[\"_u\",[1,1,1,4]],[\"_v\",[3,4,5,5]],[\"weight\",[1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p2745\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p2746\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p2741\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p2742\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p2743\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p2758\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p2749\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p2750\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p2751\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.13796320163514303,-1.0,0.7685973769125759,0.3693658247225673]],[\"ys\",[0.08437337705182517,0.611564308849679,-0.021566918401797225,-0.6743707674997073]],[\"_node\",[1,3,4,5]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p2759\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p2760\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p2755\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p2756\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p2757\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p2700\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p2723\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p2724\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p2725\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p2726\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p2727\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p2747\",\"attributes\":{\"renderers\":[{\"id\":\"p2744\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p2761\",\"attributes\":{\"renderers\":[{\"id\":\"p2758\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p2716\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p2717\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p2718\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p2719\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p2709\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p2710\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p2711\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p2712\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p2715\",\"attributes\":{\"axis\":{\"id\":\"p2709\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p2722\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p2716\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"658bfb73-86c9-4818-92f7-ce3777f99f0a\",\"roots\":{\"p2692\":\"e59a2d9b-836c-493b-9904-b7e28e831a14\"},\"root_ids\":[\"p2692\"],\"notebook_comms_target\":\"p2921\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p2692"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_agent_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "1680d74a",
   "metadata": {},
   "source": [
    "Agents can access all other agents that are on a location together with the agent via the method `Agent.neighbors()`."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "id": "9e21442c",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "AgentList (3 objects)"
      ]
     },
     "execution_count": 30,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "agent = model.agents[0]\n",
    "agent.neighbors()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a1e1ad4d",
   "metadata": {},
   "source": [
    "## MagicLocations\n",
    "\n",
    "Locations make the life of an agent-based modeler a lot easier.\n",
    "However, it is still very tidious to connect a large population of agents via a specific network structure.\n",
    "Therefore, popy provides a work flow which ....\n",
    "\n",
    "\n",
    "### Overview"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "id": "215f6a8c",
   "metadata": {},
   "outputs": [],
   "source": [
    "import popy\n",
    "\n",
    "\n",
    "class MyLocation(popy.MagicLocation):\n",
    "    n_agents: int | None = None\n",
    "    overcrowding: bool | None = None\n",
    "    only_exact_n_agents: bool = False\n",
    "    n_locations: int | None = None\n",
    "    static_weight: bool = False\n",
    "    recycle: bool = True\n",
    "\n",
    "    def filter(self, agent: popy.Agent) -> bool:\n",
    "        \"\"\"Assigns only agents with certain attributes to this location.\"\"\"\n",
    "        return True\n",
    "\n",
    "    def split(self, agent: popy.Agent) -> str | float | str | list | None:\n",
    "        \"\"\"Creates seperated location instances for each value of an agent-attribute.\"\"\"\n",
    "        return None\n",
    "\n",
    "    def stick_together(self, agent: popy.Agent) -> str | float:\n",
    "        \"\"\"Ensures that agents with a shared value on an attribute are assigned to the same\n",
    "        location instance.\"\"\"\n",
    "        return agent.id\n",
    "\n",
    "    def weight(self, agent: popy.Agent) -> float:\n",
    "        \"\"\"Defines the edge weight between the agent and the location instance.\"\"\"\n",
    "        return 1\n",
    "\n",
    "    def project_weights(self, agent1: popy.Agent, agent2: popy.Agent) -> float:\n",
    "        \"\"\"Calculates the edge weight between two agents that are assigned to the same location\n",
    "        instance.\"\"\"\n",
    "        return min([self.get_weight(agent1), self.get_weight(agent2)])\n",
    "\n",
    "    def find(self, agent: popy.Agent) -> bool:\n",
    "        \"\"\"Assigns the agent to a specific location instance that meets the requirements.\"\"\"\n",
    "        return True\n",
    "\n",
    "    def nest(self) -> popy.Location | None:\n",
    "        \"\"\"Ensures that the agents assigned to the same instance of this location class\n",
    "        are also assigned to the same instance of the returned location class.\"\"\"\n",
    "        return None\n",
    "\n",
    "    def melt(self) -> list[popy.Location] | tuple[popy.Location]:\n",
    "        \"\"\"Merges the agents assigned to the instances of the returned location classes\n",
    "        into one instance of this location class.\"\"\"\n",
    "        return []"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "377a936b",
   "metadata": {
    "slideshow": {
     "slide_type": ""
    },
    "tags": []
   },
   "source": [
    "## Generating static networks\n",
    "\n",
    "Let's start with creating a static network."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "0238c7eb",
   "metadata": {},
   "source": [
    "### Generating Agents\n",
    "\n",
    "Although the main task of Popy is connecting agents via the definition of locations, Popy can also generate agents for you based on micro-level data.\n",
    "This makes it easy to create *empirical-based* agents from, for instance, survey data.\n",
    "For the following example, we assume that we want to create a network model for schools and have access to a sample of individual data collected in a school.\n",
    "\n",
    "This is our example data:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "id": "101626ca",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>status</th>\n",
       "      <th>gender</th>\n",
       "      <th>grade</th>\n",
       "      <th>hours</th>\n",
       "      <th>friend_group</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>pupil</td>\n",
       "      <td>m</td>\n",
       "      <td>1.0</td>\n",
       "      <td>4</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>pupil</td>\n",
       "      <td>w</td>\n",
       "      <td>1.0</td>\n",
       "      <td>4</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>pupil</td>\n",
       "      <td>m</td>\n",
       "      <td>1.0</td>\n",
       "      <td>4</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>pupil</td>\n",
       "      <td>w</td>\n",
       "      <td>1.0</td>\n",
       "      <td>4</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>pupil</td>\n",
       "      <td>m</td>\n",
       "      <td>2.0</td>\n",
       "      <td>4</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  status gender  grade  hours  friend_group\n",
       "0  pupil      m    1.0      4             1\n",
       "1  pupil      w    1.0      4             1\n",
       "2  pupil      m    1.0      4             2\n",
       "3  pupil      w    1.0      4             2\n",
       "4  pupil      m    2.0      4             3"
      ]
     },
     "execution_count": 32,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import pandas as pd\n",
    "\n",
    "df_school = pd.read_csv(\"example_school_data.csv\", sep=\";\")\n",
    "df_school.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "id": "bd21a35a",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>status</th>\n",
       "      <th>gender</th>\n",
       "      <th>grade</th>\n",
       "      <th>hours</th>\n",
       "      <th>friend_group</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>37</th>\n",
       "      <td>teacher</td>\n",
       "      <td>w</td>\n",
       "      <td>NaN</td>\n",
       "      <td>9</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>38</th>\n",
       "      <td>teacher</td>\n",
       "      <td>m</td>\n",
       "      <td>NaN</td>\n",
       "      <td>10</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>39</th>\n",
       "      <td>teacher</td>\n",
       "      <td>w</td>\n",
       "      <td>NaN</td>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>40</th>\n",
       "      <td>social_worker</td>\n",
       "      <td>w</td>\n",
       "      <td>NaN</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>41</th>\n",
       "      <td>social_worker</td>\n",
       "      <td>w</td>\n",
       "      <td>NaN</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "           status gender  grade  hours  friend_group\n",
       "37        teacher      w    NaN      9             0\n",
       "38        teacher      m    NaN     10             0\n",
       "39        teacher      w    NaN      5             0\n",
       "40  social_worker      w    NaN      6             0\n",
       "41  social_worker      w    NaN      4             0"
      ]
     },
     "execution_count": 33,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df_school.tail()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "7449a00b",
   "metadata": {},
   "source": [
    "The process of generating agents (and locations) is handled by the `Creator`.\n",
    "Hence, the first step after creating a `Model` is the creation of an instance of `Creator`."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "id": "2a1b32f4",
   "metadata": {},
   "outputs": [],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "01cd7514",
   "metadata": {},
   "source": [
    "To create agents from this dataset, we can simply use the method `create_agents()`.\n",
    "This method creates one agent object for each row in the given dataset.\n",
    "Each column is translated into an agent attribute with the corresponding value."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "id": "4bc7be22",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "AgentList (42 objects)"
      ]
     },
     "execution_count": 35,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "agents = creator.create_agents(df=df_school)\n",
    "agents"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "7733a509",
   "metadata": {},
   "source": [
    "The method `create_agents()` generates an [AgentPy-AgentList](https://agentpy.readthedocs.io/en/latest/reference_sequences.html#containers) containing the instances of `popy.Agent`.\n",
    "Let's have look at the first agent:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "id": "31df6b3e",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "popy.agent.Agent"
      ]
     },
     "execution_count": 36,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "type(agents[0])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "id": "8273ceaf",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'_var_ignore': [],\n",
       " 'id': 1,\n",
       " 'type': 'Agent',\n",
       " 'log': {},\n",
       " 'model': Model,\n",
       " 'p': {},\n",
       " 'status': 'pupil',\n",
       " 'gender': 'm',\n",
       " 'grade': 1.0,\n",
       " 'hours': 4,\n",
       " 'friend_group': 1}"
      ]
     },
     "execution_count": 37,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "vars(agents[0])"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ccdbf292",
   "metadata": {},
   "source": [
    "If we do not insert an agent class via the parameter `agent_class`, the default agent class of Popy is used to create the agent instances, but we could also use our own agent class (that inherits from `popy.Agent`):"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "id": "ec1d731a",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "AgentList (42 objects)"
      ]
     },
     "execution_count": 38,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "class MyAgent(popy.Agent):\n",
    "    pass\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "agents = creator.create_agents(\n",
    "    df=df_school,\n",
    "    agent_class=MyAgent,\n",
    ")\n",
    "agents"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "id": "5520d346",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "__main__.MyAgent"
      ]
     },
     "execution_count": 39,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "type(agents[0])"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4ef35ff4",
   "metadata": {},
   "source": [
    "For now, this is enough information on how to create agents based on micro-level data using Popy.\n",
    "More useful options for the generation of agents based on micro-level data can be found in chapter *From survey participants to agents*."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d3da6672",
   "metadata": {},
   "source": [
    "### Generating locations"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a8402271",
   "metadata": {},
   "source": [
    "Now let's turn to the generation of networks.\n",
    "To generate a network with Popy, one has to define at least one `MagicLocation`.\n",
    "Those location classes are used to generate location instances which are then connected to the agent instances in order to build a bipartite network.\n",
    "We start by just using the default class of `MagicLocation` without defining any further attributes or methods.\n",
    "Every location class defined by the user must inherit - directly or indirectly - from `popy.MagicLocation`.\n",
    "We call our first location `ClassRoom`."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "id": "5cb7f58c",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Define a Location class\n",
    "class ClassRoom(popy.MagicLocation):\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "id": "823ebbc8",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'ClassRoom'"
      ]
     },
     "execution_count": 41,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import popy.utils as utils\n",
    "\n",
    "utils._get_cls_as_str(ClassRoom)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ec8d184c",
   "metadata": {},
   "source": [
    "Now we use the `Creator`-method `create_locations()` to create the location instances and - and this is important - to assign the agents to the location instances:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "id": "b4fd8dfc",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "LocationList (1 object)"
      ]
     },
     "execution_count": 42,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "creator.create_locations(location_classes=[ClassRoom])\n",
    "model.locations"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "id": "02938fce",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'_var_ignore': [],\n",
       " 'id': 1,\n",
       " 'type': 'MyAgent',\n",
       " 'log': {},\n",
       " 'model': Model,\n",
       " 'p': {},\n",
       " 'status': 'pupil',\n",
       " 'gender': 'm',\n",
       " 'grade': 1.0,\n",
       " 'hours': 4,\n",
       " 'friend_group': 1}"
      ]
     },
     "execution_count": 43,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "vars(model.agents[0])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "id": "fa3a3293",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'MyAgent'"
      ]
     },
     "execution_count": 44,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "type(model.agents[0]).__name__"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "id": "f354d685",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'ClassRoom'"
      ]
     },
     "execution_count": 45,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.locations[0].type"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "id": "3bbf5464",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "__main__.MyAgent"
      ]
     },
     "execution_count": 46,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "type(model.agents[0])"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e38041be",
   "metadata": {},
   "source": [
    "For now, we can ignore the location instances as well as the agent instances, as this part of the introduction focuses on the generation of static networks.\n",
    "The important thing is that `create_locations()` has not only created the location instances with respect to the given agent population, but has also assigned the agents to the location according to the rules specified by the location classes.\n",
    "We can check this by looking at the bipartite network:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "id": "9ad45267",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"e33beca3-f9a4-47ff-afb8-42a70b869df9\" data-root-id=\"p3017\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"86764b9c-7df1-47ec-add7-ed165e8bc6f8\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p3017\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p3019\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p3018\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p3030\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p3032\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p3024\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p3069\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p3060\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p3061\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p3062\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.5650330903954096,0.0009971706746292695],[0.21766845739648508,0.0009971706746292695],[0.8043043025747539,0.0009971706746292695],[-0.6759035265114834,0.0009971706746292695],[0.4715832927065735,0.0009971706746292695],[0.3878116197076475,0.0009971706746292695],[0.47509037802201814,0.0009971706746292695],[-0.47802006428997884,0.0009971706746292695],[-0.702879930843207,0.0009971706746292695],[0.32885416563921344,0.0009971706746292695],[-0.11074475824597377,0.0009971706746292695],[-0.8587062728872775,0.0009971706746292695],[-0.028425019410960286,0.0009971706746292695],[-0.06082448108427659,0.0009971706746292695],[0.35378828183130423,0.0009971706746292695],[0.9288603478888515,0.0009971706746292695],[0.5179587053828226,0.0009971706746292695],[0.7008110035693982,0.0009971706746292695],[0.18464757608807483,0.0009971706746292695],[-0.24324577912039613,0.0009971706746292695],[-0.7788199310116387,0.0009971706746292695],[-0.09216967987678608,0.0009971706746292695],[0.838885667969751,0.0009971706746292695],[-0.7831619354833294,0.0009971706746292695],[0.608731028746543,0.0009971706746292695],[0.676572745351362,0.0009971706746292695],[-0.4204462456221209,0.0009971706746292695],[-0.46406598166016777,0.0009971706746292695],[-0.37112127104348225,0.0009971706746292695],[0.9810548377502275,0.0009971706746292695],[-0.38021163709835276,0.0009971706746292695],[0.9447619082788432,0.0009971706746292695],[0.2082967729961162,0.0009971706746292695],[0.7364502611817204,0.0009971706746292695],[-0.9999999999999999,0.0009971706746292695],[-0.8386584153192487,0.0009971706746292695],[0.5644787269963738,0.0009971706746292695],[-0.42010399107204044,0.0009971706746292695],[-0.6684756865903437,0.0009971706746292695],[-0.9502087198967546,0.0009971706746292695],[0.11469176405114394,0.0009971706746292695],[-0.1550725973406304,0.0009971706746292695]]],[\"ys\",[[0.7271914638877318,-0.004044217738671843],[-0.9833804414255181,-0.004044217738671843],[-0.2919401821844595,-0.004044217738671843],[-0.6869155040827736,-0.004044217738671843],[0.6111024114124356,-0.004044217738671843],[0.32087387484073077,-0.004044217738671843],[0.8613879166502152,-0.004044217738671843],[0.27189096394038,-0.004044217738671843],[-0.3299423440154136,-0.004044217738671843],[-0.4065362299086866,-0.004044217738671843],[-0.4933655347110786,-0.004044217738671843],[-0.49411326924618776,-0.004044217738671843],[0.46594504772116363,-0.004044217738671843],[0.9735156684502558,-0.004044217738671843],[-0.7073341263305349,-0.004044217738671843],[0.3574453963482825,-0.004044217738671843],[-0.1509783307461495,-0.004044217738671843],[0.3981209803058261,-0.004044217738671843],[0.7041953294880705,-0.004044217738671843],[-0.965915632161881,-0.004044217738671843],[0.626875347621413,-0.004044217738671843],[-0.8293639495995121,-0.004044217738671843],[-0.5365456776969517,-0.004044217738671843],[0.41309203207811396,-0.004044217738671843],[-0.5560564290027136,-0.004044217738671843],[0.08174120748785792,-0.004044217738671843],[-0.24146968761446647,-0.004044217738671843],[-0.8472888612016087,-0.004044217738671843],[0.5613872202977278,-0.004044217738671843],[-0.15628663082608624,-0.004044217738671843],[0.9141285518116283,-0.004044217738671843],[0.0934268750651555,-0.004044217738671843],[0.9569952497070966,-0.004044217738671843],[0.6642149554371272,-0.004044217738671843],[0.07438051585102105,-0.004044217738671843],[0.21162049832932495,-0.004044217738671843],[-0.8258449326086142,-0.004044217738671843],[-0.5830503854682711,-0.004044217738671843],[-0.01948380715677672,-0.004044217738671843],[-0.19187182625472468,-0.004044217738671843],[-0.752137539134997,-0.004044217738671843],[0.7643340323845174,-0.004044217738671843]]],[\"_u\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"_v\",[43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p3070\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p3071\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p3066\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p3067\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p3068\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p3083\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p3074\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p3075\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p3076\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.0009971706746292695]],[\"ys\",[-0.004044217738671843]],[\"_node\",[43]],[\"bipartite\",[1]],[\"type\",[\"ClassRoom\"]],[\"_colormap\",[\"rgb(171, 116, 129)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p3084\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p3085\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3080\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3081\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3082\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p3095\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p3086\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p3087\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p3088\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.5650330903954096,0.21766845739648508,0.8043043025747539,-0.6759035265114834,0.4715832927065735,0.3878116197076475,0.47509037802201814,-0.47802006428997884,-0.702879930843207,0.32885416563921344,-0.11074475824597377,-0.8587062728872775,-0.028425019410960286,-0.06082448108427659,0.35378828183130423,0.9288603478888515,0.5179587053828226,0.7008110035693982,0.18464757608807483,-0.24324577912039613,-0.7788199310116387,-0.09216967987678608,0.838885667969751,-0.7831619354833294,0.608731028746543,0.676572745351362,-0.4204462456221209,-0.46406598166016777,-0.37112127104348225,0.9810548377502275,-0.38021163709835276,0.9447619082788432,0.2082967729961162,0.7364502611817204,-0.9999999999999999,-0.8386584153192487,0.5644787269963738,-0.42010399107204044,-0.6684756865903437,-0.9502087198967546,0.11469176405114394,-0.1550725973406304]],[\"ys\",[0.7271914638877318,-0.9833804414255181,-0.2919401821844595,-0.6869155040827736,0.6111024114124356,0.32087387484073077,0.8613879166502152,0.27189096394038,-0.3299423440154136,-0.4065362299086866,-0.4933655347110786,-0.49411326924618776,0.46594504772116363,0.9735156684502558,-0.7073341263305349,0.3574453963482825,-0.1509783307461495,0.3981209803058261,0.7041953294880705,-0.965915632161881,0.626875347621413,-0.8293639495995121,-0.5365456776969517,0.41309203207811396,-0.5560564290027136,0.08174120748785792,-0.24146968761446647,-0.8472888612016087,0.5613872202977278,-0.15628663082608624,0.9141285518116283,0.0934268750651555,0.9569952497070966,0.6642149554371272,0.07438051585102105,0.21162049832932495,-0.8258449326086142,-0.5830503854682711,-0.01948380715677672,-0.19187182625472468,-0.752137539134997,0.7643340323845174]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\",\"MyAgent\"]],[\"_colormap\",[\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\",\"rgb(213, 217, 38)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p3096\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p3097\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3092\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3093\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3094\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p3025\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p3048\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p3049\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p3050\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p3051\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p3052\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p3072\",\"attributes\":{\"renderers\":[{\"id\":\"p3069\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p3098\",\"attributes\":{\"renderers\":[{\"id\":\"p3083\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p3100\",\"attributes\":{\"renderers\":[{\"id\":\"p3095\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p3041\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p3042\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p3043\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p3044\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p3034\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p3035\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p3036\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p3037\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p3040\",\"attributes\":{\"axis\":{\"id\":\"p3034\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p3047\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p3041\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"86764b9c-7df1-47ec-add7-ed165e8bc6f8\",\"roots\":{\"p3017\":\"e33beca3-f9a4-47ff-afb8-42a70b869df9\"},\"root_ids\":[\"p3017\"],\"notebook_comms_target\":\"p3284\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p3017"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector = popy.NetworkInspector(model)\n",
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d7f4cf52",
   "metadata": {},
   "source": [
    "The node in the center of the graph is the location.\n",
    "All other nodes are agents.\n",
    "This means that if we use the default location class without further customization, only one location instance is created to which all agents are connected.\n",
    "Since each agent is assigned to this one location instance, the result is a fully connected agent graph:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 48,
   "id": "9bc76f96",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"c29d9ce1-75ae-4e85-a4ec-3a813c682309\" data-root-id=\"p3405\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"2630bbdf-b325-4bfe-83d6-8d2d8365d872\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p3405\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p3407\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p3406\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p3418\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p3420\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p3412\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p3457\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p3448\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p3449\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p3450\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.6620171231275511,0.2351519075583289],[-0.6620171231275511,-0.47140008109361653],[-0.6620171231275511,-0.8434784253620211],[-0.6620171231275511,-0.9625376935403327],[-0.6620171231275511,-0.274231358848509],[-0.6620171231275511,0.098296253947162],[-0.6620171231275511,-0.5826169705316491],[-0.6620171231275511,-0.6644971426550705],[-0.6620171231275511,0.35127126493971306],[-0.6620171231275511,0.13961817287267192],[-0.6620171231275511,0.921482137770154],[-0.6620171231275511,0.9719034876589169],[-0.6620171231275511,-0.09942279429089144],[-0.6620171231275511,-0.8611896661542097],[-0.6620171231275511,-0.18308458379075684],[-0.6620171231275511,0.2018809133678426],[-0.6620171231275511,-0.3007460051171552],[-0.6620171231275511,0.7171323358380279],[-0.6620171231275511,0.9096107501428639],[-0.6620171231275511,0.013701959489828455],[-0.6620171231275511,-0.5514472446742565],[-0.6620171231275511,-0.3161855013855599],[-0.6620171231275511,0.4251921287530676],[-0.6620171231275511,0.5110159899155288],[-0.6620171231275511,-0.39268482019521567],[-0.6620171231275511,0.2605124256038007],[-0.6620171231275511,-0.9342785914974836],[-0.6620171231275511,-0.022111666746082708],[-0.6620171231275511,0.6415548237060411],[-0.6620171231275511,0.4063084426984767],[-0.6620171231275511,-0.41548203373198184],[-0.6620171231275511,0.8371929606165921],[-0.6620171231275511,-0.7359006731430106],[-0.6620171231275511,0.1001718471080053],[-0.6620171231275511,0.5113682180866572],[-0.6620171231275511,0.7559835586275907],[-0.6620171231275511,-0.17457350126560106],[-0.6620171231275511,-0.6247088117514314],[-0.6620171231275511,-0.06103487473332249],[-0.6620171231275511,0.5943311005060894],[-0.6620171231275511,0.529948884428336],[0.2351519075583289,-0.47140008109361653],[0.2351519075583289,-0.8434784253620211],[0.2351519075583289,-0.9625376935403327],[0.2351519075583289,-0.274231358848509],[0.2351519075583289,0.098296253947162],[0.2351519075583289,-0.5826169705316491],[0.2351519075583289,-0.6644971426550705],[0.2351519075583289,0.35127126493971306],[0.2351519075583289,0.13961817287267192],[0.2351519075583289,0.921482137770154],[0.2351519075583289,0.9719034876589169],[0.2351519075583289,-0.09942279429089144],[0.2351519075583289,-0.8611896661542097],[0.2351519075583289,-0.18308458379075684],[0.2351519075583289,0.2018809133678426],[0.2351519075583289,-0.3007460051171552],[0.2351519075583289,0.7171323358380279],[0.2351519075583289,0.9096107501428639],[0.2351519075583289,0.013701959489828455],[0.2351519075583289,-0.5514472446742565],[0.2351519075583289,-0.3161855013855599],[0.2351519075583289,0.4251921287530676],[0.2351519075583289,0.5110159899155288],[0.2351519075583289,-0.39268482019521567],[0.2351519075583289,0.2605124256038007],[0.2351519075583289,-0.9342785914974836],[0.2351519075583289,-0.022111666746082708],[0.2351519075583289,0.6415548237060411],[0.2351519075583289,0.4063084426984767],[0.2351519075583289,-0.41548203373198184],[0.2351519075583289,0.8371929606165921],[0.2351519075583289,-0.7359006731430106],[0.2351519075583289,0.1001718471080053],[0.2351519075583289,0.5113682180866572],[0.2351519075583289,0.7559835586275907],[0.2351519075583289,-0.17457350126560106],[0.2351519075583289,-0.6247088117514314],[0.2351519075583289,-0.06103487473332249],[0.2351519075583289,0.5943311005060894],[0.2351519075583289,0.529948884428336],[-0.47140008109361653,-0.8434784253620211],[-0.47140008109361653,-0.9625376935403327],[-0.47140008109361653,-0.274231358848509],[-0.47140008109361653,0.098296253947162],[-0.47140008109361653,-0.5826169705316491],[-0.47140008109361653,-0.6644971426550705],[-0.47140008109361653,0.35127126493971306],[-0.47140008109361653,0.13961817287267192],[-0.47140008109361653,0.921482137770154],[-0.47140008109361653,0.9719034876589169],[-0.47140008109361653,-0.09942279429089144],[-0.47140008109361653,-0.8611896661542097],[-0.47140008109361653,-0.18308458379075684],[-0.47140008109361653,0.2018809133678426],[-0.47140008109361653,-0.3007460051171552],[-0.47140008109361653,0.7171323358380279],[-0.47140008109361653,0.9096107501428639],[-0.47140008109361653,0.013701959489828455],[-0.47140008109361653,-0.5514472446742565],[-0.47140008109361653,-0.3161855013855599],[-0.47140008109361653,0.4251921287530676],[-0.47140008109361653,0.5110159899155288],[-0.47140008109361653,-0.39268482019521567],[-0.47140008109361653,0.2605124256038007],[-0.47140008109361653,-0.9342785914974836],[-0.47140008109361653,-0.022111666746082708],[-0.47140008109361653,0.6415548237060411],[-0.47140008109361653,0.4063084426984767],[-0.47140008109361653,-0.41548203373198184],[-0.47140008109361653,0.8371929606165921],[-0.47140008109361653,-0.7359006731430106],[-0.47140008109361653,0.1001718471080053],[-0.47140008109361653,0.5113682180866572],[-0.47140008109361653,0.7559835586275907],[-0.47140008109361653,-0.17457350126560106],[-0.47140008109361653,-0.6247088117514314],[-0.47140008109361653,-0.06103487473332249],[-0.47140008109361653,0.5943311005060894],[-0.47140008109361653,0.529948884428336],[-0.8434784253620211,-0.9625376935403327],[-0.8434784253620211,-0.274231358848509],[-0.8434784253620211,0.098296253947162],[-0.8434784253620211,-0.5826169705316491],[-0.8434784253620211,-0.6644971426550705],[-0.8434784253620211,0.35127126493971306],[-0.8434784253620211,0.13961817287267192],[-0.8434784253620211,0.921482137770154],[-0.8434784253620211,0.9719034876589169],[-0.8434784253620211,-0.09942279429089144],[-0.8434784253620211,-0.8611896661542097],[-0.8434784253620211,-0.18308458379075684],[-0.8434784253620211,0.2018809133678426],[-0.8434784253620211,-0.3007460051171552],[-0.8434784253620211,0.7171323358380279],[-0.8434784253620211,0.9096107501428639],[-0.8434784253620211,0.013701959489828455],[-0.8434784253620211,-0.5514472446742565],[-0.8434784253620211,-0.3161855013855599],[-0.8434784253620211,0.4251921287530676],[-0.8434784253620211,0.5110159899155288],[-0.8434784253620211,-0.39268482019521567],[-0.8434784253620211,0.2605124256038007],[-0.8434784253620211,-0.9342785914974836],[-0.8434784253620211,-0.022111666746082708],[-0.8434784253620211,0.6415548237060411],[-0.8434784253620211,0.4063084426984767],[-0.8434784253620211,-0.41548203373198184],[-0.8434784253620211,0.8371929606165921],[-0.8434784253620211,-0.7359006731430106],[-0.8434784253620211,0.1001718471080053],[-0.8434784253620211,0.5113682180866572],[-0.8434784253620211,0.7559835586275907],[-0.8434784253620211,-0.17457350126560106],[-0.8434784253620211,-0.6247088117514314],[-0.8434784253620211,-0.06103487473332249],[-0.8434784253620211,0.5943311005060894],[-0.8434784253620211,0.529948884428336],[-0.9625376935403327,-0.274231358848509],[-0.9625376935403327,0.098296253947162],[-0.9625376935403327,-0.5826169705316491],[-0.9625376935403327,-0.6644971426550705],[-0.9625376935403327,0.35127126493971306],[-0.9625376935403327,0.13961817287267192],[-0.9625376935403327,0.921482137770154],[-0.9625376935403327,0.9719034876589169],[-0.9625376935403327,-0.09942279429089144],[-0.9625376935403327,-0.8611896661542097],[-0.9625376935403327,-0.18308458379075684],[-0.9625376935403327,0.2018809133678426],[-0.9625376935403327,-0.3007460051171552],[-0.9625376935403327,0.7171323358380279],[-0.9625376935403327,0.9096107501428639],[-0.9625376935403327,0.013701959489828455],[-0.9625376935403327,-0.5514472446742565],[-0.9625376935403327,-0.3161855013855599],[-0.9625376935403327,0.4251921287530676],[-0.9625376935403327,0.5110159899155288],[-0.9625376935403327,-0.39268482019521567],[-0.9625376935403327,0.2605124256038007],[-0.9625376935403327,-0.9342785914974836],[-0.9625376935403327,-0.022111666746082708],[-0.9625376935403327,0.6415548237060411],[-0.9625376935403327,0.4063084426984767],[-0.9625376935403327,-0.41548203373198184],[-0.9625376935403327,0.8371929606165921],[-0.9625376935403327,-0.7359006731430106],[-0.9625376935403327,0.1001718471080053],[-0.9625376935403327,0.5113682180866572],[-0.9625376935403327,0.7559835586275907],[-0.9625376935403327,-0.17457350126560106],[-0.9625376935403327,-0.6247088117514314],[-0.9625376935403327,-0.06103487473332249],[-0.9625376935403327,0.5943311005060894],[-0.9625376935403327,0.529948884428336],[-0.274231358848509,0.098296253947162],[-0.274231358848509,-0.5826169705316491],[-0.274231358848509,-0.6644971426550705],[-0.274231358848509,0.35127126493971306],[-0.274231358848509,0.13961817287267192],[-0.274231358848509,0.921482137770154],[-0.274231358848509,0.9719034876589169],[-0.274231358848509,-0.09942279429089144],[-0.274231358848509,-0.8611896661542097],[-0.274231358848509,-0.18308458379075684],[-0.274231358848509,0.2018809133678426],[-0.274231358848509,-0.3007460051171552],[-0.274231358848509,0.7171323358380279],[-0.274231358848509,0.9096107501428639],[-0.274231358848509,0.013701959489828455],[-0.274231358848509,-0.5514472446742565],[-0.274231358848509,-0.3161855013855599],[-0.274231358848509,0.4251921287530676],[-0.274231358848509,0.5110159899155288],[-0.274231358848509,-0.39268482019521567],[-0.274231358848509,0.2605124256038007],[-0.274231358848509,-0.9342785914974836],[-0.274231358848509,-0.022111666746082708],[-0.274231358848509,0.6415548237060411],[-0.274231358848509,0.4063084426984767],[-0.274231358848509,-0.41548203373198184],[-0.274231358848509,0.8371929606165921],[-0.274231358848509,-0.7359006731430106],[-0.274231358848509,0.1001718471080053],[-0.274231358848509,0.5113682180866572],[-0.274231358848509,0.7559835586275907],[-0.274231358848509,-0.17457350126560106],[-0.274231358848509,-0.6247088117514314],[-0.274231358848509,-0.06103487473332249],[-0.274231358848509,0.5943311005060894],[-0.274231358848509,0.529948884428336],[0.098296253947162,-0.5826169705316491],[0.098296253947162,-0.6644971426550705],[0.098296253947162,0.35127126493971306],[0.098296253947162,0.13961817287267192],[0.098296253947162,0.921482137770154],[0.098296253947162,0.9719034876589169],[0.098296253947162,-0.09942279429089144],[0.098296253947162,-0.8611896661542097],[0.098296253947162,-0.18308458379075684],[0.098296253947162,0.2018809133678426],[0.098296253947162,-0.3007460051171552],[0.098296253947162,0.7171323358380279],[0.098296253947162,0.9096107501428639],[0.098296253947162,0.013701959489828455],[0.098296253947162,-0.5514472446742565],[0.098296253947162,-0.3161855013855599],[0.098296253947162,0.4251921287530676],[0.098296253947162,0.5110159899155288],[0.098296253947162,-0.39268482019521567],[0.098296253947162,0.2605124256038007],[0.098296253947162,-0.9342785914974836],[0.098296253947162,-0.022111666746082708],[0.098296253947162,0.6415548237060411],[0.098296253947162,0.4063084426984767],[0.098296253947162,-0.41548203373198184],[0.098296253947162,0.8371929606165921],[0.098296253947162,-0.7359006731430106],[0.098296253947162,0.1001718471080053],[0.098296253947162,0.5113682180866572],[0.098296253947162,0.7559835586275907],[0.098296253947162,-0.17457350126560106],[0.098296253947162,-0.6247088117514314],[0.098296253947162,-0.06103487473332249],[0.098296253947162,0.5943311005060894],[0.098296253947162,0.529948884428336],[-0.5826169705316491,-0.6644971426550705],[-0.5826169705316491,0.35127126493971306],[-0.5826169705316491,0.13961817287267192],[-0.5826169705316491,0.921482137770154],[-0.5826169705316491,0.9719034876589169],[-0.5826169705316491,-0.09942279429089144],[-0.5826169705316491,-0.8611896661542097],[-0.5826169705316491,-0.18308458379075684],[-0.5826169705316491,0.2018809133678426],[-0.5826169705316491,-0.3007460051171552],[-0.5826169705316491,0.7171323358380279],[-0.5826169705316491,0.9096107501428639],[-0.5826169705316491,0.013701959489828455],[-0.5826169705316491,-0.5514472446742565],[-0.5826169705316491,-0.3161855013855599],[-0.5826169705316491,0.4251921287530676],[-0.5826169705316491,0.5110159899155288],[-0.5826169705316491,-0.39268482019521567],[-0.5826169705316491,0.2605124256038007],[-0.5826169705316491,-0.9342785914974836],[-0.5826169705316491,-0.022111666746082708],[-0.5826169705316491,0.6415548237060411],[-0.5826169705316491,0.4063084426984767],[-0.5826169705316491,-0.41548203373198184],[-0.5826169705316491,0.8371929606165921],[-0.5826169705316491,-0.7359006731430106],[-0.5826169705316491,0.1001718471080053],[-0.5826169705316491,0.5113682180866572],[-0.5826169705316491,0.7559835586275907],[-0.5826169705316491,-0.17457350126560106],[-0.5826169705316491,-0.6247088117514314],[-0.5826169705316491,-0.06103487473332249],[-0.5826169705316491,0.5943311005060894],[-0.5826169705316491,0.529948884428336],[-0.6644971426550705,0.35127126493971306],[-0.6644971426550705,0.13961817287267192],[-0.6644971426550705,0.921482137770154],[-0.6644971426550705,0.9719034876589169],[-0.6644971426550705,-0.09942279429089144],[-0.6644971426550705,-0.8611896661542097],[-0.6644971426550705,-0.18308458379075684],[-0.6644971426550705,0.2018809133678426],[-0.6644971426550705,-0.3007460051171552],[-0.6644971426550705,0.7171323358380279],[-0.6644971426550705,0.9096107501428639],[-0.6644971426550705,0.013701959489828455],[-0.6644971426550705,-0.5514472446742565],[-0.6644971426550705,-0.3161855013855599],[-0.6644971426550705,0.4251921287530676],[-0.6644971426550705,0.5110159899155288],[-0.6644971426550705,-0.39268482019521567],[-0.6644971426550705,0.2605124256038007],[-0.6644971426550705,-0.9342785914974836],[-0.6644971426550705,-0.022111666746082708],[-0.6644971426550705,0.6415548237060411],[-0.6644971426550705,0.4063084426984767],[-0.6644971426550705,-0.41548203373198184],[-0.6644971426550705,0.8371929606165921],[-0.6644971426550705,-0.7359006731430106],[-0.6644971426550705,0.1001718471080053],[-0.6644971426550705,0.5113682180866572],[-0.6644971426550705,0.7559835586275907],[-0.6644971426550705,-0.17457350126560106],[-0.6644971426550705,-0.6247088117514314],[-0.6644971426550705,-0.06103487473332249],[-0.6644971426550705,0.5943311005060894],[-0.6644971426550705,0.529948884428336],[0.35127126493971306,0.13961817287267192],[0.35127126493971306,0.921482137770154],[0.35127126493971306,0.9719034876589169],[0.35127126493971306,-0.09942279429089144],[0.35127126493971306,-0.8611896661542097],[0.35127126493971306,-0.18308458379075684],[0.35127126493971306,0.2018809133678426],[0.35127126493971306,-0.3007460051171552],[0.35127126493971306,0.7171323358380279],[0.35127126493971306,0.9096107501428639],[0.35127126493971306,0.013701959489828455],[0.35127126493971306,-0.5514472446742565],[0.35127126493971306,-0.3161855013855599],[0.35127126493971306,0.4251921287530676],[0.35127126493971306,0.5110159899155288],[0.35127126493971306,-0.39268482019521567],[0.35127126493971306,0.2605124256038007],[0.35127126493971306,-0.9342785914974836],[0.35127126493971306,-0.022111666746082708],[0.35127126493971306,0.6415548237060411],[0.35127126493971306,0.4063084426984767],[0.35127126493971306,-0.41548203373198184],[0.35127126493971306,0.8371929606165921],[0.35127126493971306,-0.7359006731430106],[0.35127126493971306,0.1001718471080053],[0.35127126493971306,0.5113682180866572],[0.35127126493971306,0.7559835586275907],[0.35127126493971306,-0.17457350126560106],[0.35127126493971306,-0.6247088117514314],[0.35127126493971306,-0.06103487473332249],[0.35127126493971306,0.5943311005060894],[0.35127126493971306,0.529948884428336],[0.13961817287267192,0.921482137770154],[0.13961817287267192,0.9719034876589169],[0.13961817287267192,-0.09942279429089144],[0.13961817287267192,-0.8611896661542097],[0.13961817287267192,-0.18308458379075684],[0.13961817287267192,0.2018809133678426],[0.13961817287267192,-0.3007460051171552],[0.13961817287267192,0.7171323358380279],[0.13961817287267192,0.9096107501428639],[0.13961817287267192,0.013701959489828455],[0.13961817287267192,-0.5514472446742565],[0.13961817287267192,-0.3161855013855599],[0.13961817287267192,0.4251921287530676],[0.13961817287267192,0.5110159899155288],[0.13961817287267192,-0.39268482019521567],[0.13961817287267192,0.2605124256038007],[0.13961817287267192,-0.9342785914974836],[0.13961817287267192,-0.022111666746082708],[0.13961817287267192,0.6415548237060411],[0.13961817287267192,0.4063084426984767],[0.13961817287267192,-0.41548203373198184],[0.13961817287267192,0.8371929606165921],[0.13961817287267192,-0.7359006731430106],[0.13961817287267192,0.1001718471080053],[0.13961817287267192,0.5113682180866572],[0.13961817287267192,0.7559835586275907],[0.13961817287267192,-0.17457350126560106],[0.13961817287267192,-0.6247088117514314],[0.13961817287267192,-0.06103487473332249],[0.13961817287267192,0.5943311005060894],[0.13961817287267192,0.529948884428336],[0.921482137770154,0.9719034876589169],[0.921482137770154,-0.09942279429089144],[0.921482137770154,-0.8611896661542097],[0.921482137770154,-0.18308458379075684],[0.921482137770154,0.2018809133678426],[0.921482137770154,-0.3007460051171552],[0.921482137770154,0.7171323358380279],[0.921482137770154,0.9096107501428639],[0.921482137770154,0.013701959489828455],[0.921482137770154,-0.5514472446742565],[0.921482137770154,-0.3161855013855599],[0.921482137770154,0.4251921287530676],[0.921482137770154,0.5110159899155288],[0.921482137770154,-0.39268482019521567],[0.921482137770154,0.2605124256038007],[0.921482137770154,-0.9342785914974836],[0.921482137770154,-0.022111666746082708],[0.921482137770154,0.6415548237060411],[0.921482137770154,0.4063084426984767],[0.921482137770154,-0.41548203373198184],[0.921482137770154,0.8371929606165921],[0.921482137770154,-0.7359006731430106],[0.921482137770154,0.1001718471080053],[0.921482137770154,0.5113682180866572],[0.921482137770154,0.7559835586275907],[0.921482137770154,-0.17457350126560106],[0.921482137770154,-0.6247088117514314],[0.921482137770154,-0.06103487473332249],[0.921482137770154,0.5943311005060894],[0.921482137770154,0.529948884428336],[0.9719034876589169,-0.09942279429089144],[0.9719034876589169,-0.8611896661542097],[0.9719034876589169,-0.18308458379075684],[0.9719034876589169,0.2018809133678426],[0.9719034876589169,-0.3007460051171552],[0.9719034876589169,0.7171323358380279],[0.9719034876589169,0.9096107501428639],[0.9719034876589169,0.013701959489828455],[0.9719034876589169,-0.5514472446742565],[0.9719034876589169,-0.3161855013855599],[0.9719034876589169,0.4251921287530676],[0.9719034876589169,0.5110159899155288],[0.9719034876589169,-0.39268482019521567],[0.9719034876589169,0.2605124256038007],[0.9719034876589169,-0.9342785914974836],[0.9719034876589169,-0.022111666746082708],[0.9719034876589169,0.6415548237060411],[0.9719034876589169,0.4063084426984767],[0.9719034876589169,-0.41548203373198184],[0.9719034876589169,0.8371929606165921],[0.9719034876589169,-0.7359006731430106],[0.9719034876589169,0.1001718471080053],[0.9719034876589169,0.5113682180866572],[0.9719034876589169,0.7559835586275907],[0.9719034876589169,-0.17457350126560106],[0.9719034876589169,-0.6247088117514314],[0.9719034876589169,-0.06103487473332249],[0.9719034876589169,0.5943311005060894],[0.9719034876589169,0.529948884428336],[-0.09942279429089144,-0.8611896661542097],[-0.09942279429089144,-0.18308458379075684],[-0.09942279429089144,0.2018809133678426],[-0.09942279429089144,-0.3007460051171552],[-0.09942279429089144,0.7171323358380279],[-0.09942279429089144,0.9096107501428639],[-0.09942279429089144,0.013701959489828455],[-0.09942279429089144,-0.5514472446742565],[-0.09942279429089144,-0.3161855013855599],[-0.09942279429089144,0.4251921287530676],[-0.09942279429089144,0.5110159899155288],[-0.09942279429089144,-0.39268482019521567],[-0.09942279429089144,0.2605124256038007],[-0.09942279429089144,-0.9342785914974836],[-0.09942279429089144,-0.022111666746082708],[-0.09942279429089144,0.6415548237060411],[-0.09942279429089144,0.4063084426984767],[-0.09942279429089144,-0.41548203373198184],[-0.09942279429089144,0.8371929606165921],[-0.09942279429089144,-0.7359006731430106],[-0.09942279429089144,0.1001718471080053],[-0.09942279429089144,0.5113682180866572],[-0.09942279429089144,0.7559835586275907],[-0.09942279429089144,-0.17457350126560106],[-0.09942279429089144,-0.6247088117514314],[-0.09942279429089144,-0.06103487473332249],[-0.09942279429089144,0.5943311005060894],[-0.09942279429089144,0.529948884428336],[-0.8611896661542097,-0.18308458379075684],[-0.8611896661542097,0.2018809133678426],[-0.8611896661542097,-0.3007460051171552],[-0.8611896661542097,0.7171323358380279],[-0.8611896661542097,0.9096107501428639],[-0.8611896661542097,0.013701959489828455],[-0.8611896661542097,-0.5514472446742565],[-0.8611896661542097,-0.3161855013855599],[-0.8611896661542097,0.4251921287530676],[-0.8611896661542097,0.5110159899155288],[-0.8611896661542097,-0.39268482019521567],[-0.8611896661542097,0.2605124256038007],[-0.8611896661542097,-0.9342785914974836],[-0.8611896661542097,-0.022111666746082708],[-0.8611896661542097,0.6415548237060411],[-0.8611896661542097,0.4063084426984767],[-0.8611896661542097,-0.41548203373198184],[-0.8611896661542097,0.8371929606165921],[-0.8611896661542097,-0.7359006731430106],[-0.8611896661542097,0.1001718471080053],[-0.8611896661542097,0.5113682180866572],[-0.8611896661542097,0.7559835586275907],[-0.8611896661542097,-0.17457350126560106],[-0.8611896661542097,-0.6247088117514314],[-0.8611896661542097,-0.06103487473332249],[-0.8611896661542097,0.5943311005060894],[-0.8611896661542097,0.529948884428336],[-0.18308458379075684,0.2018809133678426],[-0.18308458379075684,-0.3007460051171552],[-0.18308458379075684,0.7171323358380279],[-0.18308458379075684,0.9096107501428639],[-0.18308458379075684,0.013701959489828455],[-0.18308458379075684,-0.5514472446742565],[-0.18308458379075684,-0.3161855013855599],[-0.18308458379075684,0.4251921287530676],[-0.18308458379075684,0.5110159899155288],[-0.18308458379075684,-0.39268482019521567],[-0.18308458379075684,0.2605124256038007],[-0.18308458379075684,-0.9342785914974836],[-0.18308458379075684,-0.022111666746082708],[-0.18308458379075684,0.6415548237060411],[-0.18308458379075684,0.4063084426984767],[-0.18308458379075684,-0.41548203373198184],[-0.18308458379075684,0.8371929606165921],[-0.18308458379075684,-0.7359006731430106],[-0.18308458379075684,0.1001718471080053],[-0.18308458379075684,0.5113682180866572],[-0.18308458379075684,0.7559835586275907],[-0.18308458379075684,-0.17457350126560106],[-0.18308458379075684,-0.6247088117514314],[-0.18308458379075684,-0.06103487473332249],[-0.18308458379075684,0.5943311005060894],[-0.18308458379075684,0.529948884428336],[0.2018809133678426,-0.3007460051171552],[0.2018809133678426,0.7171323358380279],[0.2018809133678426,0.9096107501428639],[0.2018809133678426,0.013701959489828455],[0.2018809133678426,-0.5514472446742565],[0.2018809133678426,-0.3161855013855599],[0.2018809133678426,0.4251921287530676],[0.2018809133678426,0.5110159899155288],[0.2018809133678426,-0.39268482019521567],[0.2018809133678426,0.2605124256038007],[0.2018809133678426,-0.9342785914974836],[0.2018809133678426,-0.022111666746082708],[0.2018809133678426,0.6415548237060411],[0.2018809133678426,0.4063084426984767],[0.2018809133678426,-0.41548203373198184],[0.2018809133678426,0.8371929606165921],[0.2018809133678426,-0.7359006731430106],[0.2018809133678426,0.1001718471080053],[0.2018809133678426,0.5113682180866572],[0.2018809133678426,0.7559835586275907],[0.2018809133678426,-0.17457350126560106],[0.2018809133678426,-0.6247088117514314],[0.2018809133678426,-0.06103487473332249],[0.2018809133678426,0.5943311005060894],[0.2018809133678426,0.529948884428336],[-0.3007460051171552,0.7171323358380279],[-0.3007460051171552,0.9096107501428639],[-0.3007460051171552,0.013701959489828455],[-0.3007460051171552,-0.5514472446742565],[-0.3007460051171552,-0.3161855013855599],[-0.3007460051171552,0.4251921287530676],[-0.3007460051171552,0.5110159899155288],[-0.3007460051171552,-0.39268482019521567],[-0.3007460051171552,0.2605124256038007],[-0.3007460051171552,-0.9342785914974836],[-0.3007460051171552,-0.022111666746082708],[-0.3007460051171552,0.6415548237060411],[-0.3007460051171552,0.4063084426984767],[-0.3007460051171552,-0.41548203373198184],[-0.3007460051171552,0.8371929606165921],[-0.3007460051171552,-0.7359006731430106],[-0.3007460051171552,0.1001718471080053],[-0.3007460051171552,0.5113682180866572],[-0.3007460051171552,0.7559835586275907],[-0.3007460051171552,-0.17457350126560106],[-0.3007460051171552,-0.6247088117514314],[-0.3007460051171552,-0.06103487473332249],[-0.3007460051171552,0.5943311005060894],[-0.3007460051171552,0.529948884428336],[0.7171323358380279,0.9096107501428639],[0.7171323358380279,0.013701959489828455],[0.7171323358380279,-0.5514472446742565],[0.7171323358380279,-0.3161855013855599],[0.7171323358380279,0.4251921287530676],[0.7171323358380279,0.5110159899155288],[0.7171323358380279,-0.39268482019521567],[0.7171323358380279,0.2605124256038007],[0.7171323358380279,-0.9342785914974836],[0.7171323358380279,-0.022111666746082708],[0.7171323358380279,0.6415548237060411],[0.7171323358380279,0.4063084426984767],[0.7171323358380279,-0.41548203373198184],[0.7171323358380279,0.8371929606165921],[0.7171323358380279,-0.7359006731430106],[0.7171323358380279,0.1001718471080053],[0.7171323358380279,0.5113682180866572],[0.7171323358380279,0.7559835586275907],[0.7171323358380279,-0.17457350126560106],[0.7171323358380279,-0.6247088117514314],[0.7171323358380279,-0.06103487473332249],[0.7171323358380279,0.5943311005060894],[0.7171323358380279,0.529948884428336],[0.9096107501428639,0.013701959489828455],[0.9096107501428639,-0.5514472446742565],[0.9096107501428639,-0.3161855013855599],[0.9096107501428639,0.4251921287530676],[0.9096107501428639,0.5110159899155288],[0.9096107501428639,-0.39268482019521567],[0.9096107501428639,0.2605124256038007],[0.9096107501428639,-0.9342785914974836],[0.9096107501428639,-0.022111666746082708],[0.9096107501428639,0.6415548237060411],[0.9096107501428639,0.4063084426984767],[0.9096107501428639,-0.41548203373198184],[0.9096107501428639,0.8371929606165921],[0.9096107501428639,-0.7359006731430106],[0.9096107501428639,0.1001718471080053],[0.9096107501428639,0.5113682180866572],[0.9096107501428639,0.7559835586275907],[0.9096107501428639,-0.17457350126560106],[0.9096107501428639,-0.6247088117514314],[0.9096107501428639,-0.06103487473332249],[0.9096107501428639,0.5943311005060894],[0.9096107501428639,0.529948884428336],[0.013701959489828455,-0.5514472446742565],[0.013701959489828455,-0.3161855013855599],[0.013701959489828455,0.4251921287530676],[0.013701959489828455,0.5110159899155288],[0.013701959489828455,-0.39268482019521567],[0.013701959489828455,0.2605124256038007],[0.013701959489828455,-0.9342785914974836],[0.013701959489828455,-0.022111666746082708],[0.013701959489828455,0.6415548237060411],[0.013701959489828455,0.4063084426984767],[0.013701959489828455,-0.41548203373198184],[0.013701959489828455,0.8371929606165921],[0.013701959489828455,-0.7359006731430106],[0.013701959489828455,0.1001718471080053],[0.013701959489828455,0.5113682180866572],[0.013701959489828455,0.7559835586275907],[0.013701959489828455,-0.17457350126560106],[0.013701959489828455,-0.6247088117514314],[0.013701959489828455,-0.06103487473332249],[0.013701959489828455,0.5943311005060894],[0.013701959489828455,0.529948884428336],[-0.5514472446742565,-0.3161855013855599],[-0.5514472446742565,0.4251921287530676],[-0.5514472446742565,0.5110159899155288],[-0.5514472446742565,-0.39268482019521567],[-0.5514472446742565,0.2605124256038007],[-0.5514472446742565,-0.9342785914974836],[-0.5514472446742565,-0.022111666746082708],[-0.5514472446742565,0.6415548237060411],[-0.5514472446742565,0.4063084426984767],[-0.5514472446742565,-0.41548203373198184],[-0.5514472446742565,0.8371929606165921],[-0.5514472446742565,-0.7359006731430106],[-0.5514472446742565,0.1001718471080053],[-0.5514472446742565,0.5113682180866572],[-0.5514472446742565,0.7559835586275907],[-0.5514472446742565,-0.17457350126560106],[-0.5514472446742565,-0.6247088117514314],[-0.5514472446742565,-0.06103487473332249],[-0.5514472446742565,0.5943311005060894],[-0.5514472446742565,0.529948884428336],[-0.3161855013855599,0.4251921287530676],[-0.3161855013855599,0.5110159899155288],[-0.3161855013855599,-0.39268482019521567],[-0.3161855013855599,0.2605124256038007],[-0.3161855013855599,-0.9342785914974836],[-0.3161855013855599,-0.022111666746082708],[-0.3161855013855599,0.6415548237060411],[-0.3161855013855599,0.4063084426984767],[-0.3161855013855599,-0.41548203373198184],[-0.3161855013855599,0.8371929606165921],[-0.3161855013855599,-0.7359006731430106],[-0.3161855013855599,0.1001718471080053],[-0.3161855013855599,0.5113682180866572],[-0.3161855013855599,0.7559835586275907],[-0.3161855013855599,-0.17457350126560106],[-0.3161855013855599,-0.6247088117514314],[-0.3161855013855599,-0.06103487473332249],[-0.3161855013855599,0.5943311005060894],[-0.3161855013855599,0.529948884428336],[0.4251921287530676,0.5110159899155288],[0.4251921287530676,-0.39268482019521567],[0.4251921287530676,0.2605124256038007],[0.4251921287530676,-0.9342785914974836],[0.4251921287530676,-0.022111666746082708],[0.4251921287530676,0.6415548237060411],[0.4251921287530676,0.4063084426984767],[0.4251921287530676,-0.41548203373198184],[0.4251921287530676,0.8371929606165921],[0.4251921287530676,-0.7359006731430106],[0.4251921287530676,0.1001718471080053],[0.4251921287530676,0.5113682180866572],[0.4251921287530676,0.7559835586275907],[0.4251921287530676,-0.17457350126560106],[0.4251921287530676,-0.6247088117514314],[0.4251921287530676,-0.06103487473332249],[0.4251921287530676,0.5943311005060894],[0.4251921287530676,0.529948884428336],[0.5110159899155288,-0.39268482019521567],[0.5110159899155288,0.2605124256038007],[0.5110159899155288,-0.9342785914974836],[0.5110159899155288,-0.022111666746082708],[0.5110159899155288,0.6415548237060411],[0.5110159899155288,0.4063084426984767],[0.5110159899155288,-0.41548203373198184],[0.5110159899155288,0.8371929606165921],[0.5110159899155288,-0.7359006731430106],[0.5110159899155288,0.1001718471080053],[0.5110159899155288,0.5113682180866572],[0.5110159899155288,0.7559835586275907],[0.5110159899155288,-0.17457350126560106],[0.5110159899155288,-0.6247088117514314],[0.5110159899155288,-0.06103487473332249],[0.5110159899155288,0.5943311005060894],[0.5110159899155288,0.529948884428336],[-0.39268482019521567,0.2605124256038007],[-0.39268482019521567,-0.9342785914974836],[-0.39268482019521567,-0.022111666746082708],[-0.39268482019521567,0.6415548237060411],[-0.39268482019521567,0.4063084426984767],[-0.39268482019521567,-0.41548203373198184],[-0.39268482019521567,0.8371929606165921],[-0.39268482019521567,-0.7359006731430106],[-0.39268482019521567,0.1001718471080053],[-0.39268482019521567,0.5113682180866572],[-0.39268482019521567,0.7559835586275907],[-0.39268482019521567,-0.17457350126560106],[-0.39268482019521567,-0.6247088117514314],[-0.39268482019521567,-0.06103487473332249],[-0.39268482019521567,0.5943311005060894],[-0.39268482019521567,0.529948884428336],[0.2605124256038007,-0.9342785914974836],[0.2605124256038007,-0.022111666746082708],[0.2605124256038007,0.6415548237060411],[0.2605124256038007,0.4063084426984767],[0.2605124256038007,-0.41548203373198184],[0.2605124256038007,0.8371929606165921],[0.2605124256038007,-0.7359006731430106],[0.2605124256038007,0.1001718471080053],[0.2605124256038007,0.5113682180866572],[0.2605124256038007,0.7559835586275907],[0.2605124256038007,-0.17457350126560106],[0.2605124256038007,-0.6247088117514314],[0.2605124256038007,-0.06103487473332249],[0.2605124256038007,0.5943311005060894],[0.2605124256038007,0.529948884428336],[-0.9342785914974836,-0.022111666746082708],[-0.9342785914974836,0.6415548237060411],[-0.9342785914974836,0.4063084426984767],[-0.9342785914974836,-0.41548203373198184],[-0.9342785914974836,0.8371929606165921],[-0.9342785914974836,-0.7359006731430106],[-0.9342785914974836,0.1001718471080053],[-0.9342785914974836,0.5113682180866572],[-0.9342785914974836,0.7559835586275907],[-0.9342785914974836,-0.17457350126560106],[-0.9342785914974836,-0.6247088117514314],[-0.9342785914974836,-0.06103487473332249],[-0.9342785914974836,0.5943311005060894],[-0.9342785914974836,0.529948884428336],[-0.022111666746082708,0.6415548237060411],[-0.022111666746082708,0.4063084426984767],[-0.022111666746082708,-0.41548203373198184],[-0.022111666746082708,0.8371929606165921],[-0.022111666746082708,-0.7359006731430106],[-0.022111666746082708,0.1001718471080053],[-0.022111666746082708,0.5113682180866572],[-0.022111666746082708,0.7559835586275907],[-0.022111666746082708,-0.17457350126560106],[-0.022111666746082708,-0.6247088117514314],[-0.022111666746082708,-0.06103487473332249],[-0.022111666746082708,0.5943311005060894],[-0.022111666746082708,0.529948884428336],[0.6415548237060411,0.4063084426984767],[0.6415548237060411,-0.41548203373198184],[0.6415548237060411,0.8371929606165921],[0.6415548237060411,-0.7359006731430106],[0.6415548237060411,0.1001718471080053],[0.6415548237060411,0.5113682180866572],[0.6415548237060411,0.7559835586275907],[0.6415548237060411,-0.17457350126560106],[0.6415548237060411,-0.6247088117514314],[0.6415548237060411,-0.06103487473332249],[0.6415548237060411,0.5943311005060894],[0.6415548237060411,0.529948884428336],[0.4063084426984767,-0.41548203373198184],[0.4063084426984767,0.8371929606165921],[0.4063084426984767,-0.7359006731430106],[0.4063084426984767,0.1001718471080053],[0.4063084426984767,0.5113682180866572],[0.4063084426984767,0.7559835586275907],[0.4063084426984767,-0.17457350126560106],[0.4063084426984767,-0.6247088117514314],[0.4063084426984767,-0.06103487473332249],[0.4063084426984767,0.5943311005060894],[0.4063084426984767,0.529948884428336],[-0.41548203373198184,0.8371929606165921],[-0.41548203373198184,-0.7359006731430106],[-0.41548203373198184,0.1001718471080053],[-0.41548203373198184,0.5113682180866572],[-0.41548203373198184,0.7559835586275907],[-0.41548203373198184,-0.17457350126560106],[-0.41548203373198184,-0.6247088117514314],[-0.41548203373198184,-0.06103487473332249],[-0.41548203373198184,0.5943311005060894],[-0.41548203373198184,0.529948884428336],[0.8371929606165921,-0.7359006731430106],[0.8371929606165921,0.1001718471080053],[0.8371929606165921,0.5113682180866572],[0.8371929606165921,0.7559835586275907],[0.8371929606165921,-0.17457350126560106],[0.8371929606165921,-0.6247088117514314],[0.8371929606165921,-0.06103487473332249],[0.8371929606165921,0.5943311005060894],[0.8371929606165921,0.529948884428336],[-0.7359006731430106,0.1001718471080053],[-0.7359006731430106,0.5113682180866572],[-0.7359006731430106,0.7559835586275907],[-0.7359006731430106,-0.17457350126560106],[-0.7359006731430106,-0.6247088117514314],[-0.7359006731430106,-0.06103487473332249],[-0.7359006731430106,0.5943311005060894],[-0.7359006731430106,0.529948884428336],[0.1001718471080053,0.5113682180866572],[0.1001718471080053,0.7559835586275907],[0.1001718471080053,-0.17457350126560106],[0.1001718471080053,-0.6247088117514314],[0.1001718471080053,-0.06103487473332249],[0.1001718471080053,0.5943311005060894],[0.1001718471080053,0.529948884428336],[0.5113682180866572,0.7559835586275907],[0.5113682180866572,-0.17457350126560106],[0.5113682180866572,-0.6247088117514314],[0.5113682180866572,-0.06103487473332249],[0.5113682180866572,0.5943311005060894],[0.5113682180866572,0.529948884428336],[0.7559835586275907,-0.17457350126560106],[0.7559835586275907,-0.6247088117514314],[0.7559835586275907,-0.06103487473332249],[0.7559835586275907,0.5943311005060894],[0.7559835586275907,0.529948884428336],[-0.17457350126560106,-0.6247088117514314],[-0.17457350126560106,-0.06103487473332249],[-0.17457350126560106,0.5943311005060894],[-0.17457350126560106,0.529948884428336],[-0.6247088117514314,-0.06103487473332249],[-0.6247088117514314,0.5943311005060894],[-0.6247088117514314,0.529948884428336],[-0.06103487473332249,0.5943311005060894],[-0.06103487473332249,0.529948884428336],[0.5943311005060894,0.529948884428336]]],[\"ys\",[[0.1449564330626249,-0.609739683397205],[0.1449564330626249,0.3657608651131736],[0.1449564330626249,-0.13230646151041017],[0.1449564330626249,0.10186080063730599],[0.1449564330626249,-0.9031780391708841],[0.1449564330626249,-0.09393144154527208],[0.1449564330626249,-0.8583883512474646],[0.1449564330626249,-0.5786173034183711],[0.1449564330626249,-0.38596151315835014],[0.1449564330626249,0.29522985134812696],[0.1449564330626249,0.36183503346864115],[0.1449564330626249,0.03977386432513931],[0.1449564330626249,-0.5171707717390609],[0.1449564330626249,0.37620331952488056],[0.1449564330626249,-0.24712712377096024],[0.1449564330626249,0.9625699799516889],[0.1449564330626249,0.9390441613682774],[0.1449564330626249,0.1719157535637379],[0.1449564330626249,-0.218527806440866],[0.1449564330626249,-0.7717854770489481],[0.1449564330626249,0.7914393547123155],[0.1449564330626249,0.5798394795117988],[0.1449564330626249,0.21250156289164085],[0.1449564330626249,0.8313504638788761],[0.1449564330626249,-0.602810335608865],[0.1449564330626249,0.6669503374277143],[0.1449564330626249,-0.4217310144475005],[0.1449564330626249,0.5562048462001605],[0.1449564330626249,-0.33566885746734854],[0.1449564330626249,-0.8544758647433721],[0.1449564330626249,-0.04734127509292913],[0.1449564330626249,-0.5289981124792776],[0.1449564330626249,0.6023596161282075],[0.1449564330626249,-1.0],[0.1449564330626249,0.5174820598204496],[0.1449564330626249,0.6021951752940073],[0.1449564330626249,0.18236398342216711],[0.1449564330626249,-0.28542824393398836],[0.1449564330626249,0.8615968985734761],[0.1449564330626249,-0.6898463346451966],[0.1449564330626249,-0.08039982935812509],[-0.609739683397205,0.3657608651131736],[-0.609739683397205,-0.13230646151041017],[-0.609739683397205,0.10186080063730599],[-0.609739683397205,-0.9031780391708841],[-0.609739683397205,-0.09393144154527208],[-0.609739683397205,-0.8583883512474646],[-0.609739683397205,-0.5786173034183711],[-0.609739683397205,-0.38596151315835014],[-0.609739683397205,0.29522985134812696],[-0.609739683397205,0.36183503346864115],[-0.609739683397205,0.03977386432513931],[-0.609739683397205,-0.5171707717390609],[-0.609739683397205,0.37620331952488056],[-0.609739683397205,-0.24712712377096024],[-0.609739683397205,0.9625699799516889],[-0.609739683397205,0.9390441613682774],[-0.609739683397205,0.1719157535637379],[-0.609739683397205,-0.218527806440866],[-0.609739683397205,-0.7717854770489481],[-0.609739683397205,0.7914393547123155],[-0.609739683397205,0.5798394795117988],[-0.609739683397205,0.21250156289164085],[-0.609739683397205,0.8313504638788761],[-0.609739683397205,-0.602810335608865],[-0.609739683397205,0.6669503374277143],[-0.609739683397205,-0.4217310144475005],[-0.609739683397205,0.5562048462001605],[-0.609739683397205,-0.33566885746734854],[-0.609739683397205,-0.8544758647433721],[-0.609739683397205,-0.04734127509292913],[-0.609739683397205,-0.5289981124792776],[-0.609739683397205,0.6023596161282075],[-0.609739683397205,-1.0],[-0.609739683397205,0.5174820598204496],[-0.609739683397205,0.6021951752940073],[-0.609739683397205,0.18236398342216711],[-0.609739683397205,-0.28542824393398836],[-0.609739683397205,0.8615968985734761],[-0.609739683397205,-0.6898463346451966],[-0.609739683397205,-0.08039982935812509],[0.3657608651131736,-0.13230646151041017],[0.3657608651131736,0.10186080063730599],[0.3657608651131736,-0.9031780391708841],[0.3657608651131736,-0.09393144154527208],[0.3657608651131736,-0.8583883512474646],[0.3657608651131736,-0.5786173034183711],[0.3657608651131736,-0.38596151315835014],[0.3657608651131736,0.29522985134812696],[0.3657608651131736,0.36183503346864115],[0.3657608651131736,0.03977386432513931],[0.3657608651131736,-0.5171707717390609],[0.3657608651131736,0.37620331952488056],[0.3657608651131736,-0.24712712377096024],[0.3657608651131736,0.9625699799516889],[0.3657608651131736,0.9390441613682774],[0.3657608651131736,0.1719157535637379],[0.3657608651131736,-0.218527806440866],[0.3657608651131736,-0.7717854770489481],[0.3657608651131736,0.7914393547123155],[0.3657608651131736,0.5798394795117988],[0.3657608651131736,0.21250156289164085],[0.3657608651131736,0.8313504638788761],[0.3657608651131736,-0.602810335608865],[0.3657608651131736,0.6669503374277143],[0.3657608651131736,-0.4217310144475005],[0.3657608651131736,0.5562048462001605],[0.3657608651131736,-0.33566885746734854],[0.3657608651131736,-0.8544758647433721],[0.3657608651131736,-0.04734127509292913],[0.3657608651131736,-0.5289981124792776],[0.3657608651131736,0.6023596161282075],[0.3657608651131736,-1.0],[0.3657608651131736,0.5174820598204496],[0.3657608651131736,0.6021951752940073],[0.3657608651131736,0.18236398342216711],[0.3657608651131736,-0.28542824393398836],[0.3657608651131736,0.8615968985734761],[0.3657608651131736,-0.6898463346451966],[0.3657608651131736,-0.08039982935812509],[-0.13230646151041017,0.10186080063730599],[-0.13230646151041017,-0.9031780391708841],[-0.13230646151041017,-0.09393144154527208],[-0.13230646151041017,-0.8583883512474646],[-0.13230646151041017,-0.5786173034183711],[-0.13230646151041017,-0.38596151315835014],[-0.13230646151041017,0.29522985134812696],[-0.13230646151041017,0.36183503346864115],[-0.13230646151041017,0.03977386432513931],[-0.13230646151041017,-0.5171707717390609],[-0.13230646151041017,0.37620331952488056],[-0.13230646151041017,-0.24712712377096024],[-0.13230646151041017,0.9625699799516889],[-0.13230646151041017,0.9390441613682774],[-0.13230646151041017,0.1719157535637379],[-0.13230646151041017,-0.218527806440866],[-0.13230646151041017,-0.7717854770489481],[-0.13230646151041017,0.7914393547123155],[-0.13230646151041017,0.5798394795117988],[-0.13230646151041017,0.21250156289164085],[-0.13230646151041017,0.8313504638788761],[-0.13230646151041017,-0.602810335608865],[-0.13230646151041017,0.6669503374277143],[-0.13230646151041017,-0.4217310144475005],[-0.13230646151041017,0.5562048462001605],[-0.13230646151041017,-0.33566885746734854],[-0.13230646151041017,-0.8544758647433721],[-0.13230646151041017,-0.04734127509292913],[-0.13230646151041017,-0.5289981124792776],[-0.13230646151041017,0.6023596161282075],[-0.13230646151041017,-1.0],[-0.13230646151041017,0.5174820598204496],[-0.13230646151041017,0.6021951752940073],[-0.13230646151041017,0.18236398342216711],[-0.13230646151041017,-0.28542824393398836],[-0.13230646151041017,0.8615968985734761],[-0.13230646151041017,-0.6898463346451966],[-0.13230646151041017,-0.08039982935812509],[0.10186080063730599,-0.9031780391708841],[0.10186080063730599,-0.09393144154527208],[0.10186080063730599,-0.8583883512474646],[0.10186080063730599,-0.5786173034183711],[0.10186080063730599,-0.38596151315835014],[0.10186080063730599,0.29522985134812696],[0.10186080063730599,0.36183503346864115],[0.10186080063730599,0.03977386432513931],[0.10186080063730599,-0.5171707717390609],[0.10186080063730599,0.37620331952488056],[0.10186080063730599,-0.24712712377096024],[0.10186080063730599,0.9625699799516889],[0.10186080063730599,0.9390441613682774],[0.10186080063730599,0.1719157535637379],[0.10186080063730599,-0.218527806440866],[0.10186080063730599,-0.7717854770489481],[0.10186080063730599,0.7914393547123155],[0.10186080063730599,0.5798394795117988],[0.10186080063730599,0.21250156289164085],[0.10186080063730599,0.8313504638788761],[0.10186080063730599,-0.602810335608865],[0.10186080063730599,0.6669503374277143],[0.10186080063730599,-0.4217310144475005],[0.10186080063730599,0.5562048462001605],[0.10186080063730599,-0.33566885746734854],[0.10186080063730599,-0.8544758647433721],[0.10186080063730599,-0.04734127509292913],[0.10186080063730599,-0.5289981124792776],[0.10186080063730599,0.6023596161282075],[0.10186080063730599,-1.0],[0.10186080063730599,0.5174820598204496],[0.10186080063730599,0.6021951752940073],[0.10186080063730599,0.18236398342216711],[0.10186080063730599,-0.28542824393398836],[0.10186080063730599,0.8615968985734761],[0.10186080063730599,-0.6898463346451966],[0.10186080063730599,-0.08039982935812509],[-0.9031780391708841,-0.09393144154527208],[-0.9031780391708841,-0.8583883512474646],[-0.9031780391708841,-0.5786173034183711],[-0.9031780391708841,-0.38596151315835014],[-0.9031780391708841,0.29522985134812696],[-0.9031780391708841,0.36183503346864115],[-0.9031780391708841,0.03977386432513931],[-0.9031780391708841,-0.5171707717390609],[-0.9031780391708841,0.37620331952488056],[-0.9031780391708841,-0.24712712377096024],[-0.9031780391708841,0.9625699799516889],[-0.9031780391708841,0.9390441613682774],[-0.9031780391708841,0.1719157535637379],[-0.9031780391708841,-0.218527806440866],[-0.9031780391708841,-0.7717854770489481],[-0.9031780391708841,0.7914393547123155],[-0.9031780391708841,0.5798394795117988],[-0.9031780391708841,0.21250156289164085],[-0.9031780391708841,0.8313504638788761],[-0.9031780391708841,-0.602810335608865],[-0.9031780391708841,0.6669503374277143],[-0.9031780391708841,-0.4217310144475005],[-0.9031780391708841,0.5562048462001605],[-0.9031780391708841,-0.33566885746734854],[-0.9031780391708841,-0.8544758647433721],[-0.9031780391708841,-0.04734127509292913],[-0.9031780391708841,-0.5289981124792776],[-0.9031780391708841,0.6023596161282075],[-0.9031780391708841,-1.0],[-0.9031780391708841,0.5174820598204496],[-0.9031780391708841,0.6021951752940073],[-0.9031780391708841,0.18236398342216711],[-0.9031780391708841,-0.28542824393398836],[-0.9031780391708841,0.8615968985734761],[-0.9031780391708841,-0.6898463346451966],[-0.9031780391708841,-0.08039982935812509],[-0.09393144154527208,-0.8583883512474646],[-0.09393144154527208,-0.5786173034183711],[-0.09393144154527208,-0.38596151315835014],[-0.09393144154527208,0.29522985134812696],[-0.09393144154527208,0.36183503346864115],[-0.09393144154527208,0.03977386432513931],[-0.09393144154527208,-0.5171707717390609],[-0.09393144154527208,0.37620331952488056],[-0.09393144154527208,-0.24712712377096024],[-0.09393144154527208,0.9625699799516889],[-0.09393144154527208,0.9390441613682774],[-0.09393144154527208,0.1719157535637379],[-0.09393144154527208,-0.218527806440866],[-0.09393144154527208,-0.7717854770489481],[-0.09393144154527208,0.7914393547123155],[-0.09393144154527208,0.5798394795117988],[-0.09393144154527208,0.21250156289164085],[-0.09393144154527208,0.8313504638788761],[-0.09393144154527208,-0.602810335608865],[-0.09393144154527208,0.6669503374277143],[-0.09393144154527208,-0.4217310144475005],[-0.09393144154527208,0.5562048462001605],[-0.09393144154527208,-0.33566885746734854],[-0.09393144154527208,-0.8544758647433721],[-0.09393144154527208,-0.04734127509292913],[-0.09393144154527208,-0.5289981124792776],[-0.09393144154527208,0.6023596161282075],[-0.09393144154527208,-1.0],[-0.09393144154527208,0.5174820598204496],[-0.09393144154527208,0.6021951752940073],[-0.09393144154527208,0.18236398342216711],[-0.09393144154527208,-0.28542824393398836],[-0.09393144154527208,0.8615968985734761],[-0.09393144154527208,-0.6898463346451966],[-0.09393144154527208,-0.08039982935812509],[-0.8583883512474646,-0.5786173034183711],[-0.8583883512474646,-0.38596151315835014],[-0.8583883512474646,0.29522985134812696],[-0.8583883512474646,0.36183503346864115],[-0.8583883512474646,0.03977386432513931],[-0.8583883512474646,-0.5171707717390609],[-0.8583883512474646,0.37620331952488056],[-0.8583883512474646,-0.24712712377096024],[-0.8583883512474646,0.9625699799516889],[-0.8583883512474646,0.9390441613682774],[-0.8583883512474646,0.1719157535637379],[-0.8583883512474646,-0.218527806440866],[-0.8583883512474646,-0.7717854770489481],[-0.8583883512474646,0.7914393547123155],[-0.8583883512474646,0.5798394795117988],[-0.8583883512474646,0.21250156289164085],[-0.8583883512474646,0.8313504638788761],[-0.8583883512474646,-0.602810335608865],[-0.8583883512474646,0.6669503374277143],[-0.8583883512474646,-0.4217310144475005],[-0.8583883512474646,0.5562048462001605],[-0.8583883512474646,-0.33566885746734854],[-0.8583883512474646,-0.8544758647433721],[-0.8583883512474646,-0.04734127509292913],[-0.8583883512474646,-0.5289981124792776],[-0.8583883512474646,0.6023596161282075],[-0.8583883512474646,-1.0],[-0.8583883512474646,0.5174820598204496],[-0.8583883512474646,0.6021951752940073],[-0.8583883512474646,0.18236398342216711],[-0.8583883512474646,-0.28542824393398836],[-0.8583883512474646,0.8615968985734761],[-0.8583883512474646,-0.6898463346451966],[-0.8583883512474646,-0.08039982935812509],[-0.5786173034183711,-0.38596151315835014],[-0.5786173034183711,0.29522985134812696],[-0.5786173034183711,0.36183503346864115],[-0.5786173034183711,0.03977386432513931],[-0.5786173034183711,-0.5171707717390609],[-0.5786173034183711,0.37620331952488056],[-0.5786173034183711,-0.24712712377096024],[-0.5786173034183711,0.9625699799516889],[-0.5786173034183711,0.9390441613682774],[-0.5786173034183711,0.1719157535637379],[-0.5786173034183711,-0.218527806440866],[-0.5786173034183711,-0.7717854770489481],[-0.5786173034183711,0.7914393547123155],[-0.5786173034183711,0.5798394795117988],[-0.5786173034183711,0.21250156289164085],[-0.5786173034183711,0.8313504638788761],[-0.5786173034183711,-0.602810335608865],[-0.5786173034183711,0.6669503374277143],[-0.5786173034183711,-0.4217310144475005],[-0.5786173034183711,0.5562048462001605],[-0.5786173034183711,-0.33566885746734854],[-0.5786173034183711,-0.8544758647433721],[-0.5786173034183711,-0.04734127509292913],[-0.5786173034183711,-0.5289981124792776],[-0.5786173034183711,0.6023596161282075],[-0.5786173034183711,-1.0],[-0.5786173034183711,0.5174820598204496],[-0.5786173034183711,0.6021951752940073],[-0.5786173034183711,0.18236398342216711],[-0.5786173034183711,-0.28542824393398836],[-0.5786173034183711,0.8615968985734761],[-0.5786173034183711,-0.6898463346451966],[-0.5786173034183711,-0.08039982935812509],[-0.38596151315835014,0.29522985134812696],[-0.38596151315835014,0.36183503346864115],[-0.38596151315835014,0.03977386432513931],[-0.38596151315835014,-0.5171707717390609],[-0.38596151315835014,0.37620331952488056],[-0.38596151315835014,-0.24712712377096024],[-0.38596151315835014,0.9625699799516889],[-0.38596151315835014,0.9390441613682774],[-0.38596151315835014,0.1719157535637379],[-0.38596151315835014,-0.218527806440866],[-0.38596151315835014,-0.7717854770489481],[-0.38596151315835014,0.7914393547123155],[-0.38596151315835014,0.5798394795117988],[-0.38596151315835014,0.21250156289164085],[-0.38596151315835014,0.8313504638788761],[-0.38596151315835014,-0.602810335608865],[-0.38596151315835014,0.6669503374277143],[-0.38596151315835014,-0.4217310144475005],[-0.38596151315835014,0.5562048462001605],[-0.38596151315835014,-0.33566885746734854],[-0.38596151315835014,-0.8544758647433721],[-0.38596151315835014,-0.04734127509292913],[-0.38596151315835014,-0.5289981124792776],[-0.38596151315835014,0.6023596161282075],[-0.38596151315835014,-1.0],[-0.38596151315835014,0.5174820598204496],[-0.38596151315835014,0.6021951752940073],[-0.38596151315835014,0.18236398342216711],[-0.38596151315835014,-0.28542824393398836],[-0.38596151315835014,0.8615968985734761],[-0.38596151315835014,-0.6898463346451966],[-0.38596151315835014,-0.08039982935812509],[0.29522985134812696,0.36183503346864115],[0.29522985134812696,0.03977386432513931],[0.29522985134812696,-0.5171707717390609],[0.29522985134812696,0.37620331952488056],[0.29522985134812696,-0.24712712377096024],[0.29522985134812696,0.9625699799516889],[0.29522985134812696,0.9390441613682774],[0.29522985134812696,0.1719157535637379],[0.29522985134812696,-0.218527806440866],[0.29522985134812696,-0.7717854770489481],[0.29522985134812696,0.7914393547123155],[0.29522985134812696,0.5798394795117988],[0.29522985134812696,0.21250156289164085],[0.29522985134812696,0.8313504638788761],[0.29522985134812696,-0.602810335608865],[0.29522985134812696,0.6669503374277143],[0.29522985134812696,-0.4217310144475005],[0.29522985134812696,0.5562048462001605],[0.29522985134812696,-0.33566885746734854],[0.29522985134812696,-0.8544758647433721],[0.29522985134812696,-0.04734127509292913],[0.29522985134812696,-0.5289981124792776],[0.29522985134812696,0.6023596161282075],[0.29522985134812696,-1.0],[0.29522985134812696,0.5174820598204496],[0.29522985134812696,0.6021951752940073],[0.29522985134812696,0.18236398342216711],[0.29522985134812696,-0.28542824393398836],[0.29522985134812696,0.8615968985734761],[0.29522985134812696,-0.6898463346451966],[0.29522985134812696,-0.08039982935812509],[0.36183503346864115,0.03977386432513931],[0.36183503346864115,-0.5171707717390609],[0.36183503346864115,0.37620331952488056],[0.36183503346864115,-0.24712712377096024],[0.36183503346864115,0.9625699799516889],[0.36183503346864115,0.9390441613682774],[0.36183503346864115,0.1719157535637379],[0.36183503346864115,-0.218527806440866],[0.36183503346864115,-0.7717854770489481],[0.36183503346864115,0.7914393547123155],[0.36183503346864115,0.5798394795117988],[0.36183503346864115,0.21250156289164085],[0.36183503346864115,0.8313504638788761],[0.36183503346864115,-0.602810335608865],[0.36183503346864115,0.6669503374277143],[0.36183503346864115,-0.4217310144475005],[0.36183503346864115,0.5562048462001605],[0.36183503346864115,-0.33566885746734854],[0.36183503346864115,-0.8544758647433721],[0.36183503346864115,-0.04734127509292913],[0.36183503346864115,-0.5289981124792776],[0.36183503346864115,0.6023596161282075],[0.36183503346864115,-1.0],[0.36183503346864115,0.5174820598204496],[0.36183503346864115,0.6021951752940073],[0.36183503346864115,0.18236398342216711],[0.36183503346864115,-0.28542824393398836],[0.36183503346864115,0.8615968985734761],[0.36183503346864115,-0.6898463346451966],[0.36183503346864115,-0.08039982935812509],[0.03977386432513931,-0.5171707717390609],[0.03977386432513931,0.37620331952488056],[0.03977386432513931,-0.24712712377096024],[0.03977386432513931,0.9625699799516889],[0.03977386432513931,0.9390441613682774],[0.03977386432513931,0.1719157535637379],[0.03977386432513931,-0.218527806440866],[0.03977386432513931,-0.7717854770489481],[0.03977386432513931,0.7914393547123155],[0.03977386432513931,0.5798394795117988],[0.03977386432513931,0.21250156289164085],[0.03977386432513931,0.8313504638788761],[0.03977386432513931,-0.602810335608865],[0.03977386432513931,0.6669503374277143],[0.03977386432513931,-0.4217310144475005],[0.03977386432513931,0.5562048462001605],[0.03977386432513931,-0.33566885746734854],[0.03977386432513931,-0.8544758647433721],[0.03977386432513931,-0.04734127509292913],[0.03977386432513931,-0.5289981124792776],[0.03977386432513931,0.6023596161282075],[0.03977386432513931,-1.0],[0.03977386432513931,0.5174820598204496],[0.03977386432513931,0.6021951752940073],[0.03977386432513931,0.18236398342216711],[0.03977386432513931,-0.28542824393398836],[0.03977386432513931,0.8615968985734761],[0.03977386432513931,-0.6898463346451966],[0.03977386432513931,-0.08039982935812509],[-0.5171707717390609,0.37620331952488056],[-0.5171707717390609,-0.24712712377096024],[-0.5171707717390609,0.9625699799516889],[-0.5171707717390609,0.9390441613682774],[-0.5171707717390609,0.1719157535637379],[-0.5171707717390609,-0.218527806440866],[-0.5171707717390609,-0.7717854770489481],[-0.5171707717390609,0.7914393547123155],[-0.5171707717390609,0.5798394795117988],[-0.5171707717390609,0.21250156289164085],[-0.5171707717390609,0.8313504638788761],[-0.5171707717390609,-0.602810335608865],[-0.5171707717390609,0.6669503374277143],[-0.5171707717390609,-0.4217310144475005],[-0.5171707717390609,0.5562048462001605],[-0.5171707717390609,-0.33566885746734854],[-0.5171707717390609,-0.8544758647433721],[-0.5171707717390609,-0.04734127509292913],[-0.5171707717390609,-0.5289981124792776],[-0.5171707717390609,0.6023596161282075],[-0.5171707717390609,-1.0],[-0.5171707717390609,0.5174820598204496],[-0.5171707717390609,0.6021951752940073],[-0.5171707717390609,0.18236398342216711],[-0.5171707717390609,-0.28542824393398836],[-0.5171707717390609,0.8615968985734761],[-0.5171707717390609,-0.6898463346451966],[-0.5171707717390609,-0.08039982935812509],[0.37620331952488056,-0.24712712377096024],[0.37620331952488056,0.9625699799516889],[0.37620331952488056,0.9390441613682774],[0.37620331952488056,0.1719157535637379],[0.37620331952488056,-0.218527806440866],[0.37620331952488056,-0.7717854770489481],[0.37620331952488056,0.7914393547123155],[0.37620331952488056,0.5798394795117988],[0.37620331952488056,0.21250156289164085],[0.37620331952488056,0.8313504638788761],[0.37620331952488056,-0.602810335608865],[0.37620331952488056,0.6669503374277143],[0.37620331952488056,-0.4217310144475005],[0.37620331952488056,0.5562048462001605],[0.37620331952488056,-0.33566885746734854],[0.37620331952488056,-0.8544758647433721],[0.37620331952488056,-0.04734127509292913],[0.37620331952488056,-0.5289981124792776],[0.37620331952488056,0.6023596161282075],[0.37620331952488056,-1.0],[0.37620331952488056,0.5174820598204496],[0.37620331952488056,0.6021951752940073],[0.37620331952488056,0.18236398342216711],[0.37620331952488056,-0.28542824393398836],[0.37620331952488056,0.8615968985734761],[0.37620331952488056,-0.6898463346451966],[0.37620331952488056,-0.08039982935812509],[-0.24712712377096024,0.9625699799516889],[-0.24712712377096024,0.9390441613682774],[-0.24712712377096024,0.1719157535637379],[-0.24712712377096024,-0.218527806440866],[-0.24712712377096024,-0.7717854770489481],[-0.24712712377096024,0.7914393547123155],[-0.24712712377096024,0.5798394795117988],[-0.24712712377096024,0.21250156289164085],[-0.24712712377096024,0.8313504638788761],[-0.24712712377096024,-0.602810335608865],[-0.24712712377096024,0.6669503374277143],[-0.24712712377096024,-0.4217310144475005],[-0.24712712377096024,0.5562048462001605],[-0.24712712377096024,-0.33566885746734854],[-0.24712712377096024,-0.8544758647433721],[-0.24712712377096024,-0.04734127509292913],[-0.24712712377096024,-0.5289981124792776],[-0.24712712377096024,0.6023596161282075],[-0.24712712377096024,-1.0],[-0.24712712377096024,0.5174820598204496],[-0.24712712377096024,0.6021951752940073],[-0.24712712377096024,0.18236398342216711],[-0.24712712377096024,-0.28542824393398836],[-0.24712712377096024,0.8615968985734761],[-0.24712712377096024,-0.6898463346451966],[-0.24712712377096024,-0.08039982935812509],[0.9625699799516889,0.9390441613682774],[0.9625699799516889,0.1719157535637379],[0.9625699799516889,-0.218527806440866],[0.9625699799516889,-0.7717854770489481],[0.9625699799516889,0.7914393547123155],[0.9625699799516889,0.5798394795117988],[0.9625699799516889,0.21250156289164085],[0.9625699799516889,0.8313504638788761],[0.9625699799516889,-0.602810335608865],[0.9625699799516889,0.6669503374277143],[0.9625699799516889,-0.4217310144475005],[0.9625699799516889,0.5562048462001605],[0.9625699799516889,-0.33566885746734854],[0.9625699799516889,-0.8544758647433721],[0.9625699799516889,-0.04734127509292913],[0.9625699799516889,-0.5289981124792776],[0.9625699799516889,0.6023596161282075],[0.9625699799516889,-1.0],[0.9625699799516889,0.5174820598204496],[0.9625699799516889,0.6021951752940073],[0.9625699799516889,0.18236398342216711],[0.9625699799516889,-0.28542824393398836],[0.9625699799516889,0.8615968985734761],[0.9625699799516889,-0.6898463346451966],[0.9625699799516889,-0.08039982935812509],[0.9390441613682774,0.1719157535637379],[0.9390441613682774,-0.218527806440866],[0.9390441613682774,-0.7717854770489481],[0.9390441613682774,0.7914393547123155],[0.9390441613682774,0.5798394795117988],[0.9390441613682774,0.21250156289164085],[0.9390441613682774,0.8313504638788761],[0.9390441613682774,-0.602810335608865],[0.9390441613682774,0.6669503374277143],[0.9390441613682774,-0.4217310144475005],[0.9390441613682774,0.5562048462001605],[0.9390441613682774,-0.33566885746734854],[0.9390441613682774,-0.8544758647433721],[0.9390441613682774,-0.04734127509292913],[0.9390441613682774,-0.5289981124792776],[0.9390441613682774,0.6023596161282075],[0.9390441613682774,-1.0],[0.9390441613682774,0.5174820598204496],[0.9390441613682774,0.6021951752940073],[0.9390441613682774,0.18236398342216711],[0.9390441613682774,-0.28542824393398836],[0.9390441613682774,0.8615968985734761],[0.9390441613682774,-0.6898463346451966],[0.9390441613682774,-0.08039982935812509],[0.1719157535637379,-0.218527806440866],[0.1719157535637379,-0.7717854770489481],[0.1719157535637379,0.7914393547123155],[0.1719157535637379,0.5798394795117988],[0.1719157535637379,0.21250156289164085],[0.1719157535637379,0.8313504638788761],[0.1719157535637379,-0.602810335608865],[0.1719157535637379,0.6669503374277143],[0.1719157535637379,-0.4217310144475005],[0.1719157535637379,0.5562048462001605],[0.1719157535637379,-0.33566885746734854],[0.1719157535637379,-0.8544758647433721],[0.1719157535637379,-0.04734127509292913],[0.1719157535637379,-0.5289981124792776],[0.1719157535637379,0.6023596161282075],[0.1719157535637379,-1.0],[0.1719157535637379,0.5174820598204496],[0.1719157535637379,0.6021951752940073],[0.1719157535637379,0.18236398342216711],[0.1719157535637379,-0.28542824393398836],[0.1719157535637379,0.8615968985734761],[0.1719157535637379,-0.6898463346451966],[0.1719157535637379,-0.08039982935812509],[-0.218527806440866,-0.7717854770489481],[-0.218527806440866,0.7914393547123155],[-0.218527806440866,0.5798394795117988],[-0.218527806440866,0.21250156289164085],[-0.218527806440866,0.8313504638788761],[-0.218527806440866,-0.602810335608865],[-0.218527806440866,0.6669503374277143],[-0.218527806440866,-0.4217310144475005],[-0.218527806440866,0.5562048462001605],[-0.218527806440866,-0.33566885746734854],[-0.218527806440866,-0.8544758647433721],[-0.218527806440866,-0.04734127509292913],[-0.218527806440866,-0.5289981124792776],[-0.218527806440866,0.6023596161282075],[-0.218527806440866,-1.0],[-0.218527806440866,0.5174820598204496],[-0.218527806440866,0.6021951752940073],[-0.218527806440866,0.18236398342216711],[-0.218527806440866,-0.28542824393398836],[-0.218527806440866,0.8615968985734761],[-0.218527806440866,-0.6898463346451966],[-0.218527806440866,-0.08039982935812509],[-0.7717854770489481,0.7914393547123155],[-0.7717854770489481,0.5798394795117988],[-0.7717854770489481,0.21250156289164085],[-0.7717854770489481,0.8313504638788761],[-0.7717854770489481,-0.602810335608865],[-0.7717854770489481,0.6669503374277143],[-0.7717854770489481,-0.4217310144475005],[-0.7717854770489481,0.5562048462001605],[-0.7717854770489481,-0.33566885746734854],[-0.7717854770489481,-0.8544758647433721],[-0.7717854770489481,-0.04734127509292913],[-0.7717854770489481,-0.5289981124792776],[-0.7717854770489481,0.6023596161282075],[-0.7717854770489481,-1.0],[-0.7717854770489481,0.5174820598204496],[-0.7717854770489481,0.6021951752940073],[-0.7717854770489481,0.18236398342216711],[-0.7717854770489481,-0.28542824393398836],[-0.7717854770489481,0.8615968985734761],[-0.7717854770489481,-0.6898463346451966],[-0.7717854770489481,-0.08039982935812509],[0.7914393547123155,0.5798394795117988],[0.7914393547123155,0.21250156289164085],[0.7914393547123155,0.8313504638788761],[0.7914393547123155,-0.602810335608865],[0.7914393547123155,0.6669503374277143],[0.7914393547123155,-0.4217310144475005],[0.7914393547123155,0.5562048462001605],[0.7914393547123155,-0.33566885746734854],[0.7914393547123155,-0.8544758647433721],[0.7914393547123155,-0.04734127509292913],[0.7914393547123155,-0.5289981124792776],[0.7914393547123155,0.6023596161282075],[0.7914393547123155,-1.0],[0.7914393547123155,0.5174820598204496],[0.7914393547123155,0.6021951752940073],[0.7914393547123155,0.18236398342216711],[0.7914393547123155,-0.28542824393398836],[0.7914393547123155,0.8615968985734761],[0.7914393547123155,-0.6898463346451966],[0.7914393547123155,-0.08039982935812509],[0.5798394795117988,0.21250156289164085],[0.5798394795117988,0.8313504638788761],[0.5798394795117988,-0.602810335608865],[0.5798394795117988,0.6669503374277143],[0.5798394795117988,-0.4217310144475005],[0.5798394795117988,0.5562048462001605],[0.5798394795117988,-0.33566885746734854],[0.5798394795117988,-0.8544758647433721],[0.5798394795117988,-0.04734127509292913],[0.5798394795117988,-0.5289981124792776],[0.5798394795117988,0.6023596161282075],[0.5798394795117988,-1.0],[0.5798394795117988,0.5174820598204496],[0.5798394795117988,0.6021951752940073],[0.5798394795117988,0.18236398342216711],[0.5798394795117988,-0.28542824393398836],[0.5798394795117988,0.8615968985734761],[0.5798394795117988,-0.6898463346451966],[0.5798394795117988,-0.08039982935812509],[0.21250156289164085,0.8313504638788761],[0.21250156289164085,-0.602810335608865],[0.21250156289164085,0.6669503374277143],[0.21250156289164085,-0.4217310144475005],[0.21250156289164085,0.5562048462001605],[0.21250156289164085,-0.33566885746734854],[0.21250156289164085,-0.8544758647433721],[0.21250156289164085,-0.04734127509292913],[0.21250156289164085,-0.5289981124792776],[0.21250156289164085,0.6023596161282075],[0.21250156289164085,-1.0],[0.21250156289164085,0.5174820598204496],[0.21250156289164085,0.6021951752940073],[0.21250156289164085,0.18236398342216711],[0.21250156289164085,-0.28542824393398836],[0.21250156289164085,0.8615968985734761],[0.21250156289164085,-0.6898463346451966],[0.21250156289164085,-0.08039982935812509],[0.8313504638788761,-0.602810335608865],[0.8313504638788761,0.6669503374277143],[0.8313504638788761,-0.4217310144475005],[0.8313504638788761,0.5562048462001605],[0.8313504638788761,-0.33566885746734854],[0.8313504638788761,-0.8544758647433721],[0.8313504638788761,-0.04734127509292913],[0.8313504638788761,-0.5289981124792776],[0.8313504638788761,0.6023596161282075],[0.8313504638788761,-1.0],[0.8313504638788761,0.5174820598204496],[0.8313504638788761,0.6021951752940073],[0.8313504638788761,0.18236398342216711],[0.8313504638788761,-0.28542824393398836],[0.8313504638788761,0.8615968985734761],[0.8313504638788761,-0.6898463346451966],[0.8313504638788761,-0.08039982935812509],[-0.602810335608865,0.6669503374277143],[-0.602810335608865,-0.4217310144475005],[-0.602810335608865,0.5562048462001605],[-0.602810335608865,-0.33566885746734854],[-0.602810335608865,-0.8544758647433721],[-0.602810335608865,-0.04734127509292913],[-0.602810335608865,-0.5289981124792776],[-0.602810335608865,0.6023596161282075],[-0.602810335608865,-1.0],[-0.602810335608865,0.5174820598204496],[-0.602810335608865,0.6021951752940073],[-0.602810335608865,0.18236398342216711],[-0.602810335608865,-0.28542824393398836],[-0.602810335608865,0.8615968985734761],[-0.602810335608865,-0.6898463346451966],[-0.602810335608865,-0.08039982935812509],[0.6669503374277143,-0.4217310144475005],[0.6669503374277143,0.5562048462001605],[0.6669503374277143,-0.33566885746734854],[0.6669503374277143,-0.8544758647433721],[0.6669503374277143,-0.04734127509292913],[0.6669503374277143,-0.5289981124792776],[0.6669503374277143,0.6023596161282075],[0.6669503374277143,-1.0],[0.6669503374277143,0.5174820598204496],[0.6669503374277143,0.6021951752940073],[0.6669503374277143,0.18236398342216711],[0.6669503374277143,-0.28542824393398836],[0.6669503374277143,0.8615968985734761],[0.6669503374277143,-0.6898463346451966],[0.6669503374277143,-0.08039982935812509],[-0.4217310144475005,0.5562048462001605],[-0.4217310144475005,-0.33566885746734854],[-0.4217310144475005,-0.8544758647433721],[-0.4217310144475005,-0.04734127509292913],[-0.4217310144475005,-0.5289981124792776],[-0.4217310144475005,0.6023596161282075],[-0.4217310144475005,-1.0],[-0.4217310144475005,0.5174820598204496],[-0.4217310144475005,0.6021951752940073],[-0.4217310144475005,0.18236398342216711],[-0.4217310144475005,-0.28542824393398836],[-0.4217310144475005,0.8615968985734761],[-0.4217310144475005,-0.6898463346451966],[-0.4217310144475005,-0.08039982935812509],[0.5562048462001605,-0.33566885746734854],[0.5562048462001605,-0.8544758647433721],[0.5562048462001605,-0.04734127509292913],[0.5562048462001605,-0.5289981124792776],[0.5562048462001605,0.6023596161282075],[0.5562048462001605,-1.0],[0.5562048462001605,0.5174820598204496],[0.5562048462001605,0.6021951752940073],[0.5562048462001605,0.18236398342216711],[0.5562048462001605,-0.28542824393398836],[0.5562048462001605,0.8615968985734761],[0.5562048462001605,-0.6898463346451966],[0.5562048462001605,-0.08039982935812509],[-0.33566885746734854,-0.8544758647433721],[-0.33566885746734854,-0.04734127509292913],[-0.33566885746734854,-0.5289981124792776],[-0.33566885746734854,0.6023596161282075],[-0.33566885746734854,-1.0],[-0.33566885746734854,0.5174820598204496],[-0.33566885746734854,0.6021951752940073],[-0.33566885746734854,0.18236398342216711],[-0.33566885746734854,-0.28542824393398836],[-0.33566885746734854,0.8615968985734761],[-0.33566885746734854,-0.6898463346451966],[-0.33566885746734854,-0.08039982935812509],[-0.8544758647433721,-0.04734127509292913],[-0.8544758647433721,-0.5289981124792776],[-0.8544758647433721,0.6023596161282075],[-0.8544758647433721,-1.0],[-0.8544758647433721,0.5174820598204496],[-0.8544758647433721,0.6021951752940073],[-0.8544758647433721,0.18236398342216711],[-0.8544758647433721,-0.28542824393398836],[-0.8544758647433721,0.8615968985734761],[-0.8544758647433721,-0.6898463346451966],[-0.8544758647433721,-0.08039982935812509],[-0.04734127509292913,-0.5289981124792776],[-0.04734127509292913,0.6023596161282075],[-0.04734127509292913,-1.0],[-0.04734127509292913,0.5174820598204496],[-0.04734127509292913,0.6021951752940073],[-0.04734127509292913,0.18236398342216711],[-0.04734127509292913,-0.28542824393398836],[-0.04734127509292913,0.8615968985734761],[-0.04734127509292913,-0.6898463346451966],[-0.04734127509292913,-0.08039982935812509],[-0.5289981124792776,0.6023596161282075],[-0.5289981124792776,-1.0],[-0.5289981124792776,0.5174820598204496],[-0.5289981124792776,0.6021951752940073],[-0.5289981124792776,0.18236398342216711],[-0.5289981124792776,-0.28542824393398836],[-0.5289981124792776,0.8615968985734761],[-0.5289981124792776,-0.6898463346451966],[-0.5289981124792776,-0.08039982935812509],[0.6023596161282075,-1.0],[0.6023596161282075,0.5174820598204496],[0.6023596161282075,0.6021951752940073],[0.6023596161282075,0.18236398342216711],[0.6023596161282075,-0.28542824393398836],[0.6023596161282075,0.8615968985734761],[0.6023596161282075,-0.6898463346451966],[0.6023596161282075,-0.08039982935812509],[-1.0,0.5174820598204496],[-1.0,0.6021951752940073],[-1.0,0.18236398342216711],[-1.0,-0.28542824393398836],[-1.0,0.8615968985734761],[-1.0,-0.6898463346451966],[-1.0,-0.08039982935812509],[0.5174820598204496,0.6021951752940073],[0.5174820598204496,0.18236398342216711],[0.5174820598204496,-0.28542824393398836],[0.5174820598204496,0.8615968985734761],[0.5174820598204496,-0.6898463346451966],[0.5174820598204496,-0.08039982935812509],[0.6021951752940073,0.18236398342216711],[0.6021951752940073,-0.28542824393398836],[0.6021951752940073,0.8615968985734761],[0.6021951752940073,-0.6898463346451966],[0.6021951752940073,-0.08039982935812509],[0.18236398342216711,-0.28542824393398836],[0.18236398342216711,0.8615968985734761],[0.18236398342216711,-0.6898463346451966],[0.18236398342216711,-0.08039982935812509],[-0.28542824393398836,0.8615968985734761],[-0.28542824393398836,-0.6898463346451966],[-0.28542824393398836,-0.08039982935812509],[0.8615968985734761,-0.6898463346451966],[0.8615968985734761,-0.08039982935812509],[-0.6898463346451966,-0.08039982935812509]]],[\"_u\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,30,30,30,30,30,30,30,30,30,30,30,30,31,31,31,31,31,31,31,31,31,31,31,32,32,32,32,32,32,32,32,32,32,33,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,35,35,35,35,35,35,35,36,36,36,36,36,36,37,37,37,37,37,38,38,38,38,39,39,39,40,40,41]],[\"_v\",[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,29,30,31,32,33,34,35,36,37,38,39,40,41,42,30,31,32,33,34,35,36,37,38,39,40,41,42,31,32,33,34,35,36,37,38,39,40,41,42,32,33,34,35,36,37,38,39,40,41,42,33,34,35,36,37,38,39,40,41,42,34,35,36,37,38,39,40,41,42,35,36,37,38,39,40,41,42,36,37,38,39,40,41,42,37,38,39,40,41,42,38,39,40,41,42,39,40,41,42,40,41,42,41,42,42]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p3458\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p3459\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p3454\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p3455\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p3456\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p3471\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p3462\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p3463\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p3464\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.6620171231275511,0.2351519075583289,-0.47140008109361653,-0.8434784253620211,-0.9625376935403327,-0.274231358848509,0.098296253947162,-0.5826169705316491,-0.6644971426550705,0.35127126493971306,0.13961817287267192,0.921482137770154,0.9719034876589169,-0.09942279429089144,-0.8611896661542097,-0.18308458379075684,0.2018809133678426,-0.3007460051171552,0.7171323358380279,0.9096107501428639,0.013701959489828455,-0.5514472446742565,-0.3161855013855599,0.4251921287530676,0.5110159899155288,-0.39268482019521567,0.2605124256038007,-0.9342785914974836,-0.022111666746082708,0.6415548237060411,0.4063084426984767,-0.41548203373198184,0.8371929606165921,-0.7359006731430106,0.1001718471080053,0.5113682180866572,0.7559835586275907,-0.17457350126560106,-0.6247088117514314,-0.06103487473332249,0.5943311005060894,0.529948884428336]],[\"ys\",[0.1449564330626249,-0.609739683397205,0.3657608651131736,-0.13230646151041017,0.10186080063730599,-0.9031780391708841,-0.09393144154527208,-0.8583883512474646,-0.5786173034183711,-0.38596151315835014,0.29522985134812696,0.36183503346864115,0.03977386432513931,-0.5171707717390609,0.37620331952488056,-0.24712712377096024,0.9625699799516889,0.9390441613682774,0.1719157535637379,-0.218527806440866,-0.7717854770489481,0.7914393547123155,0.5798394795117988,0.21250156289164085,0.8313504638788761,-0.602810335608865,0.6669503374277143,-0.4217310144475005,0.5562048462001605,-0.33566885746734854,-0.8544758647433721,-0.04734127509292913,-0.5289981124792776,0.6023596161282075,-1.0,0.5174820598204496,0.6021951752940073,0.18236398342216711,-0.28542824393398836,0.8615968985734761,-0.6898463346451966,-0.08039982935812509]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p3472\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p3473\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3468\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3469\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3470\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p3413\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p3436\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p3437\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p3438\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p3439\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p3440\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p3460\",\"attributes\":{\"renderers\":[{\"id\":\"p3457\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p3474\",\"attributes\":{\"renderers\":[{\"id\":\"p3471\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p3429\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p3430\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p3431\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p3432\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p3422\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p3423\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p3424\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p3425\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p3428\",\"attributes\":{\"axis\":{\"id\":\"p3422\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p3435\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p3429\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"2630bbdf-b325-4bfe-83d6-8d2d8365d872\",\"roots\":{\"p3405\":\"c29d9ce1-75ae-4e85-a4ec-3a813c682309\"},\"root_ids\":[\"p3405\"],\"notebook_comms_target\":\"p3677\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p3405"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_agent_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8ce94b39",
   "metadata": {},
   "source": [
    "### Generate agents and locations in one step"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "40bb1b06",
   "metadata": {},
   "source": [
    "Before diving into all the details of the definition of location classes, let's simplify the process of generating agents and locations.\n",
    "The method `make()` combines `create_agents()` and `create_locations()` into one simple method.\n",
    "However, note that `make()` always creates the agents based on a given dataset.\n",
    "If you already have a population of agents, use `create_locations()` instead. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 49,
   "id": "8aa40fda",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(AgentList (42 objects), LocationList (1 object))"
      ]
     },
     "execution_count": 49,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "# Let the Creator create agents and locations\n",
    "creator.make(\n",
    "    df=df_school,\n",
    "    location_classes=[ClassRoom],\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 50,
   "id": "d6d54f42",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"ea0a55e3-6493-4c9b-a8a0-e21f0ad53643\" data-root-id=\"p3773\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"c972137d-f829-48d4-86ce-533a9e2727db\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p3773\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p3775\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p3774\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p3786\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p3788\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p3780\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p3825\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p3816\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p3817\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p3818\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.6265311188615228,-0.005594672818918939],[-0.6680552383863271,-0.005594672818918939],[-0.031863399317433,-0.005594672818918939],[-0.6413452968058444,-0.005594672818918939],[0.847368292593616,-0.005594672818918939],[-0.4224349583921129,-0.005594672818918939],[-0.6632377371688523,-0.005594672818918939],[0.7124702015347378,-0.005594672818918939],[0.7005198111104554,-0.005594672818918939],[-0.08180126750991383,-0.005594672818918939],[-0.8717236353470409,-0.005594672818918939],[-0.2712633664784821,-0.005594672818918939],[-0.9117422350370752,-0.005594672818918939],[0.12744859100326833,-0.005594672818918939],[-1.0,-0.005594672818918939],[-0.9306939612537496,-0.005594672818918939],[0.6458143677711652,-0.005594672818918939],[0.9129445427196161,-0.005594672818918939],[0.5781076407490356,-0.005594672818918939],[0.30596436200164434,-0.005594672818918939],[0.6173417692143648,-0.005594672818918939],[-0.7215789063458428,-0.005594672818918939],[-0.33327096937622047,-0.005594672818918939],[0.7015946347277029,-0.005594672818918939],[-0.1863151694479548,-0.005594672818918939],[-0.375830951468614,-0.005594672818918939],[-0.9289228343621231,-0.005594672818918939],[-0.2023978389953052,-0.005594672818918939],[-0.37523034736593486,-0.005594672818918939],[0.16499278244649512,-0.005594672818918939],[-0.6257934174046316,-0.005594672818918939],[0.42706276959698714,-0.005594672818918939],[0.46082548290887554,-0.005594672818918939],[0.2454218780736291,-0.005594672818918939],[0.5112066548830473,-0.005594672818918939],[0.04810295869902075,-0.005594672818918939],[-0.5310065893982173,-0.005594672818918939],[0.18745381408570402,-0.005594672818918939],[0.9682252976730905,-0.005594672818918939],[0.9931663424087128,-0.005594672818918939],[0.3296475720392863,-0.005594672818918939],[0.9209541453016635,-0.005594672818918939]]],[\"ys\",[[0.24361775976041278,0.004267589335212478],[0.7917617839185013,0.004267589335212478],[-0.9582631453879343,0.004267589335212478],[-0.04832829707920365,0.004267589335212478],[0.5149879507146377,0.004267589335212478],[0.8490331916347553,0.004267589335212478],[-0.40577823447701733,0.004267589335212478],[-0.5772318763136739,0.004267589335212478],[0.2406250317535797,0.004267589335212478],[-0.5874289182170418,0.004267589335212478],[0.4937817764146743,0.004267589335212478],[-0.9621082235133616,0.004267589335212478],[-0.19354211068729227,0.004267589335212478],[0.7332520162129601,0.004267589335212478],[0.02228243846183388,0.004267589335212478],[0.2510487079350286,0.004267589335212478],[-0.8128126040081741,0.004267589335212478],[-0.19274103413026897,0.004267589335212478],[-0.011850789149542972,0.004267589335212478],[-0.40612776097315206,0.004267589335212478],[-0.31763897982377737,0.004267589335212478],[-0.6749030733612897,0.004267589335212478],[0.391879623382433,0.004267589335212478],[0.730576930092356,0.004267589335212478],[0.669163419811091,0.004267589335212478],[-0.6646822568869828,0.004267589335212478],[-0.4459030961974925,0.004267589335212478],[0.97326744724045,0.004267589335212478],[-0.315447690543129,0.004267589335212478],[-0.7293469525408708,0.004267589335212478],[0.5678429692199691,0.004267589335212478],[-0.7801202139664699,0.004267589335212478],[0.7673246731660577,0.004267589335212478],[-0.9978070970490147,0.004267589335212478],[0.46088904835915034,0.004267589335212478],[0.9945149286595103,0.004267589335212478],[-0.862892601243865,0.004267589335212478],[0.4262273925074902,0.004267589335212478],[0.27209564241340245,0.004267589335212478],[0.01939838564789988,0.004267589335212478],[0.964340332590176,0.004267589335212478],[-0.4372240836820266,0.004267589335212478]]],[\"_u\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"_v\",[43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p3826\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p3827\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p3822\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p3823\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p3824\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p3839\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p3830\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p3831\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p3832\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.005594672818918939]],[\"ys\",[0.004267589335212478]],[\"_node\",[43]],[\"bipartite\",[1]],[\"type\",[\"ClassRoom\"]],[\"_colormap\",[\"rgb(33, 244, 99)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p3840\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p3841\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3836\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3837\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3838\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p3851\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p3842\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p3843\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p3844\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.6265311188615228,-0.6680552383863271,-0.031863399317433,-0.6413452968058444,0.847368292593616,-0.4224349583921129,-0.6632377371688523,0.7124702015347378,0.7005198111104554,-0.08180126750991383,-0.8717236353470409,-0.2712633664784821,-0.9117422350370752,0.12744859100326833,-1.0,-0.9306939612537496,0.6458143677711652,0.9129445427196161,0.5781076407490356,0.30596436200164434,0.6173417692143648,-0.7215789063458428,-0.33327096937622047,0.7015946347277029,-0.1863151694479548,-0.375830951468614,-0.9289228343621231,-0.2023978389953052,-0.37523034736593486,0.16499278244649512,-0.6257934174046316,0.42706276959698714,0.46082548290887554,0.2454218780736291,0.5112066548830473,0.04810295869902075,-0.5310065893982173,0.18745381408570402,0.9682252976730905,0.9931663424087128,0.3296475720392863,0.9209541453016635]],[\"ys\",[0.24361775976041278,0.7917617839185013,-0.9582631453879343,-0.04832829707920365,0.5149879507146377,0.8490331916347553,-0.40577823447701733,-0.5772318763136739,0.2406250317535797,-0.5874289182170418,0.4937817764146743,-0.9621082235133616,-0.19354211068729227,0.7332520162129601,0.02228243846183388,0.2510487079350286,-0.8128126040081741,-0.19274103413026897,-0.011850789149542972,-0.40612776097315206,-0.31763897982377737,-0.6749030733612897,0.391879623382433,0.730576930092356,0.669163419811091,-0.6646822568869828,-0.4459030961974925,0.97326744724045,-0.315447690543129,-0.7293469525408708,0.5678429692199691,-0.7801202139664699,0.7673246731660577,-0.9978070970490147,0.46088904835915034,0.9945149286595103,-0.862892601243865,0.4262273925074902,0.27209564241340245,0.01939838564789988,0.964340332590176,-0.4372240836820266]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\",\"rgb(209, 243, 230)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p3852\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p3853\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3848\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3849\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p3850\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p3781\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p3804\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p3805\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p3806\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p3807\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p3808\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p3828\",\"attributes\":{\"renderers\":[{\"id\":\"p3825\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p3854\",\"attributes\":{\"renderers\":[{\"id\":\"p3839\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p3856\",\"attributes\":{\"renderers\":[{\"id\":\"p3851\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p3797\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p3798\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p3799\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p3800\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p3790\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p3791\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p3792\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p3793\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p3796\",\"attributes\":{\"axis\":{\"id\":\"p3790\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p3803\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p3797\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"c972137d-f829-48d4-86ce-533a9e2727db\",\"roots\":{\"p3773\":\"ea0a55e3-6493-4c9b-a8a0-e21f0ad53643\"},\"root_ids\":[\"p3773\"],\"notebook_comms_target\":\"p4083\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p3773"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "id": "7a65c28f",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"d138d7f0-5158-4959-a54a-6c9ba8fdc1e2\" data-root-id=\"p4204\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"55fb2a03-44a8-4eaf-85b3-f5c0c3cb88c5\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p4204\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p4206\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p4205\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p4217\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p4219\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p4211\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p4256\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p4247\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p4248\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p4249\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.18161674774152897,0.7078794287291456],[-0.18161674774152897,0.038187951934460805],[-0.18161674774152897,0.8232790035569647],[-0.18161674774152897,-0.5122870046311485],[-0.18161674774152897,-0.293150458867179],[-0.18161674774152897,7.888036595417014e-05],[-0.18161674774152897,-0.8005410449837651],[-0.18161674774152897,-0.8743425998311655],[-0.18161674774152897,-0.06124117569503235],[-0.18161674774152897,0.5436861120205281],[-0.18161674774152897,0.7661729441501817],[-0.18161674774152897,0.9740366731485705],[-0.18161674774152897,-0.3096381744573441],[-0.18161674774152897,-0.8339551964654183],[-0.18161674774152897,0.563547056888136],[-0.18161674774152897,0.44203865582957186],[-0.18161674774152897,0.49484961067806676],[-0.18161674774152897,-0.551578371647232],[-0.18161674774152897,-0.47978394778970956],[-0.18161674774152897,0.29280960187784383],[-0.18161674774152897,0.8666089639895967],[-0.18161674774152897,0.31994226289154276],[-0.18161674774152897,-0.5440252395812728],[-0.18161674774152897,0.20259905687823282],[-0.18161674774152897,0.9289845450272396],[-0.18161674774152897,0.16044880375903628],[-0.18161674774152897,0.20816656569457195],[-0.18161674774152897,-0.35682377326195275],[-0.18161674774152897,-0.5408820606727],[-0.18161674774152897,-0.5924383833376823],[-0.18161674774152897,-0.8025738536455059],[-0.18161674774152897,-0.24697864586383073],[-0.18161674774152897,-1.0],[-0.18161674774152897,-0.1434100144271064],[-0.18161674774152897,-0.784443305998745],[-0.18161674774152897,0.1983441971931265],[-0.18161674774152897,-0.1509246230375257],[-0.18161674774152897,-0.0007205865154939787],[-0.18161674774152897,0.6430050980583552],[-0.18161674774152897,0.3289646887921204],[-0.18161674774152897,0.5577251069880864],[0.7078794287291456,0.038187951934460805],[0.7078794287291456,0.8232790035569647],[0.7078794287291456,-0.5122870046311485],[0.7078794287291456,-0.293150458867179],[0.7078794287291456,7.888036595417014e-05],[0.7078794287291456,-0.8005410449837651],[0.7078794287291456,-0.8743425998311655],[0.7078794287291456,-0.06124117569503235],[0.7078794287291456,0.5436861120205281],[0.7078794287291456,0.7661729441501817],[0.7078794287291456,0.9740366731485705],[0.7078794287291456,-0.3096381744573441],[0.7078794287291456,-0.8339551964654183],[0.7078794287291456,0.563547056888136],[0.7078794287291456,0.44203865582957186],[0.7078794287291456,0.49484961067806676],[0.7078794287291456,-0.551578371647232],[0.7078794287291456,-0.47978394778970956],[0.7078794287291456,0.29280960187784383],[0.7078794287291456,0.8666089639895967],[0.7078794287291456,0.31994226289154276],[0.7078794287291456,-0.5440252395812728],[0.7078794287291456,0.20259905687823282],[0.7078794287291456,0.9289845450272396],[0.7078794287291456,0.16044880375903628],[0.7078794287291456,0.20816656569457195],[0.7078794287291456,-0.35682377326195275],[0.7078794287291456,-0.5408820606727],[0.7078794287291456,-0.5924383833376823],[0.7078794287291456,-0.8025738536455059],[0.7078794287291456,-0.24697864586383073],[0.7078794287291456,-1.0],[0.7078794287291456,-0.1434100144271064],[0.7078794287291456,-0.784443305998745],[0.7078794287291456,0.1983441971931265],[0.7078794287291456,-0.1509246230375257],[0.7078794287291456,-0.0007205865154939787],[0.7078794287291456,0.6430050980583552],[0.7078794287291456,0.3289646887921204],[0.7078794287291456,0.5577251069880864],[0.038187951934460805,0.8232790035569647],[0.038187951934460805,-0.5122870046311485],[0.038187951934460805,-0.293150458867179],[0.038187951934460805,7.888036595417014e-05],[0.038187951934460805,-0.8005410449837651],[0.038187951934460805,-0.8743425998311655],[0.038187951934460805,-0.06124117569503235],[0.038187951934460805,0.5436861120205281],[0.038187951934460805,0.7661729441501817],[0.038187951934460805,0.9740366731485705],[0.038187951934460805,-0.3096381744573441],[0.038187951934460805,-0.8339551964654183],[0.038187951934460805,0.563547056888136],[0.038187951934460805,0.44203865582957186],[0.038187951934460805,0.49484961067806676],[0.038187951934460805,-0.551578371647232],[0.038187951934460805,-0.47978394778970956],[0.038187951934460805,0.29280960187784383],[0.038187951934460805,0.8666089639895967],[0.038187951934460805,0.31994226289154276],[0.038187951934460805,-0.5440252395812728],[0.038187951934460805,0.20259905687823282],[0.038187951934460805,0.9289845450272396],[0.038187951934460805,0.16044880375903628],[0.038187951934460805,0.20816656569457195],[0.038187951934460805,-0.35682377326195275],[0.038187951934460805,-0.5408820606727],[0.038187951934460805,-0.5924383833376823],[0.038187951934460805,-0.8025738536455059],[0.038187951934460805,-0.24697864586383073],[0.038187951934460805,-1.0],[0.038187951934460805,-0.1434100144271064],[0.038187951934460805,-0.784443305998745],[0.038187951934460805,0.1983441971931265],[0.038187951934460805,-0.1509246230375257],[0.038187951934460805,-0.0007205865154939787],[0.038187951934460805,0.6430050980583552],[0.038187951934460805,0.3289646887921204],[0.038187951934460805,0.5577251069880864],[0.8232790035569647,-0.5122870046311485],[0.8232790035569647,-0.293150458867179],[0.8232790035569647,7.888036595417014e-05],[0.8232790035569647,-0.8005410449837651],[0.8232790035569647,-0.8743425998311655],[0.8232790035569647,-0.06124117569503235],[0.8232790035569647,0.5436861120205281],[0.8232790035569647,0.7661729441501817],[0.8232790035569647,0.9740366731485705],[0.8232790035569647,-0.3096381744573441],[0.8232790035569647,-0.8339551964654183],[0.8232790035569647,0.563547056888136],[0.8232790035569647,0.44203865582957186],[0.8232790035569647,0.49484961067806676],[0.8232790035569647,-0.551578371647232],[0.8232790035569647,-0.47978394778970956],[0.8232790035569647,0.29280960187784383],[0.8232790035569647,0.8666089639895967],[0.8232790035569647,0.31994226289154276],[0.8232790035569647,-0.5440252395812728],[0.8232790035569647,0.20259905687823282],[0.8232790035569647,0.9289845450272396],[0.8232790035569647,0.16044880375903628],[0.8232790035569647,0.20816656569457195],[0.8232790035569647,-0.35682377326195275],[0.8232790035569647,-0.5408820606727],[0.8232790035569647,-0.5924383833376823],[0.8232790035569647,-0.8025738536455059],[0.8232790035569647,-0.24697864586383073],[0.8232790035569647,-1.0],[0.8232790035569647,-0.1434100144271064],[0.8232790035569647,-0.784443305998745],[0.8232790035569647,0.1983441971931265],[0.8232790035569647,-0.1509246230375257],[0.8232790035569647,-0.0007205865154939787],[0.8232790035569647,0.6430050980583552],[0.8232790035569647,0.3289646887921204],[0.8232790035569647,0.5577251069880864],[-0.5122870046311485,-0.293150458867179],[-0.5122870046311485,7.888036595417014e-05],[-0.5122870046311485,-0.8005410449837651],[-0.5122870046311485,-0.8743425998311655],[-0.5122870046311485,-0.06124117569503235],[-0.5122870046311485,0.5436861120205281],[-0.5122870046311485,0.7661729441501817],[-0.5122870046311485,0.9740366731485705],[-0.5122870046311485,-0.3096381744573441],[-0.5122870046311485,-0.8339551964654183],[-0.5122870046311485,0.563547056888136],[-0.5122870046311485,0.44203865582957186],[-0.5122870046311485,0.49484961067806676],[-0.5122870046311485,-0.551578371647232],[-0.5122870046311485,-0.47978394778970956],[-0.5122870046311485,0.29280960187784383],[-0.5122870046311485,0.8666089639895967],[-0.5122870046311485,0.31994226289154276],[-0.5122870046311485,-0.5440252395812728],[-0.5122870046311485,0.20259905687823282],[-0.5122870046311485,0.9289845450272396],[-0.5122870046311485,0.16044880375903628],[-0.5122870046311485,0.20816656569457195],[-0.5122870046311485,-0.35682377326195275],[-0.5122870046311485,-0.5408820606727],[-0.5122870046311485,-0.5924383833376823],[-0.5122870046311485,-0.8025738536455059],[-0.5122870046311485,-0.24697864586383073],[-0.5122870046311485,-1.0],[-0.5122870046311485,-0.1434100144271064],[-0.5122870046311485,-0.784443305998745],[-0.5122870046311485,0.1983441971931265],[-0.5122870046311485,-0.1509246230375257],[-0.5122870046311485,-0.0007205865154939787],[-0.5122870046311485,0.6430050980583552],[-0.5122870046311485,0.3289646887921204],[-0.5122870046311485,0.5577251069880864],[-0.293150458867179,7.888036595417014e-05],[-0.293150458867179,-0.8005410449837651],[-0.293150458867179,-0.8743425998311655],[-0.293150458867179,-0.06124117569503235],[-0.293150458867179,0.5436861120205281],[-0.293150458867179,0.7661729441501817],[-0.293150458867179,0.9740366731485705],[-0.293150458867179,-0.3096381744573441],[-0.293150458867179,-0.8339551964654183],[-0.293150458867179,0.563547056888136],[-0.293150458867179,0.44203865582957186],[-0.293150458867179,0.49484961067806676],[-0.293150458867179,-0.551578371647232],[-0.293150458867179,-0.47978394778970956],[-0.293150458867179,0.29280960187784383],[-0.293150458867179,0.8666089639895967],[-0.293150458867179,0.31994226289154276],[-0.293150458867179,-0.5440252395812728],[-0.293150458867179,0.20259905687823282],[-0.293150458867179,0.9289845450272396],[-0.293150458867179,0.16044880375903628],[-0.293150458867179,0.20816656569457195],[-0.293150458867179,-0.35682377326195275],[-0.293150458867179,-0.5408820606727],[-0.293150458867179,-0.5924383833376823],[-0.293150458867179,-0.8025738536455059],[-0.293150458867179,-0.24697864586383073],[-0.293150458867179,-1.0],[-0.293150458867179,-0.1434100144271064],[-0.293150458867179,-0.784443305998745],[-0.293150458867179,0.1983441971931265],[-0.293150458867179,-0.1509246230375257],[-0.293150458867179,-0.0007205865154939787],[-0.293150458867179,0.6430050980583552],[-0.293150458867179,0.3289646887921204],[-0.293150458867179,0.5577251069880864],[7.888036595417014e-05,-0.8005410449837651],[7.888036595417014e-05,-0.8743425998311655],[7.888036595417014e-05,-0.06124117569503235],[7.888036595417014e-05,0.5436861120205281],[7.888036595417014e-05,0.7661729441501817],[7.888036595417014e-05,0.9740366731485705],[7.888036595417014e-05,-0.3096381744573441],[7.888036595417014e-05,-0.8339551964654183],[7.888036595417014e-05,0.563547056888136],[7.888036595417014e-05,0.44203865582957186],[7.888036595417014e-05,0.49484961067806676],[7.888036595417014e-05,-0.551578371647232],[7.888036595417014e-05,-0.47978394778970956],[7.888036595417014e-05,0.29280960187784383],[7.888036595417014e-05,0.8666089639895967],[7.888036595417014e-05,0.31994226289154276],[7.888036595417014e-05,-0.5440252395812728],[7.888036595417014e-05,0.20259905687823282],[7.888036595417014e-05,0.9289845450272396],[7.888036595417014e-05,0.16044880375903628],[7.888036595417014e-05,0.20816656569457195],[7.888036595417014e-05,-0.35682377326195275],[7.888036595417014e-05,-0.5408820606727],[7.888036595417014e-05,-0.5924383833376823],[7.888036595417014e-05,-0.8025738536455059],[7.888036595417014e-05,-0.24697864586383073],[7.888036595417014e-05,-1.0],[7.888036595417014e-05,-0.1434100144271064],[7.888036595417014e-05,-0.784443305998745],[7.888036595417014e-05,0.1983441971931265],[7.888036595417014e-05,-0.1509246230375257],[7.888036595417014e-05,-0.0007205865154939787],[7.888036595417014e-05,0.6430050980583552],[7.888036595417014e-05,0.3289646887921204],[7.888036595417014e-05,0.5577251069880864],[-0.8005410449837651,-0.8743425998311655],[-0.8005410449837651,-0.06124117569503235],[-0.8005410449837651,0.5436861120205281],[-0.8005410449837651,0.7661729441501817],[-0.8005410449837651,0.9740366731485705],[-0.8005410449837651,-0.3096381744573441],[-0.8005410449837651,-0.8339551964654183],[-0.8005410449837651,0.563547056888136],[-0.8005410449837651,0.44203865582957186],[-0.8005410449837651,0.49484961067806676],[-0.8005410449837651,-0.551578371647232],[-0.8005410449837651,-0.47978394778970956],[-0.8005410449837651,0.29280960187784383],[-0.8005410449837651,0.8666089639895967],[-0.8005410449837651,0.31994226289154276],[-0.8005410449837651,-0.5440252395812728],[-0.8005410449837651,0.20259905687823282],[-0.8005410449837651,0.9289845450272396],[-0.8005410449837651,0.16044880375903628],[-0.8005410449837651,0.20816656569457195],[-0.8005410449837651,-0.35682377326195275],[-0.8005410449837651,-0.5408820606727],[-0.8005410449837651,-0.5924383833376823],[-0.8005410449837651,-0.8025738536455059],[-0.8005410449837651,-0.24697864586383073],[-0.8005410449837651,-1.0],[-0.8005410449837651,-0.1434100144271064],[-0.8005410449837651,-0.784443305998745],[-0.8005410449837651,0.1983441971931265],[-0.8005410449837651,-0.1509246230375257],[-0.8005410449837651,-0.0007205865154939787],[-0.8005410449837651,0.6430050980583552],[-0.8005410449837651,0.3289646887921204],[-0.8005410449837651,0.5577251069880864],[-0.8743425998311655,-0.06124117569503235],[-0.8743425998311655,0.5436861120205281],[-0.8743425998311655,0.7661729441501817],[-0.8743425998311655,0.9740366731485705],[-0.8743425998311655,-0.3096381744573441],[-0.8743425998311655,-0.8339551964654183],[-0.8743425998311655,0.563547056888136],[-0.8743425998311655,0.44203865582957186],[-0.8743425998311655,0.49484961067806676],[-0.8743425998311655,-0.551578371647232],[-0.8743425998311655,-0.47978394778970956],[-0.8743425998311655,0.29280960187784383],[-0.8743425998311655,0.8666089639895967],[-0.8743425998311655,0.31994226289154276],[-0.8743425998311655,-0.5440252395812728],[-0.8743425998311655,0.20259905687823282],[-0.8743425998311655,0.9289845450272396],[-0.8743425998311655,0.16044880375903628],[-0.8743425998311655,0.20816656569457195],[-0.8743425998311655,-0.35682377326195275],[-0.8743425998311655,-0.5408820606727],[-0.8743425998311655,-0.5924383833376823],[-0.8743425998311655,-0.8025738536455059],[-0.8743425998311655,-0.24697864586383073],[-0.8743425998311655,-1.0],[-0.8743425998311655,-0.1434100144271064],[-0.8743425998311655,-0.784443305998745],[-0.8743425998311655,0.1983441971931265],[-0.8743425998311655,-0.1509246230375257],[-0.8743425998311655,-0.0007205865154939787],[-0.8743425998311655,0.6430050980583552],[-0.8743425998311655,0.3289646887921204],[-0.8743425998311655,0.5577251069880864],[-0.06124117569503235,0.5436861120205281],[-0.06124117569503235,0.7661729441501817],[-0.06124117569503235,0.9740366731485705],[-0.06124117569503235,-0.3096381744573441],[-0.06124117569503235,-0.8339551964654183],[-0.06124117569503235,0.563547056888136],[-0.06124117569503235,0.44203865582957186],[-0.06124117569503235,0.49484961067806676],[-0.06124117569503235,-0.551578371647232],[-0.06124117569503235,-0.47978394778970956],[-0.06124117569503235,0.29280960187784383],[-0.06124117569503235,0.8666089639895967],[-0.06124117569503235,0.31994226289154276],[-0.06124117569503235,-0.5440252395812728],[-0.06124117569503235,0.20259905687823282],[-0.06124117569503235,0.9289845450272396],[-0.06124117569503235,0.16044880375903628],[-0.06124117569503235,0.20816656569457195],[-0.06124117569503235,-0.35682377326195275],[-0.06124117569503235,-0.5408820606727],[-0.06124117569503235,-0.5924383833376823],[-0.06124117569503235,-0.8025738536455059],[-0.06124117569503235,-0.24697864586383073],[-0.06124117569503235,-1.0],[-0.06124117569503235,-0.1434100144271064],[-0.06124117569503235,-0.784443305998745],[-0.06124117569503235,0.1983441971931265],[-0.06124117569503235,-0.1509246230375257],[-0.06124117569503235,-0.0007205865154939787],[-0.06124117569503235,0.6430050980583552],[-0.06124117569503235,0.3289646887921204],[-0.06124117569503235,0.5577251069880864],[0.5436861120205281,0.7661729441501817],[0.5436861120205281,0.9740366731485705],[0.5436861120205281,-0.3096381744573441],[0.5436861120205281,-0.8339551964654183],[0.5436861120205281,0.563547056888136],[0.5436861120205281,0.44203865582957186],[0.5436861120205281,0.49484961067806676],[0.5436861120205281,-0.551578371647232],[0.5436861120205281,-0.47978394778970956],[0.5436861120205281,0.29280960187784383],[0.5436861120205281,0.8666089639895967],[0.5436861120205281,0.31994226289154276],[0.5436861120205281,-0.5440252395812728],[0.5436861120205281,0.20259905687823282],[0.5436861120205281,0.9289845450272396],[0.5436861120205281,0.16044880375903628],[0.5436861120205281,0.20816656569457195],[0.5436861120205281,-0.35682377326195275],[0.5436861120205281,-0.5408820606727],[0.5436861120205281,-0.5924383833376823],[0.5436861120205281,-0.8025738536455059],[0.5436861120205281,-0.24697864586383073],[0.5436861120205281,-1.0],[0.5436861120205281,-0.1434100144271064],[0.5436861120205281,-0.784443305998745],[0.5436861120205281,0.1983441971931265],[0.5436861120205281,-0.1509246230375257],[0.5436861120205281,-0.0007205865154939787],[0.5436861120205281,0.6430050980583552],[0.5436861120205281,0.3289646887921204],[0.5436861120205281,0.5577251069880864],[0.7661729441501817,0.9740366731485705],[0.7661729441501817,-0.3096381744573441],[0.7661729441501817,-0.8339551964654183],[0.7661729441501817,0.563547056888136],[0.7661729441501817,0.44203865582957186],[0.7661729441501817,0.49484961067806676],[0.7661729441501817,-0.551578371647232],[0.7661729441501817,-0.47978394778970956],[0.7661729441501817,0.29280960187784383],[0.7661729441501817,0.8666089639895967],[0.7661729441501817,0.31994226289154276],[0.7661729441501817,-0.5440252395812728],[0.7661729441501817,0.20259905687823282],[0.7661729441501817,0.9289845450272396],[0.7661729441501817,0.16044880375903628],[0.7661729441501817,0.20816656569457195],[0.7661729441501817,-0.35682377326195275],[0.7661729441501817,-0.5408820606727],[0.7661729441501817,-0.5924383833376823],[0.7661729441501817,-0.8025738536455059],[0.7661729441501817,-0.24697864586383073],[0.7661729441501817,-1.0],[0.7661729441501817,-0.1434100144271064],[0.7661729441501817,-0.784443305998745],[0.7661729441501817,0.1983441971931265],[0.7661729441501817,-0.1509246230375257],[0.7661729441501817,-0.0007205865154939787],[0.7661729441501817,0.6430050980583552],[0.7661729441501817,0.3289646887921204],[0.7661729441501817,0.5577251069880864],[0.9740366731485705,-0.3096381744573441],[0.9740366731485705,-0.8339551964654183],[0.9740366731485705,0.563547056888136],[0.9740366731485705,0.44203865582957186],[0.9740366731485705,0.49484961067806676],[0.9740366731485705,-0.551578371647232],[0.9740366731485705,-0.47978394778970956],[0.9740366731485705,0.29280960187784383],[0.9740366731485705,0.8666089639895967],[0.9740366731485705,0.31994226289154276],[0.9740366731485705,-0.5440252395812728],[0.9740366731485705,0.20259905687823282],[0.9740366731485705,0.9289845450272396],[0.9740366731485705,0.16044880375903628],[0.9740366731485705,0.20816656569457195],[0.9740366731485705,-0.35682377326195275],[0.9740366731485705,-0.5408820606727],[0.9740366731485705,-0.5924383833376823],[0.9740366731485705,-0.8025738536455059],[0.9740366731485705,-0.24697864586383073],[0.9740366731485705,-1.0],[0.9740366731485705,-0.1434100144271064],[0.9740366731485705,-0.784443305998745],[0.9740366731485705,0.1983441971931265],[0.9740366731485705,-0.1509246230375257],[0.9740366731485705,-0.0007205865154939787],[0.9740366731485705,0.6430050980583552],[0.9740366731485705,0.3289646887921204],[0.9740366731485705,0.5577251069880864],[-0.3096381744573441,-0.8339551964654183],[-0.3096381744573441,0.563547056888136],[-0.3096381744573441,0.44203865582957186],[-0.3096381744573441,0.49484961067806676],[-0.3096381744573441,-0.551578371647232],[-0.3096381744573441,-0.47978394778970956],[-0.3096381744573441,0.29280960187784383],[-0.3096381744573441,0.8666089639895967],[-0.3096381744573441,0.31994226289154276],[-0.3096381744573441,-0.5440252395812728],[-0.3096381744573441,0.20259905687823282],[-0.3096381744573441,0.9289845450272396],[-0.3096381744573441,0.16044880375903628],[-0.3096381744573441,0.20816656569457195],[-0.3096381744573441,-0.35682377326195275],[-0.3096381744573441,-0.5408820606727],[-0.3096381744573441,-0.5924383833376823],[-0.3096381744573441,-0.8025738536455059],[-0.3096381744573441,-0.24697864586383073],[-0.3096381744573441,-1.0],[-0.3096381744573441,-0.1434100144271064],[-0.3096381744573441,-0.784443305998745],[-0.3096381744573441,0.1983441971931265],[-0.3096381744573441,-0.1509246230375257],[-0.3096381744573441,-0.0007205865154939787],[-0.3096381744573441,0.6430050980583552],[-0.3096381744573441,0.3289646887921204],[-0.3096381744573441,0.5577251069880864],[-0.8339551964654183,0.563547056888136],[-0.8339551964654183,0.44203865582957186],[-0.8339551964654183,0.49484961067806676],[-0.8339551964654183,-0.551578371647232],[-0.8339551964654183,-0.47978394778970956],[-0.8339551964654183,0.29280960187784383],[-0.8339551964654183,0.8666089639895967],[-0.8339551964654183,0.31994226289154276],[-0.8339551964654183,-0.5440252395812728],[-0.8339551964654183,0.20259905687823282],[-0.8339551964654183,0.9289845450272396],[-0.8339551964654183,0.16044880375903628],[-0.8339551964654183,0.20816656569457195],[-0.8339551964654183,-0.35682377326195275],[-0.8339551964654183,-0.5408820606727],[-0.8339551964654183,-0.5924383833376823],[-0.8339551964654183,-0.8025738536455059],[-0.8339551964654183,-0.24697864586383073],[-0.8339551964654183,-1.0],[-0.8339551964654183,-0.1434100144271064],[-0.8339551964654183,-0.784443305998745],[-0.8339551964654183,0.1983441971931265],[-0.8339551964654183,-0.1509246230375257],[-0.8339551964654183,-0.0007205865154939787],[-0.8339551964654183,0.6430050980583552],[-0.8339551964654183,0.3289646887921204],[-0.8339551964654183,0.5577251069880864],[0.563547056888136,0.44203865582957186],[0.563547056888136,0.49484961067806676],[0.563547056888136,-0.551578371647232],[0.563547056888136,-0.47978394778970956],[0.563547056888136,0.29280960187784383],[0.563547056888136,0.8666089639895967],[0.563547056888136,0.31994226289154276],[0.563547056888136,-0.5440252395812728],[0.563547056888136,0.20259905687823282],[0.563547056888136,0.9289845450272396],[0.563547056888136,0.16044880375903628],[0.563547056888136,0.20816656569457195],[0.563547056888136,-0.35682377326195275],[0.563547056888136,-0.5408820606727],[0.563547056888136,-0.5924383833376823],[0.563547056888136,-0.8025738536455059],[0.563547056888136,-0.24697864586383073],[0.563547056888136,-1.0],[0.563547056888136,-0.1434100144271064],[0.563547056888136,-0.784443305998745],[0.563547056888136,0.1983441971931265],[0.563547056888136,-0.1509246230375257],[0.563547056888136,-0.0007205865154939787],[0.563547056888136,0.6430050980583552],[0.563547056888136,0.3289646887921204],[0.563547056888136,0.5577251069880864],[0.44203865582957186,0.49484961067806676],[0.44203865582957186,-0.551578371647232],[0.44203865582957186,-0.47978394778970956],[0.44203865582957186,0.29280960187784383],[0.44203865582957186,0.8666089639895967],[0.44203865582957186,0.31994226289154276],[0.44203865582957186,-0.5440252395812728],[0.44203865582957186,0.20259905687823282],[0.44203865582957186,0.9289845450272396],[0.44203865582957186,0.16044880375903628],[0.44203865582957186,0.20816656569457195],[0.44203865582957186,-0.35682377326195275],[0.44203865582957186,-0.5408820606727],[0.44203865582957186,-0.5924383833376823],[0.44203865582957186,-0.8025738536455059],[0.44203865582957186,-0.24697864586383073],[0.44203865582957186,-1.0],[0.44203865582957186,-0.1434100144271064],[0.44203865582957186,-0.784443305998745],[0.44203865582957186,0.1983441971931265],[0.44203865582957186,-0.1509246230375257],[0.44203865582957186,-0.0007205865154939787],[0.44203865582957186,0.6430050980583552],[0.44203865582957186,0.3289646887921204],[0.44203865582957186,0.5577251069880864],[0.49484961067806676,-0.551578371647232],[0.49484961067806676,-0.47978394778970956],[0.49484961067806676,0.29280960187784383],[0.49484961067806676,0.8666089639895967],[0.49484961067806676,0.31994226289154276],[0.49484961067806676,-0.5440252395812728],[0.49484961067806676,0.20259905687823282],[0.49484961067806676,0.9289845450272396],[0.49484961067806676,0.16044880375903628],[0.49484961067806676,0.20816656569457195],[0.49484961067806676,-0.35682377326195275],[0.49484961067806676,-0.5408820606727],[0.49484961067806676,-0.5924383833376823],[0.49484961067806676,-0.8025738536455059],[0.49484961067806676,-0.24697864586383073],[0.49484961067806676,-1.0],[0.49484961067806676,-0.1434100144271064],[0.49484961067806676,-0.784443305998745],[0.49484961067806676,0.1983441971931265],[0.49484961067806676,-0.1509246230375257],[0.49484961067806676,-0.0007205865154939787],[0.49484961067806676,0.6430050980583552],[0.49484961067806676,0.3289646887921204],[0.49484961067806676,0.5577251069880864],[-0.551578371647232,-0.47978394778970956],[-0.551578371647232,0.29280960187784383],[-0.551578371647232,0.8666089639895967],[-0.551578371647232,0.31994226289154276],[-0.551578371647232,-0.5440252395812728],[-0.551578371647232,0.20259905687823282],[-0.551578371647232,0.9289845450272396],[-0.551578371647232,0.16044880375903628],[-0.551578371647232,0.20816656569457195],[-0.551578371647232,-0.35682377326195275],[-0.551578371647232,-0.5408820606727],[-0.551578371647232,-0.5924383833376823],[-0.551578371647232,-0.8025738536455059],[-0.551578371647232,-0.24697864586383073],[-0.551578371647232,-1.0],[-0.551578371647232,-0.1434100144271064],[-0.551578371647232,-0.784443305998745],[-0.551578371647232,0.1983441971931265],[-0.551578371647232,-0.1509246230375257],[-0.551578371647232,-0.0007205865154939787],[-0.551578371647232,0.6430050980583552],[-0.551578371647232,0.3289646887921204],[-0.551578371647232,0.5577251069880864],[-0.47978394778970956,0.29280960187784383],[-0.47978394778970956,0.8666089639895967],[-0.47978394778970956,0.31994226289154276],[-0.47978394778970956,-0.5440252395812728],[-0.47978394778970956,0.20259905687823282],[-0.47978394778970956,0.9289845450272396],[-0.47978394778970956,0.16044880375903628],[-0.47978394778970956,0.20816656569457195],[-0.47978394778970956,-0.35682377326195275],[-0.47978394778970956,-0.5408820606727],[-0.47978394778970956,-0.5924383833376823],[-0.47978394778970956,-0.8025738536455059],[-0.47978394778970956,-0.24697864586383073],[-0.47978394778970956,-1.0],[-0.47978394778970956,-0.1434100144271064],[-0.47978394778970956,-0.784443305998745],[-0.47978394778970956,0.1983441971931265],[-0.47978394778970956,-0.1509246230375257],[-0.47978394778970956,-0.0007205865154939787],[-0.47978394778970956,0.6430050980583552],[-0.47978394778970956,0.3289646887921204],[-0.47978394778970956,0.5577251069880864],[0.29280960187784383,0.8666089639895967],[0.29280960187784383,0.31994226289154276],[0.29280960187784383,-0.5440252395812728],[0.29280960187784383,0.20259905687823282],[0.29280960187784383,0.9289845450272396],[0.29280960187784383,0.16044880375903628],[0.29280960187784383,0.20816656569457195],[0.29280960187784383,-0.35682377326195275],[0.29280960187784383,-0.5408820606727],[0.29280960187784383,-0.5924383833376823],[0.29280960187784383,-0.8025738536455059],[0.29280960187784383,-0.24697864586383073],[0.29280960187784383,-1.0],[0.29280960187784383,-0.1434100144271064],[0.29280960187784383,-0.784443305998745],[0.29280960187784383,0.1983441971931265],[0.29280960187784383,-0.1509246230375257],[0.29280960187784383,-0.0007205865154939787],[0.29280960187784383,0.6430050980583552],[0.29280960187784383,0.3289646887921204],[0.29280960187784383,0.5577251069880864],[0.8666089639895967,0.31994226289154276],[0.8666089639895967,-0.5440252395812728],[0.8666089639895967,0.20259905687823282],[0.8666089639895967,0.9289845450272396],[0.8666089639895967,0.16044880375903628],[0.8666089639895967,0.20816656569457195],[0.8666089639895967,-0.35682377326195275],[0.8666089639895967,-0.5408820606727],[0.8666089639895967,-0.5924383833376823],[0.8666089639895967,-0.8025738536455059],[0.8666089639895967,-0.24697864586383073],[0.8666089639895967,-1.0],[0.8666089639895967,-0.1434100144271064],[0.8666089639895967,-0.784443305998745],[0.8666089639895967,0.1983441971931265],[0.8666089639895967,-0.1509246230375257],[0.8666089639895967,-0.0007205865154939787],[0.8666089639895967,0.6430050980583552],[0.8666089639895967,0.3289646887921204],[0.8666089639895967,0.5577251069880864],[0.31994226289154276,-0.5440252395812728],[0.31994226289154276,0.20259905687823282],[0.31994226289154276,0.9289845450272396],[0.31994226289154276,0.16044880375903628],[0.31994226289154276,0.20816656569457195],[0.31994226289154276,-0.35682377326195275],[0.31994226289154276,-0.5408820606727],[0.31994226289154276,-0.5924383833376823],[0.31994226289154276,-0.8025738536455059],[0.31994226289154276,-0.24697864586383073],[0.31994226289154276,-1.0],[0.31994226289154276,-0.1434100144271064],[0.31994226289154276,-0.784443305998745],[0.31994226289154276,0.1983441971931265],[0.31994226289154276,-0.1509246230375257],[0.31994226289154276,-0.0007205865154939787],[0.31994226289154276,0.6430050980583552],[0.31994226289154276,0.3289646887921204],[0.31994226289154276,0.5577251069880864],[-0.5440252395812728,0.20259905687823282],[-0.5440252395812728,0.9289845450272396],[-0.5440252395812728,0.16044880375903628],[-0.5440252395812728,0.20816656569457195],[-0.5440252395812728,-0.35682377326195275],[-0.5440252395812728,-0.5408820606727],[-0.5440252395812728,-0.5924383833376823],[-0.5440252395812728,-0.8025738536455059],[-0.5440252395812728,-0.24697864586383073],[-0.5440252395812728,-1.0],[-0.5440252395812728,-0.1434100144271064],[-0.5440252395812728,-0.784443305998745],[-0.5440252395812728,0.1983441971931265],[-0.5440252395812728,-0.1509246230375257],[-0.5440252395812728,-0.0007205865154939787],[-0.5440252395812728,0.6430050980583552],[-0.5440252395812728,0.3289646887921204],[-0.5440252395812728,0.5577251069880864],[0.20259905687823282,0.9289845450272396],[0.20259905687823282,0.16044880375903628],[0.20259905687823282,0.20816656569457195],[0.20259905687823282,-0.35682377326195275],[0.20259905687823282,-0.5408820606727],[0.20259905687823282,-0.5924383833376823],[0.20259905687823282,-0.8025738536455059],[0.20259905687823282,-0.24697864586383073],[0.20259905687823282,-1.0],[0.20259905687823282,-0.1434100144271064],[0.20259905687823282,-0.784443305998745],[0.20259905687823282,0.1983441971931265],[0.20259905687823282,-0.1509246230375257],[0.20259905687823282,-0.0007205865154939787],[0.20259905687823282,0.6430050980583552],[0.20259905687823282,0.3289646887921204],[0.20259905687823282,0.5577251069880864],[0.9289845450272396,0.16044880375903628],[0.9289845450272396,0.20816656569457195],[0.9289845450272396,-0.35682377326195275],[0.9289845450272396,-0.5408820606727],[0.9289845450272396,-0.5924383833376823],[0.9289845450272396,-0.8025738536455059],[0.9289845450272396,-0.24697864586383073],[0.9289845450272396,-1.0],[0.9289845450272396,-0.1434100144271064],[0.9289845450272396,-0.784443305998745],[0.9289845450272396,0.1983441971931265],[0.9289845450272396,-0.1509246230375257],[0.9289845450272396,-0.0007205865154939787],[0.9289845450272396,0.6430050980583552],[0.9289845450272396,0.3289646887921204],[0.9289845450272396,0.5577251069880864],[0.16044880375903628,0.20816656569457195],[0.16044880375903628,-0.35682377326195275],[0.16044880375903628,-0.5408820606727],[0.16044880375903628,-0.5924383833376823],[0.16044880375903628,-0.8025738536455059],[0.16044880375903628,-0.24697864586383073],[0.16044880375903628,-1.0],[0.16044880375903628,-0.1434100144271064],[0.16044880375903628,-0.784443305998745],[0.16044880375903628,0.1983441971931265],[0.16044880375903628,-0.1509246230375257],[0.16044880375903628,-0.0007205865154939787],[0.16044880375903628,0.6430050980583552],[0.16044880375903628,0.3289646887921204],[0.16044880375903628,0.5577251069880864],[0.20816656569457195,-0.35682377326195275],[0.20816656569457195,-0.5408820606727],[0.20816656569457195,-0.5924383833376823],[0.20816656569457195,-0.8025738536455059],[0.20816656569457195,-0.24697864586383073],[0.20816656569457195,-1.0],[0.20816656569457195,-0.1434100144271064],[0.20816656569457195,-0.784443305998745],[0.20816656569457195,0.1983441971931265],[0.20816656569457195,-0.1509246230375257],[0.20816656569457195,-0.0007205865154939787],[0.20816656569457195,0.6430050980583552],[0.20816656569457195,0.3289646887921204],[0.20816656569457195,0.5577251069880864],[-0.35682377326195275,-0.5408820606727],[-0.35682377326195275,-0.5924383833376823],[-0.35682377326195275,-0.8025738536455059],[-0.35682377326195275,-0.24697864586383073],[-0.35682377326195275,-1.0],[-0.35682377326195275,-0.1434100144271064],[-0.35682377326195275,-0.784443305998745],[-0.35682377326195275,0.1983441971931265],[-0.35682377326195275,-0.1509246230375257],[-0.35682377326195275,-0.0007205865154939787],[-0.35682377326195275,0.6430050980583552],[-0.35682377326195275,0.3289646887921204],[-0.35682377326195275,0.5577251069880864],[-0.5408820606727,-0.5924383833376823],[-0.5408820606727,-0.8025738536455059],[-0.5408820606727,-0.24697864586383073],[-0.5408820606727,-1.0],[-0.5408820606727,-0.1434100144271064],[-0.5408820606727,-0.784443305998745],[-0.5408820606727,0.1983441971931265],[-0.5408820606727,-0.1509246230375257],[-0.5408820606727,-0.0007205865154939787],[-0.5408820606727,0.6430050980583552],[-0.5408820606727,0.3289646887921204],[-0.5408820606727,0.5577251069880864],[-0.5924383833376823,-0.8025738536455059],[-0.5924383833376823,-0.24697864586383073],[-0.5924383833376823,-1.0],[-0.5924383833376823,-0.1434100144271064],[-0.5924383833376823,-0.784443305998745],[-0.5924383833376823,0.1983441971931265],[-0.5924383833376823,-0.1509246230375257],[-0.5924383833376823,-0.0007205865154939787],[-0.5924383833376823,0.6430050980583552],[-0.5924383833376823,0.3289646887921204],[-0.5924383833376823,0.5577251069880864],[-0.8025738536455059,-0.24697864586383073],[-0.8025738536455059,-1.0],[-0.8025738536455059,-0.1434100144271064],[-0.8025738536455059,-0.784443305998745],[-0.8025738536455059,0.1983441971931265],[-0.8025738536455059,-0.1509246230375257],[-0.8025738536455059,-0.0007205865154939787],[-0.8025738536455059,0.6430050980583552],[-0.8025738536455059,0.3289646887921204],[-0.8025738536455059,0.5577251069880864],[-0.24697864586383073,-1.0],[-0.24697864586383073,-0.1434100144271064],[-0.24697864586383073,-0.784443305998745],[-0.24697864586383073,0.1983441971931265],[-0.24697864586383073,-0.1509246230375257],[-0.24697864586383073,-0.0007205865154939787],[-0.24697864586383073,0.6430050980583552],[-0.24697864586383073,0.3289646887921204],[-0.24697864586383073,0.5577251069880864],[-1.0,-0.1434100144271064],[-1.0,-0.784443305998745],[-1.0,0.1983441971931265],[-1.0,-0.1509246230375257],[-1.0,-0.0007205865154939787],[-1.0,0.6430050980583552],[-1.0,0.3289646887921204],[-1.0,0.5577251069880864],[-0.1434100144271064,-0.784443305998745],[-0.1434100144271064,0.1983441971931265],[-0.1434100144271064,-0.1509246230375257],[-0.1434100144271064,-0.0007205865154939787],[-0.1434100144271064,0.6430050980583552],[-0.1434100144271064,0.3289646887921204],[-0.1434100144271064,0.5577251069880864],[-0.784443305998745,0.1983441971931265],[-0.784443305998745,-0.1509246230375257],[-0.784443305998745,-0.0007205865154939787],[-0.784443305998745,0.6430050980583552],[-0.784443305998745,0.3289646887921204],[-0.784443305998745,0.5577251069880864],[0.1983441971931265,-0.1509246230375257],[0.1983441971931265,-0.0007205865154939787],[0.1983441971931265,0.6430050980583552],[0.1983441971931265,0.3289646887921204],[0.1983441971931265,0.5577251069880864],[-0.1509246230375257,-0.0007205865154939787],[-0.1509246230375257,0.6430050980583552],[-0.1509246230375257,0.3289646887921204],[-0.1509246230375257,0.5577251069880864],[-0.0007205865154939787,0.6430050980583552],[-0.0007205865154939787,0.3289646887921204],[-0.0007205865154939787,0.5577251069880864],[0.6430050980583552,0.3289646887921204],[0.6430050980583552,0.5577251069880864],[0.3289646887921204,0.5577251069880864]]],[\"ys\",[[0.4877873420214426,0.05273519841707102],[0.4877873420214426,0.7485752484611499],[0.4877873420214426,-0.35146147795269733],[0.4877873420214426,0.04226245818828814],[0.4877873420214426,-0.6875208014654564],[0.4877873420214426,-0.5749377218073032],[0.4877873420214426,-0.23069827109438018],[0.4877873420214426,0.26771198011112585],[0.4877873420214426,0.1663987440537195],[0.4877873420214426,-0.2110569466112447],[0.4877873420214426,-0.6334801334958294],[0.4877873420214426,0.1636104275983452],[0.4877873420214426,0.7462741114509243],[0.4877873420214426,-0.5268575454453537],[0.4877873420214426,0.33336248773390037],[0.4877873420214426,-0.8191131931004152],[0.4877873420214426,0.8565471509219965],[0.4877873420214426,0.8114475606446893],[0.4877873420214426,-0.878777550865525],[0.4877873420214426,-0.38558853622469114],[0.4877873420214426,0.4467017807936096],[0.4877873420214426,0.034444473897277415],[0.4877873420214426,-0.2977587772278376],[0.4877873420214426,0.9502024715217221],[0.4877873420214426,-0.1228998285960915],[0.4877873420214426,-0.988863018458054],[0.4877873420214426,-0.7274841946125338],[0.4877873420214426,0.26100360381470644],[0.4877873420214426,0.5366881675493868],[0.4877873420214426,-0.6174038678942637],[0.4877873420214426,0.5235867998342493],[0.4877873420214426,-0.3150787008217976],[0.4877873420214426,-0.07053826011004956],[0.4877873420214426,-0.9447806984704012],[0.4877873420214426,0.07137787909208121],[0.4877873420214426,0.38858617054687],[0.4877873420214426,0.987465301456275],[0.4877873420214426,-0.16722773566265905],[0.4877873420214426,0.5952927670119605],[0.4877873420214426,0.6302863470233492],[0.4877873420214426,-0.5508212122275966],[0.05273519841707102,0.7485752484611499],[0.05273519841707102,-0.35146147795269733],[0.05273519841707102,0.04226245818828814],[0.05273519841707102,-0.6875208014654564],[0.05273519841707102,-0.5749377218073032],[0.05273519841707102,-0.23069827109438018],[0.05273519841707102,0.26771198011112585],[0.05273519841707102,0.1663987440537195],[0.05273519841707102,-0.2110569466112447],[0.05273519841707102,-0.6334801334958294],[0.05273519841707102,0.1636104275983452],[0.05273519841707102,0.7462741114509243],[0.05273519841707102,-0.5268575454453537],[0.05273519841707102,0.33336248773390037],[0.05273519841707102,-0.8191131931004152],[0.05273519841707102,0.8565471509219965],[0.05273519841707102,0.8114475606446893],[0.05273519841707102,-0.878777550865525],[0.05273519841707102,-0.38558853622469114],[0.05273519841707102,0.4467017807936096],[0.05273519841707102,0.034444473897277415],[0.05273519841707102,-0.2977587772278376],[0.05273519841707102,0.9502024715217221],[0.05273519841707102,-0.1228998285960915],[0.05273519841707102,-0.988863018458054],[0.05273519841707102,-0.7274841946125338],[0.05273519841707102,0.26100360381470644],[0.05273519841707102,0.5366881675493868],[0.05273519841707102,-0.6174038678942637],[0.05273519841707102,0.5235867998342493],[0.05273519841707102,-0.3150787008217976],[0.05273519841707102,-0.07053826011004956],[0.05273519841707102,-0.9447806984704012],[0.05273519841707102,0.07137787909208121],[0.05273519841707102,0.38858617054687],[0.05273519841707102,0.987465301456275],[0.05273519841707102,-0.16722773566265905],[0.05273519841707102,0.5952927670119605],[0.05273519841707102,0.6302863470233492],[0.05273519841707102,-0.5508212122275966],[0.7485752484611499,-0.35146147795269733],[0.7485752484611499,0.04226245818828814],[0.7485752484611499,-0.6875208014654564],[0.7485752484611499,-0.5749377218073032],[0.7485752484611499,-0.23069827109438018],[0.7485752484611499,0.26771198011112585],[0.7485752484611499,0.1663987440537195],[0.7485752484611499,-0.2110569466112447],[0.7485752484611499,-0.6334801334958294],[0.7485752484611499,0.1636104275983452],[0.7485752484611499,0.7462741114509243],[0.7485752484611499,-0.5268575454453537],[0.7485752484611499,0.33336248773390037],[0.7485752484611499,-0.8191131931004152],[0.7485752484611499,0.8565471509219965],[0.7485752484611499,0.8114475606446893],[0.7485752484611499,-0.878777550865525],[0.7485752484611499,-0.38558853622469114],[0.7485752484611499,0.4467017807936096],[0.7485752484611499,0.034444473897277415],[0.7485752484611499,-0.2977587772278376],[0.7485752484611499,0.9502024715217221],[0.7485752484611499,-0.1228998285960915],[0.7485752484611499,-0.988863018458054],[0.7485752484611499,-0.7274841946125338],[0.7485752484611499,0.26100360381470644],[0.7485752484611499,0.5366881675493868],[0.7485752484611499,-0.6174038678942637],[0.7485752484611499,0.5235867998342493],[0.7485752484611499,-0.3150787008217976],[0.7485752484611499,-0.07053826011004956],[0.7485752484611499,-0.9447806984704012],[0.7485752484611499,0.07137787909208121],[0.7485752484611499,0.38858617054687],[0.7485752484611499,0.987465301456275],[0.7485752484611499,-0.16722773566265905],[0.7485752484611499,0.5952927670119605],[0.7485752484611499,0.6302863470233492],[0.7485752484611499,-0.5508212122275966],[-0.35146147795269733,0.04226245818828814],[-0.35146147795269733,-0.6875208014654564],[-0.35146147795269733,-0.5749377218073032],[-0.35146147795269733,-0.23069827109438018],[-0.35146147795269733,0.26771198011112585],[-0.35146147795269733,0.1663987440537195],[-0.35146147795269733,-0.2110569466112447],[-0.35146147795269733,-0.6334801334958294],[-0.35146147795269733,0.1636104275983452],[-0.35146147795269733,0.7462741114509243],[-0.35146147795269733,-0.5268575454453537],[-0.35146147795269733,0.33336248773390037],[-0.35146147795269733,-0.8191131931004152],[-0.35146147795269733,0.8565471509219965],[-0.35146147795269733,0.8114475606446893],[-0.35146147795269733,-0.878777550865525],[-0.35146147795269733,-0.38558853622469114],[-0.35146147795269733,0.4467017807936096],[-0.35146147795269733,0.034444473897277415],[-0.35146147795269733,-0.2977587772278376],[-0.35146147795269733,0.9502024715217221],[-0.35146147795269733,-0.1228998285960915],[-0.35146147795269733,-0.988863018458054],[-0.35146147795269733,-0.7274841946125338],[-0.35146147795269733,0.26100360381470644],[-0.35146147795269733,0.5366881675493868],[-0.35146147795269733,-0.6174038678942637],[-0.35146147795269733,0.5235867998342493],[-0.35146147795269733,-0.3150787008217976],[-0.35146147795269733,-0.07053826011004956],[-0.35146147795269733,-0.9447806984704012],[-0.35146147795269733,0.07137787909208121],[-0.35146147795269733,0.38858617054687],[-0.35146147795269733,0.987465301456275],[-0.35146147795269733,-0.16722773566265905],[-0.35146147795269733,0.5952927670119605],[-0.35146147795269733,0.6302863470233492],[-0.35146147795269733,-0.5508212122275966],[0.04226245818828814,-0.6875208014654564],[0.04226245818828814,-0.5749377218073032],[0.04226245818828814,-0.23069827109438018],[0.04226245818828814,0.26771198011112585],[0.04226245818828814,0.1663987440537195],[0.04226245818828814,-0.2110569466112447],[0.04226245818828814,-0.6334801334958294],[0.04226245818828814,0.1636104275983452],[0.04226245818828814,0.7462741114509243],[0.04226245818828814,-0.5268575454453537],[0.04226245818828814,0.33336248773390037],[0.04226245818828814,-0.8191131931004152],[0.04226245818828814,0.8565471509219965],[0.04226245818828814,0.8114475606446893],[0.04226245818828814,-0.878777550865525],[0.04226245818828814,-0.38558853622469114],[0.04226245818828814,0.4467017807936096],[0.04226245818828814,0.034444473897277415],[0.04226245818828814,-0.2977587772278376],[0.04226245818828814,0.9502024715217221],[0.04226245818828814,-0.1228998285960915],[0.04226245818828814,-0.988863018458054],[0.04226245818828814,-0.7274841946125338],[0.04226245818828814,0.26100360381470644],[0.04226245818828814,0.5366881675493868],[0.04226245818828814,-0.6174038678942637],[0.04226245818828814,0.5235867998342493],[0.04226245818828814,-0.3150787008217976],[0.04226245818828814,-0.07053826011004956],[0.04226245818828814,-0.9447806984704012],[0.04226245818828814,0.07137787909208121],[0.04226245818828814,0.38858617054687],[0.04226245818828814,0.987465301456275],[0.04226245818828814,-0.16722773566265905],[0.04226245818828814,0.5952927670119605],[0.04226245818828814,0.6302863470233492],[0.04226245818828814,-0.5508212122275966],[-0.6875208014654564,-0.5749377218073032],[-0.6875208014654564,-0.23069827109438018],[-0.6875208014654564,0.26771198011112585],[-0.6875208014654564,0.1663987440537195],[-0.6875208014654564,-0.2110569466112447],[-0.6875208014654564,-0.6334801334958294],[-0.6875208014654564,0.1636104275983452],[-0.6875208014654564,0.7462741114509243],[-0.6875208014654564,-0.5268575454453537],[-0.6875208014654564,0.33336248773390037],[-0.6875208014654564,-0.8191131931004152],[-0.6875208014654564,0.8565471509219965],[-0.6875208014654564,0.8114475606446893],[-0.6875208014654564,-0.878777550865525],[-0.6875208014654564,-0.38558853622469114],[-0.6875208014654564,0.4467017807936096],[-0.6875208014654564,0.034444473897277415],[-0.6875208014654564,-0.2977587772278376],[-0.6875208014654564,0.9502024715217221],[-0.6875208014654564,-0.1228998285960915],[-0.6875208014654564,-0.988863018458054],[-0.6875208014654564,-0.7274841946125338],[-0.6875208014654564,0.26100360381470644],[-0.6875208014654564,0.5366881675493868],[-0.6875208014654564,-0.6174038678942637],[-0.6875208014654564,0.5235867998342493],[-0.6875208014654564,-0.3150787008217976],[-0.6875208014654564,-0.07053826011004956],[-0.6875208014654564,-0.9447806984704012],[-0.6875208014654564,0.07137787909208121],[-0.6875208014654564,0.38858617054687],[-0.6875208014654564,0.987465301456275],[-0.6875208014654564,-0.16722773566265905],[-0.6875208014654564,0.5952927670119605],[-0.6875208014654564,0.6302863470233492],[-0.6875208014654564,-0.5508212122275966],[-0.5749377218073032,-0.23069827109438018],[-0.5749377218073032,0.26771198011112585],[-0.5749377218073032,0.1663987440537195],[-0.5749377218073032,-0.2110569466112447],[-0.5749377218073032,-0.6334801334958294],[-0.5749377218073032,0.1636104275983452],[-0.5749377218073032,0.7462741114509243],[-0.5749377218073032,-0.5268575454453537],[-0.5749377218073032,0.33336248773390037],[-0.5749377218073032,-0.8191131931004152],[-0.5749377218073032,0.8565471509219965],[-0.5749377218073032,0.8114475606446893],[-0.5749377218073032,-0.878777550865525],[-0.5749377218073032,-0.38558853622469114],[-0.5749377218073032,0.4467017807936096],[-0.5749377218073032,0.034444473897277415],[-0.5749377218073032,-0.2977587772278376],[-0.5749377218073032,0.9502024715217221],[-0.5749377218073032,-0.1228998285960915],[-0.5749377218073032,-0.988863018458054],[-0.5749377218073032,-0.7274841946125338],[-0.5749377218073032,0.26100360381470644],[-0.5749377218073032,0.5366881675493868],[-0.5749377218073032,-0.6174038678942637],[-0.5749377218073032,0.5235867998342493],[-0.5749377218073032,-0.3150787008217976],[-0.5749377218073032,-0.07053826011004956],[-0.5749377218073032,-0.9447806984704012],[-0.5749377218073032,0.07137787909208121],[-0.5749377218073032,0.38858617054687],[-0.5749377218073032,0.987465301456275],[-0.5749377218073032,-0.16722773566265905],[-0.5749377218073032,0.5952927670119605],[-0.5749377218073032,0.6302863470233492],[-0.5749377218073032,-0.5508212122275966],[-0.23069827109438018,0.26771198011112585],[-0.23069827109438018,0.1663987440537195],[-0.23069827109438018,-0.2110569466112447],[-0.23069827109438018,-0.6334801334958294],[-0.23069827109438018,0.1636104275983452],[-0.23069827109438018,0.7462741114509243],[-0.23069827109438018,-0.5268575454453537],[-0.23069827109438018,0.33336248773390037],[-0.23069827109438018,-0.8191131931004152],[-0.23069827109438018,0.8565471509219965],[-0.23069827109438018,0.8114475606446893],[-0.23069827109438018,-0.878777550865525],[-0.23069827109438018,-0.38558853622469114],[-0.23069827109438018,0.4467017807936096],[-0.23069827109438018,0.034444473897277415],[-0.23069827109438018,-0.2977587772278376],[-0.23069827109438018,0.9502024715217221],[-0.23069827109438018,-0.1228998285960915],[-0.23069827109438018,-0.988863018458054],[-0.23069827109438018,-0.7274841946125338],[-0.23069827109438018,0.26100360381470644],[-0.23069827109438018,0.5366881675493868],[-0.23069827109438018,-0.6174038678942637],[-0.23069827109438018,0.5235867998342493],[-0.23069827109438018,-0.3150787008217976],[-0.23069827109438018,-0.07053826011004956],[-0.23069827109438018,-0.9447806984704012],[-0.23069827109438018,0.07137787909208121],[-0.23069827109438018,0.38858617054687],[-0.23069827109438018,0.987465301456275],[-0.23069827109438018,-0.16722773566265905],[-0.23069827109438018,0.5952927670119605],[-0.23069827109438018,0.6302863470233492],[-0.23069827109438018,-0.5508212122275966],[0.26771198011112585,0.1663987440537195],[0.26771198011112585,-0.2110569466112447],[0.26771198011112585,-0.6334801334958294],[0.26771198011112585,0.1636104275983452],[0.26771198011112585,0.7462741114509243],[0.26771198011112585,-0.5268575454453537],[0.26771198011112585,0.33336248773390037],[0.26771198011112585,-0.8191131931004152],[0.26771198011112585,0.8565471509219965],[0.26771198011112585,0.8114475606446893],[0.26771198011112585,-0.878777550865525],[0.26771198011112585,-0.38558853622469114],[0.26771198011112585,0.4467017807936096],[0.26771198011112585,0.034444473897277415],[0.26771198011112585,-0.2977587772278376],[0.26771198011112585,0.9502024715217221],[0.26771198011112585,-0.1228998285960915],[0.26771198011112585,-0.988863018458054],[0.26771198011112585,-0.7274841946125338],[0.26771198011112585,0.26100360381470644],[0.26771198011112585,0.5366881675493868],[0.26771198011112585,-0.6174038678942637],[0.26771198011112585,0.5235867998342493],[0.26771198011112585,-0.3150787008217976],[0.26771198011112585,-0.07053826011004956],[0.26771198011112585,-0.9447806984704012],[0.26771198011112585,0.07137787909208121],[0.26771198011112585,0.38858617054687],[0.26771198011112585,0.987465301456275],[0.26771198011112585,-0.16722773566265905],[0.26771198011112585,0.5952927670119605],[0.26771198011112585,0.6302863470233492],[0.26771198011112585,-0.5508212122275966],[0.1663987440537195,-0.2110569466112447],[0.1663987440537195,-0.6334801334958294],[0.1663987440537195,0.1636104275983452],[0.1663987440537195,0.7462741114509243],[0.1663987440537195,-0.5268575454453537],[0.1663987440537195,0.33336248773390037],[0.1663987440537195,-0.8191131931004152],[0.1663987440537195,0.8565471509219965],[0.1663987440537195,0.8114475606446893],[0.1663987440537195,-0.878777550865525],[0.1663987440537195,-0.38558853622469114],[0.1663987440537195,0.4467017807936096],[0.1663987440537195,0.034444473897277415],[0.1663987440537195,-0.2977587772278376],[0.1663987440537195,0.9502024715217221],[0.1663987440537195,-0.1228998285960915],[0.1663987440537195,-0.988863018458054],[0.1663987440537195,-0.7274841946125338],[0.1663987440537195,0.26100360381470644],[0.1663987440537195,0.5366881675493868],[0.1663987440537195,-0.6174038678942637],[0.1663987440537195,0.5235867998342493],[0.1663987440537195,-0.3150787008217976],[0.1663987440537195,-0.07053826011004956],[0.1663987440537195,-0.9447806984704012],[0.1663987440537195,0.07137787909208121],[0.1663987440537195,0.38858617054687],[0.1663987440537195,0.987465301456275],[0.1663987440537195,-0.16722773566265905],[0.1663987440537195,0.5952927670119605],[0.1663987440537195,0.6302863470233492],[0.1663987440537195,-0.5508212122275966],[-0.2110569466112447,-0.6334801334958294],[-0.2110569466112447,0.1636104275983452],[-0.2110569466112447,0.7462741114509243],[-0.2110569466112447,-0.5268575454453537],[-0.2110569466112447,0.33336248773390037],[-0.2110569466112447,-0.8191131931004152],[-0.2110569466112447,0.8565471509219965],[-0.2110569466112447,0.8114475606446893],[-0.2110569466112447,-0.878777550865525],[-0.2110569466112447,-0.38558853622469114],[-0.2110569466112447,0.4467017807936096],[-0.2110569466112447,0.034444473897277415],[-0.2110569466112447,-0.2977587772278376],[-0.2110569466112447,0.9502024715217221],[-0.2110569466112447,-0.1228998285960915],[-0.2110569466112447,-0.988863018458054],[-0.2110569466112447,-0.7274841946125338],[-0.2110569466112447,0.26100360381470644],[-0.2110569466112447,0.5366881675493868],[-0.2110569466112447,-0.6174038678942637],[-0.2110569466112447,0.5235867998342493],[-0.2110569466112447,-0.3150787008217976],[-0.2110569466112447,-0.07053826011004956],[-0.2110569466112447,-0.9447806984704012],[-0.2110569466112447,0.07137787909208121],[-0.2110569466112447,0.38858617054687],[-0.2110569466112447,0.987465301456275],[-0.2110569466112447,-0.16722773566265905],[-0.2110569466112447,0.5952927670119605],[-0.2110569466112447,0.6302863470233492],[-0.2110569466112447,-0.5508212122275966],[-0.6334801334958294,0.1636104275983452],[-0.6334801334958294,0.7462741114509243],[-0.6334801334958294,-0.5268575454453537],[-0.6334801334958294,0.33336248773390037],[-0.6334801334958294,-0.8191131931004152],[-0.6334801334958294,0.8565471509219965],[-0.6334801334958294,0.8114475606446893],[-0.6334801334958294,-0.878777550865525],[-0.6334801334958294,-0.38558853622469114],[-0.6334801334958294,0.4467017807936096],[-0.6334801334958294,0.034444473897277415],[-0.6334801334958294,-0.2977587772278376],[-0.6334801334958294,0.9502024715217221],[-0.6334801334958294,-0.1228998285960915],[-0.6334801334958294,-0.988863018458054],[-0.6334801334958294,-0.7274841946125338],[-0.6334801334958294,0.26100360381470644],[-0.6334801334958294,0.5366881675493868],[-0.6334801334958294,-0.6174038678942637],[-0.6334801334958294,0.5235867998342493],[-0.6334801334958294,-0.3150787008217976],[-0.6334801334958294,-0.07053826011004956],[-0.6334801334958294,-0.9447806984704012],[-0.6334801334958294,0.07137787909208121],[-0.6334801334958294,0.38858617054687],[-0.6334801334958294,0.987465301456275],[-0.6334801334958294,-0.16722773566265905],[-0.6334801334958294,0.5952927670119605],[-0.6334801334958294,0.6302863470233492],[-0.6334801334958294,-0.5508212122275966],[0.1636104275983452,0.7462741114509243],[0.1636104275983452,-0.5268575454453537],[0.1636104275983452,0.33336248773390037],[0.1636104275983452,-0.8191131931004152],[0.1636104275983452,0.8565471509219965],[0.1636104275983452,0.8114475606446893],[0.1636104275983452,-0.878777550865525],[0.1636104275983452,-0.38558853622469114],[0.1636104275983452,0.4467017807936096],[0.1636104275983452,0.034444473897277415],[0.1636104275983452,-0.2977587772278376],[0.1636104275983452,0.9502024715217221],[0.1636104275983452,-0.1228998285960915],[0.1636104275983452,-0.988863018458054],[0.1636104275983452,-0.7274841946125338],[0.1636104275983452,0.26100360381470644],[0.1636104275983452,0.5366881675493868],[0.1636104275983452,-0.6174038678942637],[0.1636104275983452,0.5235867998342493],[0.1636104275983452,-0.3150787008217976],[0.1636104275983452,-0.07053826011004956],[0.1636104275983452,-0.9447806984704012],[0.1636104275983452,0.07137787909208121],[0.1636104275983452,0.38858617054687],[0.1636104275983452,0.987465301456275],[0.1636104275983452,-0.16722773566265905],[0.1636104275983452,0.5952927670119605],[0.1636104275983452,0.6302863470233492],[0.1636104275983452,-0.5508212122275966],[0.7462741114509243,-0.5268575454453537],[0.7462741114509243,0.33336248773390037],[0.7462741114509243,-0.8191131931004152],[0.7462741114509243,0.8565471509219965],[0.7462741114509243,0.8114475606446893],[0.7462741114509243,-0.878777550865525],[0.7462741114509243,-0.38558853622469114],[0.7462741114509243,0.4467017807936096],[0.7462741114509243,0.034444473897277415],[0.7462741114509243,-0.2977587772278376],[0.7462741114509243,0.9502024715217221],[0.7462741114509243,-0.1228998285960915],[0.7462741114509243,-0.988863018458054],[0.7462741114509243,-0.7274841946125338],[0.7462741114509243,0.26100360381470644],[0.7462741114509243,0.5366881675493868],[0.7462741114509243,-0.6174038678942637],[0.7462741114509243,0.5235867998342493],[0.7462741114509243,-0.3150787008217976],[0.7462741114509243,-0.07053826011004956],[0.7462741114509243,-0.9447806984704012],[0.7462741114509243,0.07137787909208121],[0.7462741114509243,0.38858617054687],[0.7462741114509243,0.987465301456275],[0.7462741114509243,-0.16722773566265905],[0.7462741114509243,0.5952927670119605],[0.7462741114509243,0.6302863470233492],[0.7462741114509243,-0.5508212122275966],[-0.5268575454453537,0.33336248773390037],[-0.5268575454453537,-0.8191131931004152],[-0.5268575454453537,0.8565471509219965],[-0.5268575454453537,0.8114475606446893],[-0.5268575454453537,-0.878777550865525],[-0.5268575454453537,-0.38558853622469114],[-0.5268575454453537,0.4467017807936096],[-0.5268575454453537,0.034444473897277415],[-0.5268575454453537,-0.2977587772278376],[-0.5268575454453537,0.9502024715217221],[-0.5268575454453537,-0.1228998285960915],[-0.5268575454453537,-0.988863018458054],[-0.5268575454453537,-0.7274841946125338],[-0.5268575454453537,0.26100360381470644],[-0.5268575454453537,0.5366881675493868],[-0.5268575454453537,-0.6174038678942637],[-0.5268575454453537,0.5235867998342493],[-0.5268575454453537,-0.3150787008217976],[-0.5268575454453537,-0.07053826011004956],[-0.5268575454453537,-0.9447806984704012],[-0.5268575454453537,0.07137787909208121],[-0.5268575454453537,0.38858617054687],[-0.5268575454453537,0.987465301456275],[-0.5268575454453537,-0.16722773566265905],[-0.5268575454453537,0.5952927670119605],[-0.5268575454453537,0.6302863470233492],[-0.5268575454453537,-0.5508212122275966],[0.33336248773390037,-0.8191131931004152],[0.33336248773390037,0.8565471509219965],[0.33336248773390037,0.8114475606446893],[0.33336248773390037,-0.878777550865525],[0.33336248773390037,-0.38558853622469114],[0.33336248773390037,0.4467017807936096],[0.33336248773390037,0.034444473897277415],[0.33336248773390037,-0.2977587772278376],[0.33336248773390037,0.9502024715217221],[0.33336248773390037,-0.1228998285960915],[0.33336248773390037,-0.988863018458054],[0.33336248773390037,-0.7274841946125338],[0.33336248773390037,0.26100360381470644],[0.33336248773390037,0.5366881675493868],[0.33336248773390037,-0.6174038678942637],[0.33336248773390037,0.5235867998342493],[0.33336248773390037,-0.3150787008217976],[0.33336248773390037,-0.07053826011004956],[0.33336248773390037,-0.9447806984704012],[0.33336248773390037,0.07137787909208121],[0.33336248773390037,0.38858617054687],[0.33336248773390037,0.987465301456275],[0.33336248773390037,-0.16722773566265905],[0.33336248773390037,0.5952927670119605],[0.33336248773390037,0.6302863470233492],[0.33336248773390037,-0.5508212122275966],[-0.8191131931004152,0.8565471509219965],[-0.8191131931004152,0.8114475606446893],[-0.8191131931004152,-0.878777550865525],[-0.8191131931004152,-0.38558853622469114],[-0.8191131931004152,0.4467017807936096],[-0.8191131931004152,0.034444473897277415],[-0.8191131931004152,-0.2977587772278376],[-0.8191131931004152,0.9502024715217221],[-0.8191131931004152,-0.1228998285960915],[-0.8191131931004152,-0.988863018458054],[-0.8191131931004152,-0.7274841946125338],[-0.8191131931004152,0.26100360381470644],[-0.8191131931004152,0.5366881675493868],[-0.8191131931004152,-0.6174038678942637],[-0.8191131931004152,0.5235867998342493],[-0.8191131931004152,-0.3150787008217976],[-0.8191131931004152,-0.07053826011004956],[-0.8191131931004152,-0.9447806984704012],[-0.8191131931004152,0.07137787909208121],[-0.8191131931004152,0.38858617054687],[-0.8191131931004152,0.987465301456275],[-0.8191131931004152,-0.16722773566265905],[-0.8191131931004152,0.5952927670119605],[-0.8191131931004152,0.6302863470233492],[-0.8191131931004152,-0.5508212122275966],[0.8565471509219965,0.8114475606446893],[0.8565471509219965,-0.878777550865525],[0.8565471509219965,-0.38558853622469114],[0.8565471509219965,0.4467017807936096],[0.8565471509219965,0.034444473897277415],[0.8565471509219965,-0.2977587772278376],[0.8565471509219965,0.9502024715217221],[0.8565471509219965,-0.1228998285960915],[0.8565471509219965,-0.988863018458054],[0.8565471509219965,-0.7274841946125338],[0.8565471509219965,0.26100360381470644],[0.8565471509219965,0.5366881675493868],[0.8565471509219965,-0.6174038678942637],[0.8565471509219965,0.5235867998342493],[0.8565471509219965,-0.3150787008217976],[0.8565471509219965,-0.07053826011004956],[0.8565471509219965,-0.9447806984704012],[0.8565471509219965,0.07137787909208121],[0.8565471509219965,0.38858617054687],[0.8565471509219965,0.987465301456275],[0.8565471509219965,-0.16722773566265905],[0.8565471509219965,0.5952927670119605],[0.8565471509219965,0.6302863470233492],[0.8565471509219965,-0.5508212122275966],[0.8114475606446893,-0.878777550865525],[0.8114475606446893,-0.38558853622469114],[0.8114475606446893,0.4467017807936096],[0.8114475606446893,0.034444473897277415],[0.8114475606446893,-0.2977587772278376],[0.8114475606446893,0.9502024715217221],[0.8114475606446893,-0.1228998285960915],[0.8114475606446893,-0.988863018458054],[0.8114475606446893,-0.7274841946125338],[0.8114475606446893,0.26100360381470644],[0.8114475606446893,0.5366881675493868],[0.8114475606446893,-0.6174038678942637],[0.8114475606446893,0.5235867998342493],[0.8114475606446893,-0.3150787008217976],[0.8114475606446893,-0.07053826011004956],[0.8114475606446893,-0.9447806984704012],[0.8114475606446893,0.07137787909208121],[0.8114475606446893,0.38858617054687],[0.8114475606446893,0.987465301456275],[0.8114475606446893,-0.16722773566265905],[0.8114475606446893,0.5952927670119605],[0.8114475606446893,0.6302863470233492],[0.8114475606446893,-0.5508212122275966],[-0.878777550865525,-0.38558853622469114],[-0.878777550865525,0.4467017807936096],[-0.878777550865525,0.034444473897277415],[-0.878777550865525,-0.2977587772278376],[-0.878777550865525,0.9502024715217221],[-0.878777550865525,-0.1228998285960915],[-0.878777550865525,-0.988863018458054],[-0.878777550865525,-0.7274841946125338],[-0.878777550865525,0.26100360381470644],[-0.878777550865525,0.5366881675493868],[-0.878777550865525,-0.6174038678942637],[-0.878777550865525,0.5235867998342493],[-0.878777550865525,-0.3150787008217976],[-0.878777550865525,-0.07053826011004956],[-0.878777550865525,-0.9447806984704012],[-0.878777550865525,0.07137787909208121],[-0.878777550865525,0.38858617054687],[-0.878777550865525,0.987465301456275],[-0.878777550865525,-0.16722773566265905],[-0.878777550865525,0.5952927670119605],[-0.878777550865525,0.6302863470233492],[-0.878777550865525,-0.5508212122275966],[-0.38558853622469114,0.4467017807936096],[-0.38558853622469114,0.034444473897277415],[-0.38558853622469114,-0.2977587772278376],[-0.38558853622469114,0.9502024715217221],[-0.38558853622469114,-0.1228998285960915],[-0.38558853622469114,-0.988863018458054],[-0.38558853622469114,-0.7274841946125338],[-0.38558853622469114,0.26100360381470644],[-0.38558853622469114,0.5366881675493868],[-0.38558853622469114,-0.6174038678942637],[-0.38558853622469114,0.5235867998342493],[-0.38558853622469114,-0.3150787008217976],[-0.38558853622469114,-0.07053826011004956],[-0.38558853622469114,-0.9447806984704012],[-0.38558853622469114,0.07137787909208121],[-0.38558853622469114,0.38858617054687],[-0.38558853622469114,0.987465301456275],[-0.38558853622469114,-0.16722773566265905],[-0.38558853622469114,0.5952927670119605],[-0.38558853622469114,0.6302863470233492],[-0.38558853622469114,-0.5508212122275966],[0.4467017807936096,0.034444473897277415],[0.4467017807936096,-0.2977587772278376],[0.4467017807936096,0.9502024715217221],[0.4467017807936096,-0.1228998285960915],[0.4467017807936096,-0.988863018458054],[0.4467017807936096,-0.7274841946125338],[0.4467017807936096,0.26100360381470644],[0.4467017807936096,0.5366881675493868],[0.4467017807936096,-0.6174038678942637],[0.4467017807936096,0.5235867998342493],[0.4467017807936096,-0.3150787008217976],[0.4467017807936096,-0.07053826011004956],[0.4467017807936096,-0.9447806984704012],[0.4467017807936096,0.07137787909208121],[0.4467017807936096,0.38858617054687],[0.4467017807936096,0.987465301456275],[0.4467017807936096,-0.16722773566265905],[0.4467017807936096,0.5952927670119605],[0.4467017807936096,0.6302863470233492],[0.4467017807936096,-0.5508212122275966],[0.034444473897277415,-0.2977587772278376],[0.034444473897277415,0.9502024715217221],[0.034444473897277415,-0.1228998285960915],[0.034444473897277415,-0.988863018458054],[0.034444473897277415,-0.7274841946125338],[0.034444473897277415,0.26100360381470644],[0.034444473897277415,0.5366881675493868],[0.034444473897277415,-0.6174038678942637],[0.034444473897277415,0.5235867998342493],[0.034444473897277415,-0.3150787008217976],[0.034444473897277415,-0.07053826011004956],[0.034444473897277415,-0.9447806984704012],[0.034444473897277415,0.07137787909208121],[0.034444473897277415,0.38858617054687],[0.034444473897277415,0.987465301456275],[0.034444473897277415,-0.16722773566265905],[0.034444473897277415,0.5952927670119605],[0.034444473897277415,0.6302863470233492],[0.034444473897277415,-0.5508212122275966],[-0.2977587772278376,0.9502024715217221],[-0.2977587772278376,-0.1228998285960915],[-0.2977587772278376,-0.988863018458054],[-0.2977587772278376,-0.7274841946125338],[-0.2977587772278376,0.26100360381470644],[-0.2977587772278376,0.5366881675493868],[-0.2977587772278376,-0.6174038678942637],[-0.2977587772278376,0.5235867998342493],[-0.2977587772278376,-0.3150787008217976],[-0.2977587772278376,-0.07053826011004956],[-0.2977587772278376,-0.9447806984704012],[-0.2977587772278376,0.07137787909208121],[-0.2977587772278376,0.38858617054687],[-0.2977587772278376,0.987465301456275],[-0.2977587772278376,-0.16722773566265905],[-0.2977587772278376,0.5952927670119605],[-0.2977587772278376,0.6302863470233492],[-0.2977587772278376,-0.5508212122275966],[0.9502024715217221,-0.1228998285960915],[0.9502024715217221,-0.988863018458054],[0.9502024715217221,-0.7274841946125338],[0.9502024715217221,0.26100360381470644],[0.9502024715217221,0.5366881675493868],[0.9502024715217221,-0.6174038678942637],[0.9502024715217221,0.5235867998342493],[0.9502024715217221,-0.3150787008217976],[0.9502024715217221,-0.07053826011004956],[0.9502024715217221,-0.9447806984704012],[0.9502024715217221,0.07137787909208121],[0.9502024715217221,0.38858617054687],[0.9502024715217221,0.987465301456275],[0.9502024715217221,-0.16722773566265905],[0.9502024715217221,0.5952927670119605],[0.9502024715217221,0.6302863470233492],[0.9502024715217221,-0.5508212122275966],[-0.1228998285960915,-0.988863018458054],[-0.1228998285960915,-0.7274841946125338],[-0.1228998285960915,0.26100360381470644],[-0.1228998285960915,0.5366881675493868],[-0.1228998285960915,-0.6174038678942637],[-0.1228998285960915,0.5235867998342493],[-0.1228998285960915,-0.3150787008217976],[-0.1228998285960915,-0.07053826011004956],[-0.1228998285960915,-0.9447806984704012],[-0.1228998285960915,0.07137787909208121],[-0.1228998285960915,0.38858617054687],[-0.1228998285960915,0.987465301456275],[-0.1228998285960915,-0.16722773566265905],[-0.1228998285960915,0.5952927670119605],[-0.1228998285960915,0.6302863470233492],[-0.1228998285960915,-0.5508212122275966],[-0.988863018458054,-0.7274841946125338],[-0.988863018458054,0.26100360381470644],[-0.988863018458054,0.5366881675493868],[-0.988863018458054,-0.6174038678942637],[-0.988863018458054,0.5235867998342493],[-0.988863018458054,-0.3150787008217976],[-0.988863018458054,-0.07053826011004956],[-0.988863018458054,-0.9447806984704012],[-0.988863018458054,0.07137787909208121],[-0.988863018458054,0.38858617054687],[-0.988863018458054,0.987465301456275],[-0.988863018458054,-0.16722773566265905],[-0.988863018458054,0.5952927670119605],[-0.988863018458054,0.6302863470233492],[-0.988863018458054,-0.5508212122275966],[-0.7274841946125338,0.26100360381470644],[-0.7274841946125338,0.5366881675493868],[-0.7274841946125338,-0.6174038678942637],[-0.7274841946125338,0.5235867998342493],[-0.7274841946125338,-0.3150787008217976],[-0.7274841946125338,-0.07053826011004956],[-0.7274841946125338,-0.9447806984704012],[-0.7274841946125338,0.07137787909208121],[-0.7274841946125338,0.38858617054687],[-0.7274841946125338,0.987465301456275],[-0.7274841946125338,-0.16722773566265905],[-0.7274841946125338,0.5952927670119605],[-0.7274841946125338,0.6302863470233492],[-0.7274841946125338,-0.5508212122275966],[0.26100360381470644,0.5366881675493868],[0.26100360381470644,-0.6174038678942637],[0.26100360381470644,0.5235867998342493],[0.26100360381470644,-0.3150787008217976],[0.26100360381470644,-0.07053826011004956],[0.26100360381470644,-0.9447806984704012],[0.26100360381470644,0.07137787909208121],[0.26100360381470644,0.38858617054687],[0.26100360381470644,0.987465301456275],[0.26100360381470644,-0.16722773566265905],[0.26100360381470644,0.5952927670119605],[0.26100360381470644,0.6302863470233492],[0.26100360381470644,-0.5508212122275966],[0.5366881675493868,-0.6174038678942637],[0.5366881675493868,0.5235867998342493],[0.5366881675493868,-0.3150787008217976],[0.5366881675493868,-0.07053826011004956],[0.5366881675493868,-0.9447806984704012],[0.5366881675493868,0.07137787909208121],[0.5366881675493868,0.38858617054687],[0.5366881675493868,0.987465301456275],[0.5366881675493868,-0.16722773566265905],[0.5366881675493868,0.5952927670119605],[0.5366881675493868,0.6302863470233492],[0.5366881675493868,-0.5508212122275966],[-0.6174038678942637,0.5235867998342493],[-0.6174038678942637,-0.3150787008217976],[-0.6174038678942637,-0.07053826011004956],[-0.6174038678942637,-0.9447806984704012],[-0.6174038678942637,0.07137787909208121],[-0.6174038678942637,0.38858617054687],[-0.6174038678942637,0.987465301456275],[-0.6174038678942637,-0.16722773566265905],[-0.6174038678942637,0.5952927670119605],[-0.6174038678942637,0.6302863470233492],[-0.6174038678942637,-0.5508212122275966],[0.5235867998342493,-0.3150787008217976],[0.5235867998342493,-0.07053826011004956],[0.5235867998342493,-0.9447806984704012],[0.5235867998342493,0.07137787909208121],[0.5235867998342493,0.38858617054687],[0.5235867998342493,0.987465301456275],[0.5235867998342493,-0.16722773566265905],[0.5235867998342493,0.5952927670119605],[0.5235867998342493,0.6302863470233492],[0.5235867998342493,-0.5508212122275966],[-0.3150787008217976,-0.07053826011004956],[-0.3150787008217976,-0.9447806984704012],[-0.3150787008217976,0.07137787909208121],[-0.3150787008217976,0.38858617054687],[-0.3150787008217976,0.987465301456275],[-0.3150787008217976,-0.16722773566265905],[-0.3150787008217976,0.5952927670119605],[-0.3150787008217976,0.6302863470233492],[-0.3150787008217976,-0.5508212122275966],[-0.07053826011004956,-0.9447806984704012],[-0.07053826011004956,0.07137787909208121],[-0.07053826011004956,0.38858617054687],[-0.07053826011004956,0.987465301456275],[-0.07053826011004956,-0.16722773566265905],[-0.07053826011004956,0.5952927670119605],[-0.07053826011004956,0.6302863470233492],[-0.07053826011004956,-0.5508212122275966],[-0.9447806984704012,0.07137787909208121],[-0.9447806984704012,0.38858617054687],[-0.9447806984704012,0.987465301456275],[-0.9447806984704012,-0.16722773566265905],[-0.9447806984704012,0.5952927670119605],[-0.9447806984704012,0.6302863470233492],[-0.9447806984704012,-0.5508212122275966],[0.07137787909208121,0.38858617054687],[0.07137787909208121,0.987465301456275],[0.07137787909208121,-0.16722773566265905],[0.07137787909208121,0.5952927670119605],[0.07137787909208121,0.6302863470233492],[0.07137787909208121,-0.5508212122275966],[0.38858617054687,0.987465301456275],[0.38858617054687,-0.16722773566265905],[0.38858617054687,0.5952927670119605],[0.38858617054687,0.6302863470233492],[0.38858617054687,-0.5508212122275966],[0.987465301456275,-0.16722773566265905],[0.987465301456275,0.5952927670119605],[0.987465301456275,0.6302863470233492],[0.987465301456275,-0.5508212122275966],[-0.16722773566265905,0.5952927670119605],[-0.16722773566265905,0.6302863470233492],[-0.16722773566265905,-0.5508212122275966],[0.5952927670119605,0.6302863470233492],[0.5952927670119605,-0.5508212122275966],[0.6302863470233492,-0.5508212122275966]]],[\"_u\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,30,30,30,30,30,30,30,30,30,30,30,30,31,31,31,31,31,31,31,31,31,31,31,32,32,32,32,32,32,32,32,32,32,33,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,35,35,35,35,35,35,35,36,36,36,36,36,36,37,37,37,37,37,38,38,38,38,39,39,39,40,40,41]],[\"_v\",[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,29,30,31,32,33,34,35,36,37,38,39,40,41,42,30,31,32,33,34,35,36,37,38,39,40,41,42,31,32,33,34,35,36,37,38,39,40,41,42,32,33,34,35,36,37,38,39,40,41,42,33,34,35,36,37,38,39,40,41,42,34,35,36,37,38,39,40,41,42,35,36,37,38,39,40,41,42,36,37,38,39,40,41,42,37,38,39,40,41,42,38,39,40,41,42,39,40,41,42,40,41,42,41,42,42]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p4257\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p4258\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p4253\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p4254\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p4255\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p4270\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p4261\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p4262\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p4263\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.18161674774152897,0.7078794287291456,0.038187951934460805,0.8232790035569647,-0.5122870046311485,-0.293150458867179,7.888036595417014e-05,-0.8005410449837651,-0.8743425998311655,-0.06124117569503235,0.5436861120205281,0.7661729441501817,0.9740366731485705,-0.3096381744573441,-0.8339551964654183,0.563547056888136,0.44203865582957186,0.49484961067806676,-0.551578371647232,-0.47978394778970956,0.29280960187784383,0.8666089639895967,0.31994226289154276,-0.5440252395812728,0.20259905687823282,0.9289845450272396,0.16044880375903628,0.20816656569457195,-0.35682377326195275,-0.5408820606727,-0.5924383833376823,-0.8025738536455059,-0.24697864586383073,-1.0,-0.1434100144271064,-0.784443305998745,0.1983441971931265,-0.1509246230375257,-0.0007205865154939787,0.6430050980583552,0.3289646887921204,0.5577251069880864]],[\"ys\",[0.4877873420214426,0.05273519841707102,0.7485752484611499,-0.35146147795269733,0.04226245818828814,-0.6875208014654564,-0.5749377218073032,-0.23069827109438018,0.26771198011112585,0.1663987440537195,-0.2110569466112447,-0.6334801334958294,0.1636104275983452,0.7462741114509243,-0.5268575454453537,0.33336248773390037,-0.8191131931004152,0.8565471509219965,0.8114475606446893,-0.878777550865525,-0.38558853622469114,0.4467017807936096,0.034444473897277415,-0.2977587772278376,0.9502024715217221,-0.1228998285960915,-0.988863018458054,-0.7274841946125338,0.26100360381470644,0.5366881675493868,-0.6174038678942637,0.5235867998342493,-0.3150787008217976,-0.07053826011004956,-0.9447806984704012,0.07137787909208121,0.38858617054687,0.987465301456275,-0.16722773566265905,0.5952927670119605,0.6302863470233492,-0.5508212122275966]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p4271\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p4272\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p4267\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p4268\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p4269\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p4212\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p4235\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p4236\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p4237\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p4238\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p4239\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p4259\",\"attributes\":{\"renderers\":[{\"id\":\"p4256\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p4273\",\"attributes\":{\"renderers\":[{\"id\":\"p4270\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p4228\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p4229\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p4230\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p4231\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p4221\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p4222\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p4223\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p4224\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p4227\",\"attributes\":{\"axis\":{\"id\":\"p4221\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p4234\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p4228\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"55fb2a03-44a8-4eaf-85b3-f5c0c3cb88c5\",\"roots\":{\"p4204\":\"d138d7f0-5158-4959-a54a-6c9ba8fdc1e2\"},\"root_ids\":[\"p4204\"],\"notebook_comms_target\":\"p4519\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p4204"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_agent_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "56d4d99f",
   "metadata": {},
   "source": [
    "### Setting the location size\n",
    "\n",
    "In the next step, we specify the number of people in one classroom.\n",
    "In this example, we assume tiny classrooms of four agents.\n",
    "To set the number of agents per location, we need to set the class attribute `n_agents` to the desired value."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "id": "c6d677df",
   "metadata": {},
   "outputs": [],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "id": "8a53c8e8",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(AgentList (42 objects), LocationList (10 objects))"
      ]
     },
     "execution_count": 53,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 54,
   "id": "f99d13a8",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"b942b284-bd6b-4555-972b-af71dbe89d2c\" data-root-id=\"p4615\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"03f2dd48-17ea-41ca-a9f5-5b8bf1a56d3c\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p4615\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p4617\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p4616\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p4628\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p4630\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p4622\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p4667\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p4658\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p4659\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p4660\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.8780038571506297,0.9158509603449664],[0.9180559661808976,0.9158509603449664],[0.8896927636086512,0.9158509603449664],[0.982996867418758,0.9158509603449664],[-0.1681135922023452,-0.1345263100514076],[-0.07783133276758628,-0.1345263100514076],[-0.07272887732000329,-0.1345263100514076],[-0.20615673637314305,-0.1345263100514076],[0.8591931292158153,0.8219224441552515],[0.906645959342546,0.8219224441552515],[0.7418878829115578,0.8219224441552515],[0.8633708766387349,0.8219224441552515],[-0.46758145992627176,-0.49185943325544734],[-0.43076683696755114,-0.49185943325544734],[-0.568520433005968,-0.49185943325544734],[-0.5373247564940247,-0.49185943325544734],[0.07491454924413607,0.06760418539332898],[0.05319043905318638,0.06760418539332898],[0.1267310917288289,0.06760418539332898],[0.018802936801468308,0.06760418539332898],[-0.85314785590389,-0.7872561560013107],[-0.7176831910654787,-0.7872561560013107],[-0.7033243885771123,-0.7872561560013107],[-0.8705784124048841,-0.7872561560013107],[0.1508740248852263,0.18424405257188678],[0.2360515468660838,0.18424405257188678],[0.1302526845451121,0.18424405257188678],[0.24288991442373653,0.18424405257188678],[-0.7206714553653756,-0.8192769331387053],[-0.9005831279279629,-0.8192769331387053],[-0.8071233038375191,-0.8192769331387053],[-0.8921100838693787,-0.8192769331387053],[0.444909567397647,0.40172762871631024],[0.3488468226672495,0.40172762871631024],[0.3835285091150296,0.40172762871631024],[0.4775232847720659,0.40172762871631024],[-0.39830125620837986,-0.3421127051762833],[-0.3350100083830402,-0.3421127051762833],[-0.3838058034073968,-0.3421127051762833],[-0.29043173102001185,-0.3421127051762833],[1.0,0.9158509603449664],[-0.1428857644986266,-0.1345263100514076]]],[\"ys\",[[0.2324823686138258,0.29111228681182616],[0.3421349529339501,0.29111228681182616],[0.3709685558159196,0.29111228681182616],[0.3242806326578427,0.29111228681182616],[-0.38815671549441677,-0.45051377136477594],[-0.4085919902184049,-0.45051377136477594],[-0.4918686600559353,-0.45051377136477594],[-0.4635497414836729,-0.45051377136477594],[-0.23200705907529684,-0.2857648981822677],[-0.30439719077305877,-0.2857648981822677],[-0.25784080230883183,-0.2857648981822677],[-0.35507418634856586,-0.2857648981822677],[0.6649039470516613,0.5983693335532623],[0.5090967986270853,0.5983693335532623],[0.6190129478481425,0.5983693335532623],[0.6749263449811953,0.5983693335532623],[0.9667503011181581,0.8750021921313269],[0.7496195780157325,0.8750021921313269],[0.9312327635829215,0.8750021921313269],[0.9364212988620414,0.8750021921313269],[0.2906156495001556,0.23707171381602102],[0.1845191262508027,0.23707171381602102],[0.24585460446437402,0.23707171381602102],[0.22720877685217225,0.23707171381602102],[0.47606021256781855,0.5302975100260251],[0.5873677188896936,0.5302975100260251],[0.5694862532554835,0.5302975100260251],[0.4970532300309668,0.5302975100260251],[-0.24226375218082213,-0.2847045781718393],[-0.2670249560329446,-0.2847045781718393],[-0.34796884228090685,-0.2847045781718393],[-0.33154922706998974,-0.2847045781718393],[-0.7836220495178637,-0.7106846309683671],[-0.6184715833259233,-0.7106846309683671],[-0.7882107222548718,-0.7106846309683671],[-0.7302389788181902,-0.7106846309683671],[-0.8543992269720003,-0.7838333313900062],[-0.8702825401531689,-0.7838333313900062],[-0.7337244665951999,-0.7838333313900062],[-0.6871207377598227,-0.7838333313900062],[0.26534661723741015,0.29111228681182616],[-0.5253310766986681,-0.45051377136477594]]],[\"_u\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"_v\",[43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,46,47,47,47,47,48,48,48,48,49,49,49,49,50,50,50,50,51,51,51,51,52,52,52,52,43,44]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p4668\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p4669\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p4664\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p4665\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p4666\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p4681\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p4672\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p4673\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p4674\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.8780038571506297,0.9180559661808976,0.8896927636086512,0.982996867418758,-0.1681135922023452,-0.07783133276758628,-0.07272887732000329,-0.20615673637314305,0.8591931292158153,0.906645959342546,0.7418878829115578,0.8633708766387349,-0.46758145992627176,-0.43076683696755114,-0.568520433005968,-0.5373247564940247,0.07491454924413607,0.05319043905318638,0.1267310917288289,0.018802936801468308,-0.85314785590389,-0.7176831910654787,-0.7033243885771123,-0.8705784124048841,0.1508740248852263,0.2360515468660838,0.1302526845451121,0.24288991442373653,-0.7206714553653756,-0.9005831279279629,-0.8071233038375191,-0.8921100838693787,0.444909567397647,0.3488468226672495,0.3835285091150296,0.4775232847720659,-0.39830125620837986,-0.3350100083830402,-0.3838058034073968,-0.29043173102001185,1.0,-0.1428857644986266]],[\"ys\",[0.2324823686138258,0.3421349529339501,0.3709685558159196,0.3242806326578427,-0.38815671549441677,-0.4085919902184049,-0.4918686600559353,-0.4635497414836729,-0.23200705907529684,-0.30439719077305877,-0.25784080230883183,-0.35507418634856586,0.6649039470516613,0.5090967986270853,0.6190129478481425,0.6749263449811953,0.9667503011181581,0.7496195780157325,0.9312327635829215,0.9364212988620414,0.2906156495001556,0.1845191262508027,0.24585460446437402,0.22720877685217225,0.47606021256781855,0.5873677188896936,0.5694862532554835,0.4970532300309668,-0.24226375218082213,-0.2670249560329446,-0.34796884228090685,-0.33154922706998974,-0.7836220495178637,-0.6184715833259233,-0.7882107222548718,-0.7302389788181902,-0.8543992269720003,-0.8702825401531689,-0.7337244665951999,-0.6871207377598227,0.26534661723741015,-0.5253310766986681]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\",\"rgb(144, 212, 103)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p4682\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p4683\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p4678\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p4679\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p4680\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p4693\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p4684\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p4685\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p4686\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.9158509603449664,-0.1345263100514076,0.8219224441552515,-0.49185943325544734,0.06760418539332898,-0.7872561560013107,0.18424405257188678,-0.8192769331387053,0.40172762871631024,-0.3421127051762833]],[\"ys\",[0.29111228681182616,-0.45051377136477594,-0.2857648981822677,0.5983693335532623,0.8750021921313269,0.23707171381602102,0.5302975100260251,-0.2847045781718393,-0.7106846309683671,-0.7838333313900062]],[\"_node\",[43,44,45,46,47,48,49,50,51,52]],[\"bipartite\",[1,1,1,1,1,1,1,1,1,1]],[\"type\",[\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\"]],[\"_colormap\",[\"rgb(31, 252, 179)\",\"rgb(31, 252, 179)\",\"rgb(31, 252, 179)\",\"rgb(31, 252, 179)\",\"rgb(31, 252, 179)\",\"rgb(31, 252, 179)\",\"rgb(31, 252, 179)\",\"rgb(31, 252, 179)\",\"rgb(31, 252, 179)\",\"rgb(31, 252, 179)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p4694\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p4695\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p4690\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p4691\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p4692\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p4623\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p4646\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p4647\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p4648\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p4649\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p4650\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p4670\",\"attributes\":{\"renderers\":[{\"id\":\"p4667\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p4696\",\"attributes\":{\"renderers\":[{\"id\":\"p4681\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p4698\",\"attributes\":{\"renderers\":[{\"id\":\"p4693\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p4639\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p4640\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p4641\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p4642\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p4632\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p4633\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p4634\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p4635\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p4638\",\"attributes\":{\"axis\":{\"id\":\"p4632\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p4645\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p4639\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"03f2dd48-17ea-41ca-a9f5-5b8bf1a56d3c\",\"roots\":{\"p4615\":\"b942b284-bd6b-4555-972b-af71dbe89d2c\"},\"root_ids\":[\"p4615\"],\"notebook_comms_target\":\"p4968\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p4615"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 55,
   "id": "84be1bcd",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"bdb80dc6-48de-4b3c-b23e-ea00a0f42c74\" data-root-id=\"p5089\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"a520973b-b24b-40ef-ad66-7b773a6916a8\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p5089\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p5091\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p5090\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p5102\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p5104\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p5096\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p5141\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p5132\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p5133\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p5134\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.6958132112374807,0.7447122721877076],[0.6958132112374807,0.7281432786461575],[0.6958132112374807,0.6719032443023948],[0.6958132112374807,0.710441550352136],[0.7447122721877076,0.7281432786461575],[0.7447122721877076,0.6719032443023948],[0.7447122721877076,0.710441550352136],[0.7281432786461575,0.6719032443023948],[0.7281432786461575,0.710441550352136],[0.6719032443023948,0.710441550352136],[-0.8009630301040962,-0.7506922177715535],[-0.8009630301040962,-0.7880950277235724],[-0.8009630301040962,-0.7310759406258204],[-0.8009630301040962,-0.7556255527178118],[-0.7506922177715535,-0.7880950277235724],[-0.7506922177715535,-0.7310759406258204],[-0.7506922177715535,-0.7556255527178118],[-0.7880950277235724,-0.7310759406258204],[-0.7880950277235724,-0.7556255527178118],[-0.7310759406258204,-0.7556255527178118],[0.24991947720012647,0.2144812056095156],[0.24991947720012647,0.26020828211313374],[0.24991947720012647,0.20556202959141945],[0.2144812056095156,0.26020828211313374],[0.2144812056095156,0.20556202959141945],[0.26020828211313374,0.20556202959141945],[0.2540145159816669,0.31739758787779],[0.2540145159816669,0.297970145709994],[0.2540145159816669,0.2724874373849872],[0.297970145709994,0.31739758787779],[0.297970145709994,0.2724874373849872],[0.2724874373849872,0.31739758787779],[-0.4899864514703556,-0.42393717816440984],[-0.4899864514703556,-0.4425573174136248],[-0.4899864514703556,-0.46416942340604755],[-0.42393717816440984,-0.4425573174136248],[-0.42393717816440984,-0.46416942340604755],[-0.4425573174136248,-0.46416942340604755],[-0.040521739341703916,-0.053988844242356906],[-0.040521739341703916,-0.08012479852474529],[-0.040521739341703916,-0.015188894867008687],[-0.08012479852474529,-0.053988844242356906],[-0.08012479852474529,-0.015188894867008687],[-0.015188894867008687,-0.053988844242356906],[0.26286893671117595,0.26238202647528175],[0.26286893671117595,0.21423218154111348],[0.26286893671117595,0.21453492228710877],[0.26238202647528175,0.21423218154111348],[0.26238202647528175,0.21453492228710877],[0.21423218154111348,0.21453492228710877],[-0.7253719278548277,-0.7081416025377626],[-0.7253719278548277,-0.6806833808830632],[-0.7253719278548277,-0.7531889009493279],[-0.6806833808830632,-0.7081416025377626],[-0.6806833808830632,-0.7531889009493279],[-0.7531889009493279,-0.7081416025377626],[-0.4640777557434878,-0.4030389916831034],[-0.4640777557434878,-0.4423665652810257],[-0.4640777557434878,-0.41834007803164797],[-0.4030389916831034,-0.4423665652810257],[-0.4030389916831034,-0.41834007803164797],[-0.4423665652810257,-0.41834007803164797],[1.0,0.9490560496716746],[1.0,0.9691444479204805],[1.0,0.9368628165360084],[0.9691444479204805,0.9490560496716746],[0.9691444479204805,0.9368628165360084],[0.9368628165360084,0.9490560496716746]]],[\"ys\",[[0.3293030384288537,0.3629006856346895],[0.3293030384288537,0.31929106501859833],[0.3293030384288537,0.3574251643364036],[0.3293030384288537,0.3860205617736678],[0.3629006856346895,0.31929106501859833],[0.3629006856346895,0.3574251643364036],[0.3629006856346895,0.3860205617736678],[0.31929106501859833,0.3574251643364036],[0.31929106501859833,0.3860205617736678],[0.3574251643364036,0.3860205617736678],[-0.5153912122650841,-0.4600437153540893],[-0.5153912122650841,-0.46846909549904847],[-0.5153912122650841,-0.4955917678414316],[-0.5153912122650841,-0.5217358546793395],[-0.4600437153540893,-0.46846909549904847],[-0.4600437153540893,-0.4955917678414316],[-0.4600437153540893,-0.5217358546793395],[-0.46846909549904847,-0.4955917678414316],[-0.46846909549904847,-0.5217358546793395],[-0.4955917678414316,-0.5217358546793395],[0.7116291281125807,0.643567354938586],[0.7116291281125807,0.6663432728096337],[0.7116291281125807,0.6999540526418027],[0.643567354938586,0.6663432728096337],[0.643567354938586,0.6999540526418027],[0.6663432728096337,0.6999540526418027],[-0.6295438650085158,-0.6581520789833785],[-0.6295438650085158,-0.6121738588693852],[-0.6295438650085158,-0.6738215619511748],[-0.6121738588693852,-0.6581520789833785],[-0.6121738588693852,-0.6738215619511748],[-0.6738215619511748,-0.6581520789833785],[0.46304699189148113,0.43986349125421315],[0.46304699189148113,0.4802036466666886],[0.46304699189148113,0.41789764137130747],[0.43986349125421315,0.4802036466666886],[0.43986349125421315,0.41789764137130747],[0.4802036466666886,0.41789764137130747],[-0.8881701952996099,-0.8232621405010515],[-0.8881701952996099,-0.8930006914756808],[-0.8881701952996099,-0.8636256157748367],[-0.8930006914756808,-0.8232621405010515],[-0.8930006914756808,-0.8636256157748367],[-0.8636256157748367,-0.8232621405010515],[-0.14700987679431804,-0.09946861518025975],[-0.14700987679431804,-0.09891183346957431],[-0.14700987679431804,-0.14661005775269048],[-0.09946861518025975,-0.09891183346957431],[-0.09946861518025975,-0.14661005775269048],[-0.09891183346957431,-0.14661005775269048],[-0.008045408470971741,0.05386845521242862],[-0.008045408470971741,0.01401541842322904],[-0.008045408470971741,0.03171187792446481],[0.01401541842322904,0.05386845521242862],[0.01401541842322904,0.03171187792446481],[0.03171187792446481,0.05386845521242862],[0.8210969094837306,0.7693744207414812],[0.8210969094837306,0.7928192661551254],[0.8210969094837306,0.844726798406618],[0.7693744207414812,0.7928192661551254],[0.7693744207414812,0.844726798406618],[0.7928192661551254,0.844726798406618],[-0.16641281345923686,-0.1436442927161517],[-0.16641281345923686,-0.11341397145882628],[-0.16641281345923686,-0.17856071842092783],[-0.11341397145882628,-0.1436442927161517],[-0.11341397145882628,-0.17856071842092783],[-0.17856071842092783,-0.1436442927161517]]],[\"_u\",[1,1,1,1,2,2,2,3,3,4,5,5,5,5,6,6,6,7,7,8,9,9,9,10,10,11,13,13,13,14,14,15,17,17,17,18,18,19,21,21,21,22,22,23,25,25,25,26,26,27,29,29,29,30,30,31,33,33,33,34,34,35,37,37,37,38,38,39]],[\"_v\",[2,3,4,41,3,4,41,4,41,41,6,7,8,42,7,8,42,8,42,42,10,11,12,11,12,12,16,14,15,16,15,16,18,19,20,19,20,20,24,22,23,24,23,24,26,27,28,27,28,28,32,30,31,32,31,32,34,35,36,35,36,36,40,38,39,40,39,40]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p5142\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p5143\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p5138\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p5139\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p5140\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p5155\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p5146\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p5147\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p5148\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.6958132112374807,0.7447122721877076,0.7281432786461575,0.6719032443023948,-0.8009630301040962,-0.7506922177715535,-0.7880950277235724,-0.7310759406258204,0.24991947720012647,0.2144812056095156,0.26020828211313374,0.20556202959141945,0.2540145159816669,0.297970145709994,0.2724874373849872,0.31739758787779,-0.4899864514703556,-0.42393717816440984,-0.4425573174136248,-0.46416942340604755,-0.040521739341703916,-0.08012479852474529,-0.015188894867008687,-0.053988844242356906,0.26286893671117595,0.26238202647528175,0.21423218154111348,0.21453492228710877,-0.7253719278548277,-0.6806833808830632,-0.7531889009493279,-0.7081416025377626,-0.4640777557434878,-0.4030389916831034,-0.4423665652810257,-0.41834007803164797,1.0,0.9691444479204805,0.9368628165360084,0.9490560496716746,0.710441550352136,-0.7556255527178118]],[\"ys\",[0.3293030384288537,0.3629006856346895,0.31929106501859833,0.3574251643364036,-0.5153912122650841,-0.4600437153540893,-0.46846909549904847,-0.4955917678414316,0.7116291281125807,0.643567354938586,0.6663432728096337,0.6999540526418027,-0.6295438650085158,-0.6121738588693852,-0.6738215619511748,-0.6581520789833785,0.46304699189148113,0.43986349125421315,0.4802036466666886,0.41789764137130747,-0.8881701952996099,-0.8930006914756808,-0.8636256157748367,-0.8232621405010515,-0.14700987679431804,-0.09946861518025975,-0.09891183346957431,-0.14661005775269048,-0.008045408470971741,0.01401541842322904,0.03171187792446481,0.05386845521242862,0.8210969094837306,0.7693744207414812,0.7928192661551254,0.844726798406618,-0.16641281345923686,-0.11341397145882628,-0.17856071842092783,-0.1436442927161517,0.3860205617736678,-0.5217358546793395]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p5156\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p5157\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p5152\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p5153\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p5154\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p5097\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p5120\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p5121\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p5122\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p5123\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p5124\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p5144\",\"attributes\":{\"renderers\":[{\"id\":\"p5141\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p5158\",\"attributes\":{\"renderers\":[{\"id\":\"p5155\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p5113\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p5114\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p5115\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p5116\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p5106\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p5107\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p5108\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p5109\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p5112\",\"attributes\":{\"axis\":{\"id\":\"p5106\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p5119\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p5113\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"a520973b-b24b-40ef-ad66-7b773a6916a8\",\"roots\":{\"p5089\":\"bdb80dc6-48de-4b3c-b23e-ea00a0f42c74\"},\"root_ids\":[\"p5089\"],\"notebook_comms_target\":\"p5447\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p5089"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_agent_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b1b9ee91",
   "metadata": {},
   "source": [
    "The network diagrams above now show multiple clusters.\n",
    "Each cluster represents one classroom.\n",
    "If we set a specific size for a location, the Creator creates as many location instances with that size as needed.\n",
    "The agents are then assigned randomly to one of these location instances.\n",
    "As you can see, some classrooms have less than four members because the number of agents assigned to classrooms cannot be divided exactly by the desired number of four.\n",
    "\n",
    "The `overcrowding` attribute determines how the number of required locations is rounded.\n",
    "By default, `overcrowding` is set to `None` which means that the number of required locations is either rounded up or rounded down using `round`.\n",
    "Below we change `overcrowding` to `True` to create one less location instance and *overcrowd* the classrooms instead."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 56,
   "id": "1aba6d5c",
   "metadata": {},
   "outputs": [],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4\n",
    "    overcrowding = True"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 57,
   "id": "b11c31f0",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(AgentList (42 objects), LocationList (10 objects))"
      ]
     },
     "execution_count": 57,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 58,
   "id": "37174a23",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"b000e77a-b419-4b85-9a21-9ab24a63384e\" data-root-id=\"p5543\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"a52ef0e6-a999-4d2b-8d1f-c044d526ac4c\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p5543\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p5545\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p5544\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p5556\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p5558\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p5550\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p5595\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p5586\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p5587\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p5588\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.4907542674119881,0.47153811355329117],[0.540016068991917,0.47153811355329117],[0.4337701229859469,0.47153811355329117],[0.5480794220607441,0.47153811355329117],[-0.6688094544686798,-0.6172343469809177],[-0.5430812552902138,-0.6172343469809177],[-0.6442647585204284,-0.6172343469809177],[-0.694752893495917,-0.6172343469809177],[-0.12833150754359943,-0.16453009249355482],[-0.19288580004381484,-0.16453009249355482],[-0.2275654763412303,-0.16453009249355482],[-0.1435241097368036,-0.16453009249355482],[-0.9483607637941056,-0.9024008259174948],[-0.9395831808709986,-0.9024008259174948],[-0.8697061917077434,-0.9024008259174948],[-0.9033367925203634,-0.9024008259174948],[0.8310431850322207,0.7724347693340654],[0.6993768724642693,0.7724347693340654],[0.7429773030532475,0.7724347693340654],[0.8532541686323587,0.7724347693340654],[0.6933873059225459,0.6282290005804928],[0.5583333669758689,0.6282290005804928],[0.6917652263005921,0.6282290005804928],[0.6207944096017425,0.6282290005804928],[0.18436421597963248,0.2131782191848896],[0.18382799087732762,0.2131782191848896],[0.24965902368283757,0.2131782191848896],[0.25055423329162724,0.2131782191848896],[-0.5099482551604061,-0.48605827086778325],[-0.5575330834789723,-0.48605827086778325],[-0.4260316051257981,-0.48605827086778325],[-0.4394198624352452,-0.48605827086778325],[-0.3411239362326912,-0.4043136762104927],[-0.4721012402676189,-0.4043136762104927],[-0.4248173705428113,-0.4043136762104927],[-0.40041052155672935,-0.4043136762104927],[0.443422165470894,0.4975726171178654],[0.47586399218374237,0.4975726171178654],[0.5658200586290131,0.4975726171178654],[0.5447155560254812,0.4975726171178654],[0.4311944713447372,0.47153811355329117],[-0.5658008750849264,-0.6172343469809177]]],[\"ys\",[[0.8284151957035963,0.7460985794676411],[0.8021554992339329,0.7460985794676411],[0.8113588034852524,0.7460985794676411],[0.7428584909457334,0.7460985794676411],[0.45912311525598787,0.5015811365998092],[0.5016619510451371,0.5015811365998092],[0.5792784018867742,0.5015811365998092],[0.5414338621509213,0.5015811365998092],[0.9026308705837975,0.8352065919339011],[0.9150107455612073,0.8352065919339011],[0.8369690353531821,0.8352065919339011],[0.7514920405421667,0.8352065919339011],[-0.07769991231355627,-0.044951501138617934],[0.01140182597877327,-0.044951501138617934],[0.005053437100254525,-0.044951501138617934],[-0.11493000011182736,-0.044951501138617934],[-0.11416446205018453,-0.1562832053652223],[-0.13596284223364585,-0.1562832053652223],[-0.21206149276000494,-0.1562832053652223],[-0.1819916881656,-0.1562832053652223],[-0.6141824630524856,-0.6316717211334698],[-0.5694238869985525,-0.6316717211334698],[-0.6886919087926304,-0.6316717211334698],[-0.7000469496637549,-0.6316717211334698],[-1.0,-0.9246452130910938],[-0.8424650065909196,-0.9246452130910938],[-0.9971863300949971,-0.9246452130910938],[-0.8669175643969643,-0.9246452130910938],[-0.7685411001344327,-0.689181189618015],[-0.7232674749678472,-0.689181189618015],[-0.7019565870226013,-0.689181189618015],[-0.6017645846053514,-0.689181189618015],[-0.18608839039242075,-0.170731333063447],[-0.16698600435654015,-0.170731333063447],[-0.2360228203113431,-0.170731333063447],[-0.10677612020783533,-0.170731333063447],[0.29447619284350485,0.26050307191569094],[0.2017120822021435,0.26050307191569094],[0.2440212594194752,0.26050307191569094],[0.31562156389939144,0.26050307191569094],[0.7011247258637865,0.7460985794676411],[0.4354032736612995,0.5015811365998092]]],[\"_u\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"_v\",[43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,46,47,47,47,47,48,48,48,48,49,49,49,49,50,50,50,50,51,51,51,51,52,52,52,52,43,44]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p5596\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p5597\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p5592\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p5593\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p5594\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p5609\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p5600\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p5601\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p5602\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.4907542674119881,0.540016068991917,0.4337701229859469,0.5480794220607441,-0.6688094544686798,-0.5430812552902138,-0.6442647585204284,-0.694752893495917,-0.12833150754359943,-0.19288580004381484,-0.2275654763412303,-0.1435241097368036,-0.9483607637941056,-0.9395831808709986,-0.8697061917077434,-0.9033367925203634,0.8310431850322207,0.6993768724642693,0.7429773030532475,0.8532541686323587,0.6933873059225459,0.5583333669758689,0.6917652263005921,0.6207944096017425,0.18436421597963248,0.18382799087732762,0.24965902368283757,0.25055423329162724,-0.5099482551604061,-0.5575330834789723,-0.4260316051257981,-0.4394198624352452,-0.3411239362326912,-0.4721012402676189,-0.4248173705428113,-0.40041052155672935,0.443422165470894,0.47586399218374237,0.5658200586290131,0.5447155560254812,0.4311944713447372,-0.5658008750849264]],[\"ys\",[0.8284151957035963,0.8021554992339329,0.8113588034852524,0.7428584909457334,0.45912311525598787,0.5016619510451371,0.5792784018867742,0.5414338621509213,0.9026308705837975,0.9150107455612073,0.8369690353531821,0.7514920405421667,-0.07769991231355627,0.01140182597877327,0.005053437100254525,-0.11493000011182736,-0.11416446205018453,-0.13596284223364585,-0.21206149276000494,-0.1819916881656,-0.6141824630524856,-0.5694238869985525,-0.6886919087926304,-0.7000469496637549,-1.0,-0.8424650065909196,-0.9971863300949971,-0.8669175643969643,-0.7685411001344327,-0.7232674749678472,-0.7019565870226013,-0.6017645846053514,-0.18608839039242075,-0.16698600435654015,-0.2360228203113431,-0.10677612020783533,0.29447619284350485,0.2017120822021435,0.2440212594194752,0.31562156389939144,0.7011247258637865,0.4354032736612995]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\",\"rgb(174, 1, 102)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p5610\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p5611\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p5606\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p5607\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p5608\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p5621\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p5612\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p5613\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p5614\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.47153811355329117,-0.6172343469809177,-0.16453009249355482,-0.9024008259174948,0.7724347693340654,0.6282290005804928,0.2131782191848896,-0.48605827086778325,-0.4043136762104927,0.4975726171178654]],[\"ys\",[0.7460985794676411,0.5015811365998092,0.8352065919339011,-0.044951501138617934,-0.1562832053652223,-0.6316717211334698,-0.9246452130910938,-0.689181189618015,-0.170731333063447,0.26050307191569094]],[\"_node\",[43,44,45,46,47,48,49,50,51,52]],[\"bipartite\",[1,1,1,1,1,1,1,1,1,1]],[\"type\",[\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\"]],[\"_colormap\",[\"rgb(113, 226, 118)\",\"rgb(113, 226, 118)\",\"rgb(113, 226, 118)\",\"rgb(113, 226, 118)\",\"rgb(113, 226, 118)\",\"rgb(113, 226, 118)\",\"rgb(113, 226, 118)\",\"rgb(113, 226, 118)\",\"rgb(113, 226, 118)\",\"rgb(113, 226, 118)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p5622\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p5623\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p5618\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p5619\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p5620\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p5551\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p5574\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p5575\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p5576\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p5577\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p5578\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p5598\",\"attributes\":{\"renderers\":[{\"id\":\"p5595\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p5624\",\"attributes\":{\"renderers\":[{\"id\":\"p5609\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p5626\",\"attributes\":{\"renderers\":[{\"id\":\"p5621\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p5567\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p5568\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p5569\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p5570\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p5560\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p5561\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p5562\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p5563\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p5566\",\"attributes\":{\"axis\":{\"id\":\"p5560\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p5573\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p5567\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"a52ef0e6-a999-4d2b-8d1f-c044d526ac4c\",\"roots\":{\"p5543\":\"b000e77a-b419-4b85-9a21-9ab24a63384e\"},\"root_ids\":[\"p5543\"],\"notebook_comms_target\":\"p5939\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p5543"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "387cbebe",
   "metadata": {},
   "source": [
    "The plot above now shows that there is one class room less and two class rooms have 5 members.\n",
    "We could also set `round_function` to `round` to round down or up.\n",
    "\n",
    "If we do not want locations that are either overcrowded or undercrowded but only locations that have exactly the size we defined, we could use the attribute `exact_size_only` to `True`:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 59,
   "id": "a6746bab",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"dc5799a6-c4ff-4613-8df3-344c5162e5e8\" data-root-id=\"p6060\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"b835b8c3-470d-4888-8e12-a7cfbbe424e1\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p6060\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p6062\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p6061\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p6073\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p6075\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p6067\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p6112\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p6103\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p6104\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p6105\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.3247133149744243,-0.2591439639701777],[-0.24632245142490952,-0.2591439639701777],[-0.1895563266346598,-0.2591439639701777],[-0.3118738676991144,-0.2591439639701777],[-0.8484839233341029,-0.7728864355065864],[-0.8547778900243683,-0.7728864355065864],[-0.7007637033362788,-0.7728864355065864],[-0.6996584554515313,-0.7728864355065864],[-0.9526149692955128,-0.8641259659396878],[-0.9184222077953057,-0.8641259659396878],[-0.7624072062689478,-0.8641259659396878],[-0.9071831452832418,-0.8641259659396878],[0.8646585222507194,0.8636617676442355],[0.9095210314696294,0.8636617676442355],[0.7681903678359719,0.8636617676442355],[0.9485069640541797,0.8636617676442355],[0.3258030596769127,0.39566179111274424],[0.3611072606676017,0.39566179111274424],[0.42412450876709484,0.39566179111274424],[0.43534494789641026,0.39566179111274424],[0.8992006835185852,0.8563259576300087],[0.9441816968254854,0.8563259576300087],[0.7555199922657125,0.8563259576300087],[0.8988297040135061,0.8563259576300087],[0.3598286003961324,0.38677838151533483],[0.3286914427214285,0.38677838151533483],[0.4283641069970074,0.38677838151533483],[0.45132789547417657,0.38677838151533483],[-0.603271082637215,-0.6259539309640224],[-0.7040922385596494,-0.6259539309640224],[-0.6509966243907077,-0.6259539309640224],[-0.5477592522894525,-0.6259539309640224],[0.30419505300689625,0.3417030802505069],[0.30185454218640806,0.3417030802505069],[0.41348951088059593,0.3417030802505069],[0.37198903209085527,0.3417030802505069],[-0.049966478136352355,-0.11216076098803404],[-0.08556804683762434,-0.11216076098803404],[-0.17740368010363003,-0.11216076098803404],[-0.13324265632522342,-0.11216076098803404],[-0.23549411879930368,-0.2591439639701777],[-0.8000172041780751,-0.7728864355065864]]],[\"ys\",[[-0.8678874938197688,-0.892634313333491],[-0.9794618703909026,-0.892634313333491],[-0.8795899279038779,-0.892634313333491],[-0.9650107016358854,-0.892634313333491],[-0.4042697979926296,-0.4304108268460842],[-0.4713323607579506,-0.4304108268460842],[-0.4427572667948103,-0.4304108268460842],[-0.3660281946089859,-0.4304108268460842],[0.16206760358367,0.1498458135336367],[0.09983886287171392,0.1498458135336367],[0.13311744359643413,0.1498458135336367],[0.2135206198971255,0.1498458135336367],[-0.45943958629411513,-0.5245025339826588],[-0.5952711520534889,-0.5245025339826588],[-0.4879192389960387,-0.5245025339826588],[-0.538098162076702,-0.5245025339826588],[0.9670369462279899,0.9445656511373205],[0.9085566130329613,0.9445656511373205],[1.0,0.9445656511373205],[0.8800712865095631,0.9445656511373205],[0.2922350739735135,0.34534729724634705],[0.363956756716085,0.34534729724634705],[0.3127948732697285,0.34534729724634705],[0.41512483617709633,0.34534729724634705],[0.09395593585438479,0.030783901284879515],[-0.005540995467953528,0.030783901284879515],[-0.026685094855449194,0.030783901284879515],[0.06108517506672921,0.030783901284879515],[0.5967033351262104,0.6736942078532856],[0.7068294383069548,0.6736942078532856],[0.7522892301797233,0.6736942078532856],[0.636602978107528,0.6736942078532856],[-0.7117578575259746,-0.8032422412285395],[-0.8631738937383726,-0.8032422412285395],[-0.8307692193925114,-0.8032422412285395],[-0.8866229837769518,-0.8032422412285395],[0.8191606404554778,0.7927813826285934],[0.7369257262142084,0.7927813826285934],[0.7763683203393665,0.7927813826285934],[0.8767472899834442,0.7927813826285934],[-0.8014323147577492,-0.892634313333491],[-0.5081692109430813,-0.4304108268460842]]],[\"_u\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"_v\",[43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,46,47,47,47,47,48,48,48,48,49,49,49,49,50,50,50,50,51,51,51,51,52,52,52,52,43,44]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p6113\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p6114\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p6109\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p6110\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p6111\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p6126\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p6117\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p6118\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p6119\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.3247133149744243,-0.24632245142490952,-0.1895563266346598,-0.3118738676991144,-0.8484839233341029,-0.8547778900243683,-0.7007637033362788,-0.6996584554515313,-0.9526149692955128,-0.9184222077953057,-0.7624072062689478,-0.9071831452832418,0.8646585222507194,0.9095210314696294,0.7681903678359719,0.9485069640541797,0.3258030596769127,0.3611072606676017,0.42412450876709484,0.43534494789641026,0.8992006835185852,0.9441816968254854,0.7555199922657125,0.8988297040135061,0.3598286003961324,0.3286914427214285,0.4283641069970074,0.45132789547417657,-0.603271082637215,-0.7040922385596494,-0.6509966243907077,-0.5477592522894525,0.30419505300689625,0.30185454218640806,0.41348951088059593,0.37198903209085527,-0.049966478136352355,-0.08556804683762434,-0.17740368010363003,-0.13324265632522342,-0.23549411879930368,-0.8000172041780751]],[\"ys\",[-0.8678874938197688,-0.9794618703909026,-0.8795899279038779,-0.9650107016358854,-0.4042697979926296,-0.4713323607579506,-0.4427572667948103,-0.3660281946089859,0.16206760358367,0.09983886287171392,0.13311744359643413,0.2135206198971255,-0.45943958629411513,-0.5952711520534889,-0.4879192389960387,-0.538098162076702,0.9670369462279899,0.9085566130329613,1.0,0.8800712865095631,0.2922350739735135,0.363956756716085,0.3127948732697285,0.41512483617709633,0.09395593585438479,-0.005540995467953528,-0.026685094855449194,0.06108517506672921,0.5967033351262104,0.7068294383069548,0.7522892301797233,0.636602978107528,-0.7117578575259746,-0.8631738937383726,-0.8307692193925114,-0.8866229837769518,0.8191606404554778,0.7369257262142084,0.7763683203393665,0.8767472899834442,-0.8014323147577492,-0.5081692109430813]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\",\"rgb(127, 91, 219)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p6127\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p6128\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p6123\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p6124\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p6125\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p6138\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p6129\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p6130\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p6131\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.2591439639701777,-0.7728864355065864,-0.8641259659396878,0.8636617676442355,0.39566179111274424,0.8563259576300087,0.38677838151533483,-0.6259539309640224,0.3417030802505069,-0.11216076098803404]],[\"ys\",[-0.892634313333491,-0.4304108268460842,0.1498458135336367,-0.5245025339826588,0.9445656511373205,0.34534729724634705,0.030783901284879515,0.6736942078532856,-0.8032422412285395,0.7927813826285934]],[\"_node\",[43,44,45,46,47,48,49,50,51,52]],[\"bipartite\",[1,1,1,1,1,1,1,1,1,1]],[\"type\",[\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\"]],[\"_colormap\",[\"rgb(196, 141, 21)\",\"rgb(196, 141, 21)\",\"rgb(196, 141, 21)\",\"rgb(196, 141, 21)\",\"rgb(196, 141, 21)\",\"rgb(196, 141, 21)\",\"rgb(196, 141, 21)\",\"rgb(196, 141, 21)\",\"rgb(196, 141, 21)\",\"rgb(196, 141, 21)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p6139\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p6140\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p6135\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p6136\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p6137\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p6068\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p6091\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p6092\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p6093\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p6094\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p6095\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p6115\",\"attributes\":{\"renderers\":[{\"id\":\"p6112\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p6141\",\"attributes\":{\"renderers\":[{\"id\":\"p6126\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p6143\",\"attributes\":{\"renderers\":[{\"id\":\"p6138\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p6084\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p6085\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p6086\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p6087\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p6077\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p6078\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p6079\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p6080\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p6083\",\"attributes\":{\"axis\":{\"id\":\"p6077\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p6090\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p6084\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"b835b8c3-470d-4888-8e12-a7cfbbe424e1\",\"roots\":{\"p6060\":\"dc5799a6-c4ff-4613-8df3-344c5162e5e8\"},\"root_ids\":[\"p6060\"],\"notebook_comms_target\":\"p6480\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p6060"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4\n",
    "    exact_size_only = True\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])\n",
    "\n",
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ccc497ae",
   "metadata": {},
   "source": [
    "As a consequence, two agents are not assigned to any location."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "24b5eb47",
   "metadata": {},
   "source": [
    "### Defining the number of locations"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "bffa59b4",
   "metadata": {},
   "source": [
    "The attribute `n_agents` implicitly changes the number of the created locations.\n",
    "Using the attribute `n_locations`, you can also set the number of locations explicitly:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 60,
   "id": "372f9a81",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"ba18beb0-6aca-4536-b0b4-942d980c0e47\" data-root-id=\"p6601\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"0cfbd4f5-bbf3-4eeb-819d-4721910c9e34\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p6601\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p6603\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p6602\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p6614\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p6616\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p6608\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p6653\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p6644\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p6645\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p6646\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.8028864552953763,-0.7312184627520787],[-0.7950487494463853,-0.7312184627520787],[-0.6753044640704133,-0.7312184627520787],[-0.694503711067377,-0.7312184627520787],[0.3974963130577256,0.3305140107310447],[0.33737027714193185,0.3305140107310447],[0.3283374748188229,0.3305140107310447],[0.2689622873256329,0.3305140107310447],[-0.18434579052838385,-0.15358978962373404],[-0.11251723048087402,-0.15358978962373404],[-0.21678146158037936,-0.15358978962373404],[-0.09855663155464478,-0.15358978962373404],[-0.25751040883916815,-0.1883248049141823],[-0.20412884215432575,-0.1883248049141823],[-0.1837871794241106,-0.1883248049141823],[-0.12138926554630912,-0.1883248049141823]]],[\"ys\",[[0.38814491264242873,0.4049467130383808],[0.4618645524204174,0.4049467130383808],[0.35081356657677026,0.4049467130383808],[0.45907169024797506,0.4049467130383808],[-0.7735882949736544,-0.7320308937092558],[-0.8104488867977733,-0.7320308937092558],[-0.6606018124214479,-0.7320308937092558],[-0.7555396064383707,-0.7320308937092558],[0.661648124955709,0.5919174678428464],[0.5418390487904503,0.5919174678428464],[0.5688637966498474,0.5919174678428464],[0.633585614648201,0.5919174678428464],[-0.35684569512976044,-0.33639269146733447],[-0.2707505701783999,-0.33639269146733447],[-0.40629402878899523,-0.33639269146733447],[-0.3293262429522502,-0.33639269146733447]]],[\"_u\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]],[\"_v\",[43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,46]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p6654\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p6655\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p6650\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p6651\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p6652\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p6667\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p6658\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p6659\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p6660\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.8028864552953763,-0.7950487494463853,-0.6753044640704133,-0.694503711067377,0.3974963130577256,0.33737027714193185,0.3283374748188229,0.2689622873256329,-0.18434579052838385,-0.11251723048087402,-0.21678146158037936,-0.09855663155464478,-0.25751040883916815,-0.20412884215432575,-0.1837871794241106,-0.12138926554630912,-0.23882706554217395,0.484135101393921,-0.7587337343407482,0.04903186804669505,-0.5469107129126204,0.10987878766071707,-0.9534357083457171,-0.8010993102359452,0.7359201262970255,0.21895829074568515,-0.3921197217211763,0.9440032717992412,0.7776097300473174,-0.17368647244287597,0.6338362493847945,0.7815389189515457,-0.9135019409811305,0.946618655737848,0.863185026637243,0.3648351897196101,0.9706376759493633,-0.6441926135484753,0.6254347171551614,0.8227491474044414,0.8513474073428359,-0.9999999999999999]],[\"ys\",[0.38814491264242873,0.4618645524204174,0.35081356657677026,0.45907169024797506,-0.7735882949736544,-0.8104488867977733,-0.6606018124214479,-0.7555396064383707,0.661648124955709,0.5418390487904503,0.5688637966498474,0.633585614648201,-0.35684569512976044,-0.2707505701783999,-0.40629402878899523,-0.3293262429522502,0.9681125566720965,0.7208799226619209,-0.6186011154713875,0.963564362970396,0.8401173477849518,-0.9558536368465221,-0.247801736835363,-0.4049402630812554,0.46362119374008753,0.8075437446439159,-0.9195670997197342,0.18348355126908436,-0.6397766511246062,-0.8496938985711145,0.7020483475944485,0.21830668355591915,0.1998127135699373,-0.024554001270086227,-0.4566670205219507,0.870050442770134,-0.2357869771461523,-0.7998447141128713,-0.7020708556569362,-0.2721355700981262,0.5392030154573001,0.01967289281013088]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\",\"rgb(165, 109, 240)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p6668\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p6669\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p6664\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p6665\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p6666\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p6679\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p6670\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p6671\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p6672\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.7312184627520787,0.3305140107310447,-0.15358978962373404,-0.1883248049141823]],[\"ys\",[0.4049467130383808,-0.7320308937092558,0.5919174678428464,-0.33639269146733447]],[\"_node\",[43,44,45,46]],[\"bipartite\",[1,1,1,1]],[\"type\",[\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\"]],[\"_colormap\",[\"rgb(168, 73, 221)\",\"rgb(168, 73, 221)\",\"rgb(168, 73, 221)\",\"rgb(168, 73, 221)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p6680\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p6681\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p6676\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p6677\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p6678\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p6609\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p6632\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p6633\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p6634\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p6635\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p6636\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p6656\",\"attributes\":{\"renderers\":[{\"id\":\"p6653\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p6682\",\"attributes\":{\"renderers\":[{\"id\":\"p6667\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p6684\",\"attributes\":{\"renderers\":[{\"id\":\"p6679\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p6625\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p6626\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p6627\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p6628\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p6618\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p6619\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p6620\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p6621\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p6624\",\"attributes\":{\"axis\":{\"id\":\"p6618\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p6631\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p6625\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"0cfbd4f5-bbf3-4eeb-819d-4721910c9e34\",\"roots\":{\"p6601\":\"ba18beb0-6aca-4536-b0b4-942d980c0e47\"},\"root_ids\":[\"p6601\"],\"notebook_comms_target\":\"p7045\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p6601"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4\n",
    "    n_locations = 4\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])\n",
    "\n",
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "6b2b9df3",
   "metadata": {},
   "source": [
    "While in the example above four classrooms with the defined size of 4 are created, in the example below no size is set explicitly:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 61,
   "id": "1fe15d98",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"f7238b14-7175-4a0a-b581-0eac99ac8fc0\" data-root-id=\"p7166\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"dedca568-8a27-4eee-b29f-3724a72357a0\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p7166\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p7168\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p7167\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p7179\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p7181\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p7173\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p7218\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p7209\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p7210\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p7211\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.6760029659481196,-0.6942352222665183],[-0.6084833691617045,-0.6942352222665183],[-0.7997229300501356,-0.6942352222665183],[-0.8105019125635472,-0.6942352222665183],[-0.8197549137318111,-0.6942352222665183],[-0.7487265774611037,-0.6942352222665183],[-0.7444547785426047,-0.6942352222665183],[-0.7361437865453262,-0.6942352222665183],[-0.5819719181734623,-0.6942352222665183],[-0.6620060812753086,-0.6942352222665183],[-0.48197378264721735,-0.5818421246900217],[-0.554864954213515,-0.5818421246900217],[-0.5014472328472995,-0.5818421246900217],[-0.7006001597939481,-0.5818421246900217],[-0.7000546025032484,-0.5818421246900217],[-0.6636203601329654,-0.5818421246900217],[-0.6154028540165658,-0.5818421246900217],[-0.5946793409903057,-0.5818421246900217],[-0.4661762991905017,-0.5818421246900217],[-0.5533739826333295,-0.5818421246900217],[0.4070554451425376,0.5133772645496318],[0.6132060503341298,0.5133772645496318],[0.45140918828037585,0.5133772645496318],[0.4495161635088771,0.5133772645496318],[0.5092080792071796,0.5133772645496318],[0.6324483420283121,0.5133772645496318],[0.5700748483798885,0.5133772645496318],[0.5522129285209013,0.5133772645496318],[0.4304834716005384,0.5133772645496318],[0.6156119911810778,0.5133772645496318],[0.7877271204916727,0.8771982330575083],[0.8200649891635711,0.8771982330575083],[0.9324894983770305,0.8771982330575083],[0.9862208265273812,0.8771982330575083],[0.9412947278018915,0.8771982330575083],[0.8822882844903679,0.8771982330575083],[0.7563162945582181,0.8771982330575083],[0.9820046833220455,0.8771982330575083],[0.862121550740339,0.8771982330575083],[1.0,0.8771982330575083],[-0.6114248838764451,-0.6942352222665183],[-0.6648649480084725,-0.5818421246900217]]],[\"ys\",[[-0.3589711851956152,-0.46687681333960784],[-0.5406802568898105,-0.46687681333960784],[-0.4099451384556367,-0.46687681333960784],[-0.5436389472097485,-0.46687681333960784],[-0.4724402305886914,-0.46687681333960784],[-0.3671107777570627,-0.46687681333960784],[-0.530810525316059,-0.46687681333960784],[-0.595268713533626,-0.46687681333960784],[-0.4681780240686837,-0.46687681333960784],[-0.5833324391762414,-0.46687681333960784],[0.5944697471573486,0.6609808864679106],[0.7831251342462627,0.6609808864679106],[0.7463050092119878,0.6609808864679106],[0.6433845234520524,0.6609808864679106],[0.7058501825382354,0.6609808864679106],[0.7521990368854082,0.6609808864679106],[0.785140177914958,0.6609808864679106],[0.5429842666276157,0.6609808864679106],[0.6725073452060462,0.6609808864679106],[0.5977416320361676,0.6609808864679106],[-0.659705056482673,-0.6220235907569656],[-0.5689334753445185,-0.6220235907569656],[-0.5077910804363371,-0.6220235907569656],[-0.7169039682986922,-0.6220235907569656],[-0.7436506706975772,-0.6220235907569656],[-0.633477241160507,-0.6220235907569656],[-0.7336691357130538,-0.6220235907569656],[-0.5293913781772377,-0.6220235907569656],[-0.5946392542126152,-0.6220235907569656],[-0.6935505448899785,-0.6220235907569656],[0.4489418358807803,0.41461430657410675],[0.5129080333008368,0.41461430657410675],[0.31596300048696335,0.41461430657410675],[0.4788329042446307,0.41461430657410675],[0.5184327787379831,0.41461430657410675],[0.5343672499421551,0.41461430657410675],[0.34245824044665807,0.41461430657410675],[0.36049629910441344,0.41461430657410675],[0.326184137492852,0.41461430657410675],[0.4200891047181457,0.41461430657410675],[-0.398664288888255,-0.46687681333960784],[0.5816769039156783,0.6609808864679106]]],[\"_u\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"_v\",[43,43,43,43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45,45,45,46,46,46,46,46,46,46,46,46,46,43,44]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p7219\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p7220\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p7215\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p7216\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p7217\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p7232\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p7223\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p7224\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p7225\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.6760029659481196,-0.6084833691617045,-0.7997229300501356,-0.8105019125635472,-0.8197549137318111,-0.7487265774611037,-0.7444547785426047,-0.7361437865453262,-0.5819719181734623,-0.6620060812753086,-0.48197378264721735,-0.554864954213515,-0.5014472328472995,-0.7006001597939481,-0.7000546025032484,-0.6636203601329654,-0.6154028540165658,-0.5946793409903057,-0.4661762991905017,-0.5533739826333295,0.4070554451425376,0.6132060503341298,0.45140918828037585,0.4495161635088771,0.5092080792071796,0.6324483420283121,0.5700748483798885,0.5522129285209013,0.4304834716005384,0.6156119911810778,0.7877271204916727,0.8200649891635711,0.9324894983770305,0.9862208265273812,0.9412947278018915,0.8822882844903679,0.7563162945582181,0.9820046833220455,0.862121550740339,1.0,-0.6114248838764451,-0.6648649480084725]],[\"ys\",[-0.3589711851956152,-0.5406802568898105,-0.4099451384556367,-0.5436389472097485,-0.4724402305886914,-0.3671107777570627,-0.530810525316059,-0.595268713533626,-0.4681780240686837,-0.5833324391762414,0.5944697471573486,0.7831251342462627,0.7463050092119878,0.6433845234520524,0.7058501825382354,0.7521990368854082,0.785140177914958,0.5429842666276157,0.6725073452060462,0.5977416320361676,-0.659705056482673,-0.5689334753445185,-0.5077910804363371,-0.7169039682986922,-0.7436506706975772,-0.633477241160507,-0.7336691357130538,-0.5293913781772377,-0.5946392542126152,-0.6935505448899785,0.4489418358807803,0.5129080333008368,0.31596300048696335,0.4788329042446307,0.5184327787379831,0.5343672499421551,0.34245824044665807,0.36049629910441344,0.326184137492852,0.4200891047181457,-0.398664288888255,0.5816769039156783]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\",\"rgb(14, 183, 222)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p7233\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p7234\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p7229\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p7230\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p7231\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p7244\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p7235\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p7236\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p7237\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.6942352222665183,-0.5818421246900217,0.5133772645496318,0.8771982330575083]],[\"ys\",[-0.46687681333960784,0.6609808864679106,-0.6220235907569656,0.41461430657410675]],[\"_node\",[43,44,45,46]],[\"bipartite\",[1,1,1,1]],[\"type\",[\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\"]],[\"_colormap\",[\"rgb(68, 71, 56)\",\"rgb(68, 71, 56)\",\"rgb(68, 71, 56)\",\"rgb(68, 71, 56)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p7245\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p7246\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p7241\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p7242\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p7243\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p7174\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p7197\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p7198\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p7199\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p7200\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p7201\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p7221\",\"attributes\":{\"renderers\":[{\"id\":\"p7218\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p7247\",\"attributes\":{\"renderers\":[{\"id\":\"p7232\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p7249\",\"attributes\":{\"renderers\":[{\"id\":\"p7244\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p7190\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p7191\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p7192\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p7193\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p7183\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p7184\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p7185\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p7186\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p7189\",\"attributes\":{\"axis\":{\"id\":\"p7183\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p7196\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p7190\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"dedca568-8a27-4eee-b29f-3724a72357a0\",\"roots\":{\"p7166\":\"f7238b14-7175-4a0a-b581-0eac99ac8fc0\"},\"root_ids\":[\"p7166\"],\"notebook_comms_target\":\"p7634\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p7166"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_locations = 4\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])\n",
    "\n",
    "inspector.plot_bipartite_network(node_color=\"black\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "df4d62ec",
   "metadata": {},
   "source": [
    "### Specifying location visitors\n",
    "\n",
    "The classrooms above are made of all agents.\n",
    "But in many cases we want specific locations to be exclusively accessible to certain agents.\n",
    "For this scenario the method `filter()` exists.\n",
    "If this method returns `True`, an agent gets assigned to an instance of this location class.\n",
    "The most common way to use this method is to specify a condition that requires a certain agent attribute to contain a certain value.\n",
    "\n",
    "In this example we want classrooms to be only accessible for pupils."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 62,
   "id": "89f30dd2",
   "metadata": {
    "slideshow": {
     "slide_type": ""
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 63,
   "id": "13022d30",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(AgentList (42 objects), LocationList (8 objects))"
      ]
     },
     "execution_count": 63,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 64,
   "id": "bcc7a1db",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"e023a298-f718-450c-961f-c6126e753ee8\" data-root-id=\"p7755\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"6bed04f7-dd70-4a33-84a0-486feca3bd54\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p7755\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p7757\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p7756\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p7768\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p7770\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p7762\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p7807\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p7798\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p7799\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p7800\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.8231991630852978,0.7820865315646485],[0.8231991630852978,0.7900218355355029],[0.8231991630852978,0.7494828693892449],[0.7820865315646485,0.7900218355355029],[0.7820865315646485,0.7494828693892449],[0.7900218355355029,0.7494828693892449],[-0.3138053237971236,-0.2752042252135464],[-0.3138053237971236,-0.3202130619634145],[-0.3138053237971236,-0.2697119368564927],[-0.3202130619634145,-0.2752042252135464],[-0.3202130619634145,-0.2697119368564927],[-0.2697119368564927,-0.2752042252135464],[-0.6112284822001868,-0.5598104538850457],[-0.6112284822001868,-0.6089403643753463],[-0.6112284822001868,-0.6067754314811413],[-0.5598104538850457,-0.6089403643753463],[-0.5598104538850457,-0.6067754314811413],[-0.6089403643753463,-0.6067754314811413],[-0.16207520796204758,-0.1919628192151462],[-0.16207520796204758,-0.2049979171076112],[-0.16207520796204758,-0.14864167527839353],[-0.1919628192151462,-0.2049979171076112],[-0.1919628192151462,-0.14864167527839353],[-0.2049979171076112,-0.14864167527839353],[-0.8602920186722713,-0.9237550672650037],[-0.8602920186722713,-0.9081466472169766],[-0.8602920186722713,-0.8756731195388735],[-0.9237550672650037,-0.9081466472169766],[-0.9237550672650037,-0.8756731195388735],[-0.9081466472169766,-0.8756731195388735],[0.46114087195117903,0.48044473043171276],[0.46114087195117903,0.44463057173877835],[0.46114087195117903,0.4187876189511273],[0.44463057173877835,0.48044473043171276],[0.44463057173877835,0.4187876189511273],[0.4187876189511273,0.48044473043171276],[-0.012113964749727913,-0.04573372925480915],[-0.012113964749727913,0.013109055629937779],[-0.012113964749727913,-0.02064162684937072],[-0.04573372925480915,0.013109055629937779],[-0.04573372925480915,-0.02064162684937072],[0.013109055629937779,-0.02064162684937072],[0.561047577864557,0.5302593288273787],[0.561047577864557,0.5601076094348361],[0.561047577864557,0.593847845432864],[0.5302593288273787,0.5601076094348361],[0.5302593288273787,0.593847845432864],[0.5601076094348361,0.593847845432864]]],[\"ys\",[[-0.21991711601182046,-0.24184784924534916],[-0.21991711601182046,-0.18348030328245565],[-0.21991711601182046,-0.20535542671816306],[-0.24184784924534916,-0.18348030328245565],[-0.24184784924534916,-0.20535542671816306],[-0.18348030328245565,-0.20535542671816306],[0.7180608726769998,0.6537689404000209],[0.7180608726769998,0.6714873772798158],[0.7180608726769998,0.7025166476945518],[0.6714873772798158,0.6537689404000209],[0.6714873772798158,0.7025166476945518],[0.7025166476945518,0.6537689404000209],[-0.5394905928834421,-0.4945341521494526],[-0.5394905928834421,-0.4699497136289721],[-0.5394905928834421,-0.5049599170573679],[-0.4945341521494526,-0.4699497136289721],[-0.4945341521494526,-0.5049599170573679],[-0.4699497136289721,-0.5049599170573679],[0.052966908571039535,0.108476138775464],[0.052966908571039535,0.06602509362583107],[0.052966908571039535,0.09647546912011772],[0.108476138775464,0.06602509362583107],[0.108476138775464,0.09647546912011772],[0.06602509362583107,0.09647546912011772],[-0.0381388565363991,-0.03992842207505211],[-0.0381388565363991,-0.08457124474021258],[-0.0381388565363991,-0.0778453993895574],[-0.03992842207505211,-0.08457124474021258],[-0.03992842207505211,-0.0778453993895574],[-0.08457124474021258,-0.0778453993895574],[-0.5557849290970189,-0.5140471518652796],[-0.5557849290970189,-0.49203645268955576],[-0.5557849290970189,-0.5266878580225924],[-0.49203645268955576,-0.5140471518652796],[-0.49203645268955576,-0.5266878580225924],[-0.5266878580225924,-0.5140471518652796],[-0.7308002115465492,-0.7649060841536532],[-0.7308002115465492,-0.7721733366251041],[-0.7308002115465492,-0.8047116125876609],[-0.7649060841536532,-0.7721733366251041],[-0.7649060841536532,-0.8047116125876609],[-0.7721733366251041,-0.8047116125876609],[0.6424699599267388,0.6753814215468169],[0.6424699599267388,0.7067138218872023],[0.6424699599267388,0.6774592576974974],[0.6753814215468169,0.7067138218872023],[0.6753814215468169,0.6774592576974974],[0.7067138218872023,0.6774592576974974]]],[\"_u\",[1,1,1,2,2,3,5,5,5,6,6,7,9,9,9,10,10,11,14,14,14,16,16,17,19,19,19,21,21,22,25,25,25,27,27,29,34,34,34,35,35,36,39,39,39,40,40,41]],[\"_v\",[2,3,4,3,4,4,8,6,7,8,7,8,10,11,12,11,12,12,16,17,18,17,18,18,21,22,23,22,23,23,32,27,29,32,29,32,35,36,37,36,37,37,40,41,42,41,42,42]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p7808\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p7809\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p7804\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p7805\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p7806\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p7821\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p7812\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p7813\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p7814\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.8231991630852978,0.7820865315646485,0.7900218355355029,0.7494828693892449,-0.3138053237971236,-0.3202130619634145,-0.2697119368564927,-0.2752042252135464,-0.6112284822001868,-0.5598104538850457,-0.6089403643753463,-0.6067754314811413,0.18528241688658653,-0.16207520796204758,-0.9889974320710462,-0.1919628192151462,-0.2049979171076112,-0.14864167527839353,-0.8602920186722713,-0.28081335286003256,-0.9237550672650037,-0.9081466472169766,-0.8756731195388735,-0.363962453281504,0.46114087195117903,0.8978130114671236,0.44463057173877835,-0.782093742541843,0.4187876189511273,0.9123606089473373,0.8634033046589964,0.48044473043171276,0.13142266538775718,-0.012113964749727913,-0.04573372925480915,0.013109055629937779,-0.02064162684937072,0.13714243645208815,0.561047577864557,0.5302593288273787,0.5601076094348361,0.593847845432864]],[\"ys\",[-0.21991711601182046,-0.24184784924534916,-0.18348030328245565,-0.20535542671816306,0.7180608726769998,0.6714873772798158,0.7025166476945518,0.6537689404000209,-0.5394905928834421,-0.4945341521494526,-0.4699497136289721,-0.5049599170573679,1.0,0.052966908571039535,0.35631196104696455,0.108476138775464,0.06602509362583107,0.09647546912011772,-0.0381388565363991,0.9718832792114905,-0.03992842207505211,-0.08457124474021258,-0.0778453993895574,-0.9457885448081347,-0.5557849290970189,0.047754035989925385,-0.49203645268955576,0.652123530714926,-0.5266878580225924,0.23381822001971186,0.46892870164641876,-0.5140471518652796,0.6880534344183274,-0.7308002115465492,-0.7649060841536532,-0.7721733366251041,-0.8047116125876609,-0.9837198971360679,0.6424699599267388,0.6753814215468169,0.7067138218872023,0.6774592576974974]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[12,1,5,16,13,3,15,8,10,14,2,14,0,9,0,6,9,3,11,0,16,13,6,0,7,0,1,0,5,0,0,15,0,8,7,2,11,0,3,10,4,12]],[\"gender\",[\"w\",\"w\",\"w\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"m\",\"w\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"m\",\"m\",\"m\",\"w\",\"m\"]],[\"grade\",[2.0,1.0,3.0,4.0,3.0,2.0,4.0,4.0,1.0,3.0,1.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,1.0,2.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,3.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},4.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,4.0,1.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,1.0,2.0,2.0]],[\"hours\",[4,4,5,6,5,4,6,6,4,5,4,5,9,4,6,5,4,4,4,6,6,5,5,10,6,9,4,5,5,4,11,6,9,6,6,4,4,6,4,4,4,4]],[\"status\",[\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"teacher\",\"pupil\",\"teacher\",\"pupil\",\"social_worker\",\"teacher\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\"]],[\"_colormap\",[\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(145, 108, 144)\",\"rgb(218, 84, 55)\",\"rgb(9, 8, 180)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(145, 108, 144)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(145, 108, 144)\",\"rgb(218, 84, 55)\",\"rgb(145, 108, 144)\",\"rgb(218, 84, 55)\",\"rgb(145, 108, 144)\",\"rgb(218, 84, 55)\",\"rgb(9, 8, 180)\",\"rgb(145, 108, 144)\",\"rgb(218, 84, 55)\",\"rgb(145, 108, 144)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(145, 108, 144)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\",\"rgb(218, 84, 55)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p7822\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p7823\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p7818\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p7819\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p7820\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p7763\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p7786\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p7787\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p7788\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p7789\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p7790\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p7810\",\"attributes\":{\"renderers\":[{\"id\":\"p7807\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p7824\",\"attributes\":{\"renderers\":[{\"id\":\"p7821\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p7779\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p7780\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p7781\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p7782\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p7772\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p7773\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p7774\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p7775\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p7778\",\"attributes\":{\"axis\":{\"id\":\"p7772\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p7785\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p7779\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"6bed04f7-dd70-4a33-84a0-486feca3bd54\",\"roots\":{\"p7755\":\"e023a298-f718-450c-961f-c6126e753ee8\"},\"root_ids\":[\"p7755\"],\"notebook_comms_target\":\"p8228\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p7755"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"status\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "dc27c06c",
   "metadata": {},
   "source": [
    "Now classrooms consist only of pupils, while all other agents do not belong to any location."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "57f92cd8",
   "metadata": {},
   "source": [
    "By the way: Besides looking at the network graph, the function `inspector.location_information()` and `inspector.location_crosstab()` provide usefull overviews of the created location instances and the assigned agents:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 65,
   "id": "77fc41f4",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>location_id</th>\n",
       "      <th>grade</th>\n",
       "      <th>status</th>\n",
       "      <th>location_type</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0</td>\n",
       "      <td>4.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>1</td>\n",
       "      <td>3.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>1</td>\n",
       "      <td>2.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>1</td>\n",
       "      <td>4.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>1</td>\n",
       "      <td>4.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>2</td>\n",
       "      <td>1.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>2</td>\n",
       "      <td>3.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>2</td>\n",
       "      <td>1.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>2</td>\n",
       "      <td>3.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>3</td>\n",
       "      <td>1.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>3</td>\n",
       "      <td>3.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>3</td>\n",
       "      <td>1.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>3</td>\n",
       "      <td>2.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>4</td>\n",
       "      <td>2.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>4</td>\n",
       "      <td>4.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>4</td>\n",
       "      <td>3.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>4</td>\n",
       "      <td>3.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>20</th>\n",
       "      <td>5</td>\n",
       "      <td>4.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>21</th>\n",
       "      <td>5</td>\n",
       "      <td>1.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22</th>\n",
       "      <td>5</td>\n",
       "      <td>3.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>23</th>\n",
       "      <td>5</td>\n",
       "      <td>4.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>24</th>\n",
       "      <td>6</td>\n",
       "      <td>4.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25</th>\n",
       "      <td>6</td>\n",
       "      <td>4.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>26</th>\n",
       "      <td>6</td>\n",
       "      <td>1.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>27</th>\n",
       "      <td>6</td>\n",
       "      <td>2.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28</th>\n",
       "      <td>7</td>\n",
       "      <td>2.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>29</th>\n",
       "      <td>7</td>\n",
       "      <td>1.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>30</th>\n",
       "      <td>7</td>\n",
       "      <td>2.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>31</th>\n",
       "      <td>7</td>\n",
       "      <td>2.0</td>\n",
       "      <td>pupil</td>\n",
       "      <td>ClassRoom</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "    location_id  grade status location_type\n",
       "0             0    2.0  pupil     ClassRoom\n",
       "1             0    1.0  pupil     ClassRoom\n",
       "2             0    3.0  pupil     ClassRoom\n",
       "3             0    4.0  pupil     ClassRoom\n",
       "4             1    3.0  pupil     ClassRoom\n",
       "5             1    2.0  pupil     ClassRoom\n",
       "6             1    4.0  pupil     ClassRoom\n",
       "7             1    4.0  pupil     ClassRoom\n",
       "8             2    1.0  pupil     ClassRoom\n",
       "9             2    3.0  pupil     ClassRoom\n",
       "10            2    1.0  pupil     ClassRoom\n",
       "11            2    3.0  pupil     ClassRoom\n",
       "12            3    1.0  pupil     ClassRoom\n",
       "13            3    3.0  pupil     ClassRoom\n",
       "14            3    1.0  pupil     ClassRoom\n",
       "15            3    2.0  pupil     ClassRoom\n",
       "16            4    2.0  pupil     ClassRoom\n",
       "17            4    4.0  pupil     ClassRoom\n",
       "18            4    3.0  pupil     ClassRoom\n",
       "19            4    3.0  pupil     ClassRoom\n",
       "20            5    4.0  pupil     ClassRoom\n",
       "21            5    1.0  pupil     ClassRoom\n",
       "22            5    3.0  pupil     ClassRoom\n",
       "23            5    4.0  pupil     ClassRoom\n",
       "24            6    4.0  pupil     ClassRoom\n",
       "25            6    4.0  pupil     ClassRoom\n",
       "26            6    1.0  pupil     ClassRoom\n",
       "27            6    2.0  pupil     ClassRoom\n",
       "28            7    2.0  pupil     ClassRoom\n",
       "29            7    1.0  pupil     ClassRoom\n",
       "30            7    2.0  pupil     ClassRoom\n",
       "31            7    2.0  pupil     ClassRoom"
      ]
     },
     "execution_count": 65,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "inspector.location_information(\n",
    "    select_locations=ClassRoom,\n",
    "    agent_attributes=[\"grade\", \"status\"],\n",
    "    output_format=\"df\",\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 66,
   "id": "dc8a09a2",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[index  location_id status  count location_type\n",
       " 0                0  pupil      4     ClassRoom\n",
       " 1                1  pupil      4     ClassRoom\n",
       " 2                2  pupil      4     ClassRoom\n",
       " 3                3  pupil      4     ClassRoom\n",
       " 4                4  pupil      4     ClassRoom\n",
       " 5                5  pupil      4     ClassRoom\n",
       " 6                6  pupil      4     ClassRoom\n",
       " 7                7  pupil      4     ClassRoom]"
      ]
     },
     "execution_count": 66,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "inspector.location_crosstab(\n",
    "    select_locations=ClassRoom,\n",
    "    agent_attributes=[\"status\"],\n",
    "    output_format=\"df\",\n",
    ")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "1f3077fb",
   "metadata": {},
   "source": [
    "### Building separated locations"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f6196e07",
   "metadata": {},
   "source": [
    "The above table shows that the classrooms are not separated by grade.\n",
    "To seperate agents by grade, we could define one location class for each grade and use `filter()` to assign only agents with a specific grade value to a specific location.\n",
    "\n",
    "A more convenient way to do it is to use the method `split()`.\n",
    "For each agent, the method `split()` returns one value.\n",
    "For each unique value, seperated location instances are created.\n",
    "In this case, the method `split()` returns the attribute `grade` for each agents.\n",
    "Thus, the Creator builds seperate classroom instances for each unique value of the agent attribute `grade`."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 67,
   "id": "d1f319a2",
   "metadata": {},
   "outputs": [],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 68,
   "id": "03150a47",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"f7c3e77e-51d0-40d8-9b53-b95f9576262d\" data-root-id=\"p8324\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"7a05a33b-b677-4100-8d50-862c32f489be\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p8324\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p8326\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p8325\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p8337\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p8339\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p8331\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p8376\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p8367\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p8368\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p8369\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.7944820016757502,0.7473873563407463],[0.7944820016757502,0.7214418033878958],[0.7944820016757502,0.7689786143373363],[0.7214418033878958,0.7473873563407463],[0.7214418033878958,0.7689786143373363],[-0.8730028195061252,-0.8323885814980704],[-0.8730028195061252,-0.8233335484319735],[-0.8730028195061252,-0.8758504966327432],[-0.8758504966327432,-0.8323885814980704],[-0.8758504966327432,-0.8233335484319735],[-0.13656253047933598,-0.14233286772624534],[-0.13656253047933598,-0.1883501453837493],[-0.13656253047933598,-0.18134037152959184],[-0.8323885814980704,-0.8233335484319735],[-0.35952801955690994,-0.40072640288029604],[-0.35952801955690994,-0.3847773449833499],[-0.35952801955690994,-0.4227827546139079],[-0.3847773449833499,-0.40072640288029604],[-0.3847773449833499,-0.4227827546139079],[-0.6636478571686528,-0.6118841228167778],[-0.6636478571686528,-0.6620444202538082],[-0.6636478571686528,-0.6171329067963454],[-0.1883501453837493,-0.14233286772624534],[-0.1883501453837493,-0.18134037152959184],[0.4087491166648521,0.37102161821218527],[0.4087491166648521,0.3907853198155326],[0.4087491166648521,0.4343583799630944],[0.37102161821218527,0.3907853198155326],[0.37102161821218527,0.4343583799630944],[0.03363842262842586,0.06431875737753417],[0.03363842262842586,1.3652942246947115e-05],[0.03363842262842586,0.03002368423399682],[1.3652942246947115e-05,0.06431875737753417],[1.3652942246947115e-05,0.03002368423399682],[0.03002368423399682,0.06431875737753417],[0.4343583799630944,0.3907853198155326],[-0.14233286772624534,-0.18134037152959184],[-0.6620444202538082,-0.6118841228167778],[-0.6620444202538082,-0.6171329067963454],[-0.6171329067963454,-0.6118841228167778],[0.7473873563407463,0.7689786143373363],[0.7002303276034181,0.7359069755817746],[0.7002303276034181,0.6967226345367505],[0.7002303276034181,0.669928225448953],[0.7359069755817746,0.6967226345367505],[0.7359069755817746,0.669928225448953],[-0.4227827546139079,-0.40072640288029604],[0.6967226345367505,0.669928225448953]]],[\"ys\",[[0.3727279213163836,0.3859770530401289],[0.3727279213163836,0.34419453033093145],[0.3727279213163836,0.33113109469157836],[0.34419453033093145,0.3859770530401289],[0.34419453033093145,0.33113109469157836],[-0.1238679296620915,-0.1743698527358883],[-0.1238679296620915,-0.1289715164815156],[-0.1238679296620915,-0.16849910656531103],[-0.16849910656531103,-0.1743698527358883],[-0.16849910656531103,-0.1289715164815156],[0.01870263378732303,-0.02576192211336978],[0.01870263378732303,-0.01945905622533471],[0.01870263378732303,0.026347436886641797],[-0.1743698527358883,-0.1289715164815156],[-0.7597429381348141,-0.7850613258279526],[-0.7597429381348141,-0.7232754840964077],[-0.7597429381348141,-0.744104658762252],[-0.7232754840964077,-0.7850613258279526],[-0.7232754840964077,-0.744104658762252],[0.6339140157143835,0.6208959267992095],[0.6339140157143835,0.6788337447298671],[0.6339140157143835,0.6720324538408937],[-0.01945905622533471,-0.02576192211336978],[-0.01945905622533471,0.026347436886641797],[0.857049622045925,0.843684444251454],[0.857049622045925,0.7971767718291963],[0.857049622045925,0.8244323337846671],[0.843684444251454,0.7971767718291963],[0.843684444251454,0.8244323337846671],[0.4729678200817921,0.5025390223465511],[0.4729678200817921,0.4999353248436855],[0.4729678200817921,0.538887611137349],[0.4999353248436855,0.5025390223465511],[0.4999353248436855,0.538887611137349],[0.538887611137349,0.5025390223465511],[0.8244323337846671,0.7971767718291963],[-0.02576192211336978,0.026347436886641797],[0.6788337447298671,0.6208959267992095],[0.6788337447298671,0.6720324538408937],[0.6720324538408937,0.6208959267992095],[0.3859770530401289,0.33113109469157836],[-0.26844474539829644,-0.3054022194847213],[-0.26844474539829644,-0.33249892395695535],[-0.26844474539829644,-0.30004560251761686],[-0.3054022194847213,-0.33249892395695535],[-0.3054022194847213,-0.30004560251761686],[-0.744104658762252,-0.7850613258279526],[-0.33249892395695535,-0.30004560251761686]]],[\"_u\",[1,1,1,2,2,3,3,3,4,4,5,5,5,8,9,9,9,10,10,11,11,11,12,12,16,16,16,17,17,18,18,18,20,20,22,23,25,28,28,30,32,33,33,33,36,36,37,38]],[\"_v\",[32,2,34,32,34,8,41,4,8,41,25,12,31,41,40,10,37,40,37,42,28,30,25,31,17,29,23,29,23,24,20,22,24,22,24,29,31,42,30,42,34,36,38,39,38,39,40,39]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p8377\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p8378\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p8373\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p8374\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p8375\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p8390\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p8381\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p8382\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p8383\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.7944820016757502,0.7214418033878958,-0.8730028195061252,-0.8758504966327432,-0.13656253047933598,-0.8307036090955621,0.9827240510797083,-0.8323885814980704,-0.35952801955690994,-0.3847773449833499,-0.6636478571686528,-0.1883501453837493,0.4759530862792672,-0.008917665113806279,-0.918241779255844,0.4087491166648521,0.37102161821218527,0.03363842262842586,-0.30349317588411007,1.3652942246947115e-05,-0.1897825779036828,0.03002368423399682,0.4343583799630944,0.06431875737753417,-0.14233286772624534,0.7401074928385724,0.21188482761920888,-0.6620444202538082,0.3907853198155326,-0.6171329067963454,-0.18134037152959184,0.7473873563407463,0.7002303276034181,0.7689786143373363,0.4481676489436381,0.7359069755817746,-0.4227827546139079,0.6967226345367505,0.669928225448953,-0.40072640288029604,-0.8233335484319735,-0.6118841228167778]],[\"ys\",[0.3727279213163836,0.34419453033093145,-0.1238679296620915,-0.16849910656531103,0.01870263378732303,0.30875170630849597,-0.15894817653154153,-0.1743698527358883,-0.7597429381348141,-0.7232754840964077,0.6339140157143835,-0.01945905622533471,-0.8843933362294669,-0.963702359771162,-0.5567944086011244,0.857049622045925,0.843684444251454,0.4729678200817921,-0.9845519924288887,0.4999353248436855,1.0,0.538887611137349,0.8244323337846671,0.5025390223465511,-0.02576192211336978,-0.6003293201797014,-0.9922610984636606,0.6788337447298671,0.7971767718291963,0.6720324538408937,0.026347436886641797,0.3859770530401289,-0.26844474539829644,0.33113109469157836,-0.7296954935983837,-0.3054022194847213,-0.744104658762252,-0.33249892395695535,-0.30004560251761686,-0.7850613258279526,-0.1289715164815156,0.6208959267992095]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[15,7,13,5,16,0,0,14,10,2,6,8,0,0,0,10,9,11,0,12,0,11,1,4,16,0,0,14,1,6,7,8,3,15,0,3,2,12,3,9,5,13]],[\"gender\",[\"m\",\"m\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\",\"m\",\"m\",\"m\",\"w\",\"w\",\"m\",\"m\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"w\",\"m\",\"w\",\"w\",\"m\",\"m\",\"w\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"m\",\"m\",\"w\",\"w\",\"w\",\"w\"]],[\"grade\",[4.0,4.0,3.0,3.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},3.0,1.0,1.0,3.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},1.0,1.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,1.0,2.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},3.0,1.0,3.0,4.0,4.0,2.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,1.0,2.0,2.0,1.0,3.0,3.0]],[\"hours\",[6,6,5,5,6,10,6,5,4,4,5,6,6,5,6,4,4,4,4,4,11,4,4,4,6,9,9,5,4,5,6,6,4,6,9,4,4,4,4,4,5,5]],[\"status\",[\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\"]],[\"_colormap\",[\"rgb(100, 132, 202)\",\"rgb(100, 132, 202)\",\"rgb(59, 244, 177)\",\"rgb(59, 244, 177)\",\"rgb(100, 132, 202)\",\"rgb(198, 149, 7)\",\"rgb(162, 164, 25)\",\"rgb(59, 244, 177)\",\"rgb(187, 104, 95)\",\"rgb(187, 104, 95)\",\"rgb(59, 244, 177)\",\"rgb(100, 132, 202)\",\"rgb(168, 251, 84)\",\"rgb(36, 144, 191)\",\"rgb(132, 74, 162)\",\"rgb(187, 104, 95)\",\"rgb(187, 104, 95)\",\"rgb(195, 19, 74)\",\"rgb(32, 192, 141)\",\"rgb(195, 19, 74)\",\"rgb(71, 67, 106)\",\"rgb(195, 19, 74)\",\"rgb(187, 104, 95)\",\"rgb(195, 19, 74)\",\"rgb(100, 132, 202)\",\"rgb(85, 106, 254)\",\"rgb(19, 207, 51)\",\"rgb(59, 244, 177)\",\"rgb(187, 104, 95)\",\"rgb(59, 244, 177)\",\"rgb(100, 132, 202)\",\"rgb(100, 132, 202)\",\"rgb(195, 19, 74)\",\"rgb(100, 132, 202)\",\"rgb(84, 208, 157)\",\"rgb(195, 19, 74)\",\"rgb(187, 104, 95)\",\"rgb(195, 19, 74)\",\"rgb(195, 19, 74)\",\"rgb(187, 104, 95)\",\"rgb(59, 244, 177)\",\"rgb(59, 244, 177)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p8391\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p8392\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p8387\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p8388\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p8389\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p8332\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p8355\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p8356\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p8357\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p8358\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p8359\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p8379\",\"attributes\":{\"renderers\":[{\"id\":\"p8376\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p8393\",\"attributes\":{\"renderers\":[{\"id\":\"p8390\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p8348\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p8349\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p8350\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p8351\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p8341\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p8342\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p8343\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p8344\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p8347\",\"attributes\":{\"axis\":{\"id\":\"p8341\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p8354\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p8348\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"7a05a33b-b677-4100-8d50-862c32f489be\",\"roots\":{\"p8324\":\"f7c3e77e-51d0-40d8-9b53-b95f9576262d\"},\"root_ids\":[\"p8324\"],\"notebook_comms_target\":\"p8816\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p8324"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])\n",
    "\n",
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"grade\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "39f55e9f",
   "metadata": {},
   "source": [
    "If we use `split()` in combination with `n_locations`, for each subgroup the desired number of locations gets realized:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 69,
   "id": "a38b2040",
   "metadata": {},
   "outputs": [],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4\n",
    "    n_locations = 1\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 70,
   "id": "6f3e41b8",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"e41de19e-97fc-42f2-bad8-7bd6f4cc6d7b\" data-root-id=\"p8912\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"4f16d4eb-b5d3-4139-bb0f-c6b99eb60146\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p8912\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p8914\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p8913\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p8925\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p8927\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p8919\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p8964\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p8955\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p8956\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p8957\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.005986263383411886,-0.014411438528555412],[-0.005986263383411886,0.019255532126251158],[-0.005986263383411886,-0.040642969980673994],[0.009490897047330981,0.05710125736058126],[0.009490897047330981,0.013528160867301171],[0.009490897047330981,0.053371738389066496],[-0.4326137622876152,-0.42842328194021223],[-0.4326137622876152,-0.3869847481095012],[-0.4326137622876152,-0.38669199867433474],[-0.42842328194021223,-0.3869847481095012],[-0.42842328194021223,-0.38669199867433474],[-0.3869847481095012,-0.38669199867433474],[-0.040642969980673994,-0.014411438528555412],[-0.040642969980673994,0.019255532126251158],[0.05710125736058126,0.013528160867301171],[0.05710125736058126,0.053371738389066496],[0.4485532040253835,0.4916110370770263],[0.4485532040253835,0.49733693171146737],[0.4485532040253835,0.4550084183861591],[0.4550084183861591,0.4916110370770263],[0.4550084183861591,0.49733693171146737],[0.49733693171146737,0.4916110370770263],[-0.014411438528555412,0.019255532126251158],[0.013528160867301171,0.053371738389066496]]],[\"ys\",[[-0.7289701830524328,-0.7921291043072852],[-0.7289701830524328,-0.7586519684955073],[-0.7289701830524328,-0.7489050505530331],[0.038008656818407566,-0.0020830477172468875],[0.038008656818407566,-0.005973221951942397],[0.038008656818407566,0.04078947972634206],[0.32435298502771603,0.27914980752478136],[0.32435298502771603,0.28237723590511754],[0.32435298502771603,0.3244266568445374],[0.27914980752478136,0.28237723590511754],[0.27914980752478136,0.3244266568445374],[0.28237723590511754,0.3244266568445374],[-0.7489050505530331,-0.7921291043072852],[-0.7489050505530331,-0.7586519684955073],[-0.0020830477172468875,-0.005973221951942397],[-0.0020830477172468875,0.04078947972634206],[0.6666893938401726,0.679730453539533],[0.6666893938401726,0.6342815275977536],[0.6666893938401726,0.6224806102695777],[0.6224806102695777,0.679730453539533],[0.6224806102695777,0.6342815275977536],[0.6342815275977536,0.679730453539533],[-0.7921291043072852,-0.7586519684955073],[-0.005973221951942397,0.04078947972634206]]],[\"_u\",[1,1,1,2,2,2,3,3,3,4,4,5,6,6,11,11,14,14,14,15,15,17,32,35]],[\"_v\",[32,36,6,11,35,37,4,5,38,5,38,38,32,36,35,37,33,17,15,33,17,33,36,37]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p8965\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p8966\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p8961\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p8962\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p8963\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p8978\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p8969\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p8970\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p8971\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.005986263383411886,0.009490897047330981,-0.4326137622876152,-0.42842328194021223,-0.3869847481095012,-0.040642969980673994,-0.6016976743661022,-0.3013489345321655,-0.9605846392686577,0.9035602533861767,0.05710125736058126,0.38589529085531005,-0.32918274877725384,0.4485532040253835,0.4550084183861591,0.9253885623579103,0.49733693171146737,-0.05144516418309983,-0.3170667835219708,-0.8411727914541492,-0.785718205580001,0.9225220103922751,-0.7827441226912427,-0.8865638072321473,-0.9478245746534079,-0.4967495389067883,0.7682085218256445,0.4699120119411487,0.6636022553074981,0.7509819895311165,0.836593082674743,-0.014411438528555412,0.4916110370770263,-0.933660508481777,0.013528160867301171,0.019255532126251158,0.053371738389066496,-0.38669199867433474,0.8062833164764699,0.21025003927028782,0.901150549006706,-0.6580911034627852]],[\"ys\",[-0.7289701830524328,0.038008656818407566,0.32435298502771603,0.27914980752478136,0.28237723590511754,-0.7489050505530331,-0.7365425954317547,-0.8595422765122631,0.13684642791371093,-0.24993694393286495,-0.0020830477172468875,-0.8775397725378878,0.9348919028701984,0.6666893938401726,0.6224806102695777,0.1977271222797763,0.6342815275977536,0.926813053750483,0.768640909264508,-0.2135829144291175,0.48115686450864864,-0.438690796089127,-0.5913399241616556,-0.3995898646075884,-0.0956772865879745,-0.7042822065647061,-0.5727483483852197,-0.7231248258130396,-0.7588352680665945,0.5902561970098976,0.37960457445091145,-0.7921291043072852,0.679730453539533,0.37207760772922893,-0.005973221951942397,-0.7586519684955073,0.04078947972634206,0.3244266568445374,-0.17452845673684544,1.0,0.012025531513670864,0.740347057549114]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[7,6,11,12,4,16,0,3,0,7,13,5,14,2,9,13,1,12,0,0,15,9,8,3,0,1,0,11,14,2,10,8,10,0,5,15,6,3,0,16,0,0]],[\"gender\",[\"w\",\"m\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\"]],[\"grade\",[4.0,3.0,2.0,2.0,2.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,3.0,3.0,3.0,1.0,1.0,3.0,1.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},4.0,1.0,4.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,3.0,1.0,1.0,4.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,4.0,3.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"}]],[\"hours\",[6,5,4,4,4,6,11,4,6,6,5,5,5,4,4,5,4,4,10,6,6,4,6,4,9,4,9,4,5,4,4,6,4,4,5,6,5,4,6,6,5,9]],[\"status\",[\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"teacher\",\"teacher\"]],[\"_colormap\",[\"rgb(205, 89, 27)\",\"rgb(208, 139, 23)\",\"rgb(160, 94, 225)\",\"rgb(160, 94, 225)\",\"rgb(160, 94, 225)\",\"rgb(205, 89, 27)\",\"rgb(105, 237, 142)\",\"rgb(160, 94, 225)\",\"rgb(186, 88, 209)\",\"rgb(205, 89, 27)\",\"rgb(208, 139, 23)\",\"rgb(208, 139, 23)\",\"rgb(208, 139, 23)\",\"rgb(67, 53, 182)\",\"rgb(67, 53, 182)\",\"rgb(208, 139, 23)\",\"rgb(67, 53, 182)\",\"rgb(160, 94, 225)\",\"rgb(144, 9, 18)\",\"rgb(193, 19, 210)\",\"rgb(205, 89, 27)\",\"rgb(67, 53, 182)\",\"rgb(205, 89, 27)\",\"rgb(160, 94, 225)\",\"rgb(168, 125, 88)\",\"rgb(67, 53, 182)\",\"rgb(102, 91, 9)\",\"rgb(160, 94, 225)\",\"rgb(208, 139, 23)\",\"rgb(67, 53, 182)\",\"rgb(67, 53, 182)\",\"rgb(205, 89, 27)\",\"rgb(67, 53, 182)\",\"rgb(81, 100, 106)\",\"rgb(208, 139, 23)\",\"rgb(205, 89, 27)\",\"rgb(208, 139, 23)\",\"rgb(160, 94, 225)\",\"rgb(128, 139, 143)\",\"rgb(205, 89, 27)\",\"rgb(217, 9, 179)\",\"rgb(68, 59, 198)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p8979\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p8980\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p8975\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p8976\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p8977\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p8920\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p8943\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p8944\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p8945\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p8946\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p8947\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p8967\",\"attributes\":{\"renderers\":[{\"id\":\"p8964\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p8981\",\"attributes\":{\"renderers\":[{\"id\":\"p8978\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p8936\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p8937\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p8938\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p8939\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p8929\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p8930\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p8931\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p8932\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p8935\",\"attributes\":{\"axis\":{\"id\":\"p8929\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p8942\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p8936\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"4f16d4eb-b5d3-4139-bb0f-c6b99eb60146\",\"roots\":{\"p8912\":\"e41de19e-97fc-42f2-bad8-7bd6f4cc6d7b\"},\"root_ids\":[\"p8912\"],\"notebook_comms_target\":\"p9423\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p8912"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])\n",
    "\n",
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"grade\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "35d8ea91",
   "metadata": {},
   "source": [
    "### Keeping agents together\n",
    "\n",
    "In the following plot the nodes are colored by their attribute `friend_group`.\n",
    "It shows that the members of friend groups are distributed over different classrooms."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 71,
   "id": "75546815",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"c256f256-79fe-4f64-acc0-573f4ecda599\" data-root-id=\"p9519\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"b357daad-e9d6-4cb5-badb-93caf2fbaa50\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p9519\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p9521\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p9520\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p9532\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p9534\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p9526\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p9571\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p9562\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p9563\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p9564\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.06539748525813417,-0.0891990699000122],[-0.06539748525813417,-0.05239151017965826],[-0.06539748525813417,-0.02817620078734186],[0.7831072682073597,0.8334468299702145],[0.7831072682073597,0.825459584276045],[0.7831072682073597,0.7782087146842369],[-0.698770466475366,-0.6617501235197862],[-0.698770466475366,-0.6352491245289169],[-0.698770466475366,-0.6622845582038528],[-0.6617501235197862,-0.6352491245289169],[-0.6617501235197862,-0.6622845582038528],[-0.6352491245289169,-0.6622845582038528],[-0.02817620078734186,-0.0891990699000122],[-0.02817620078734186,-0.05239151017965826],[0.8334468299702145,0.825459584276045],[0.8334468299702145,0.7782087146842369],[0.24565469640030643,0.29420921830387875],[0.24565469640030643,0.28916785758721963],[0.24565469640030643,0.25080508966910786],[0.25080508966910786,0.29420921830387875],[0.25080508966910786,0.28916785758721963],[0.28916785758721963,0.29420921830387875],[-0.0891990699000122,-0.05239151017965826],[0.825459584276045,0.7782087146842369]]],[\"ys\",[[0.40408370243321035,0.4386568166924289],[0.40408370243321035,0.4656580827831462],[0.40408370243321035,0.4255674936294992],[-0.40948751039229414,-0.4111485809673915],[-0.40948751039229414,-0.36716878808277253],[-0.40948751039229414,-0.36617715597399436],[0.1578561405153055,0.12527282160719921],[0.1578561405153055,0.15715386058074549],[0.1578561405153055,0.18769565953707065],[0.12527282160719921,0.15715386058074549],[0.12527282160719921,0.18769565953707065],[0.15715386058074549,0.18769565953707065],[0.4255674936294992,0.4386568166924289],[0.4255674936294992,0.4656580827831462],[-0.4111485809673915,-0.36716878808277253],[-0.4111485809673915,-0.36617715597399436],[-0.05665411300210524,-0.016384779288216016],[-0.05665411300210524,-0.0604455475821445],[-0.05665411300210524,-0.012620541904362353],[-0.012620541904362353,-0.016384779288216016],[-0.012620541904362353,-0.0604455475821445],[-0.0604455475821445,-0.016384779288216016],[0.4386568166924289,0.4656580827831462],[-0.36716878808277253,-0.36617715597399436]]],[\"_u\",[1,1,1,2,2,2,3,3,3,4,4,5,6,6,11,11,14,14,14,15,15,17,32,35]],[\"_v\",[32,36,6,11,35,37,4,5,38,5,38,38,32,36,35,37,33,17,15,33,17,33,36,37]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p9572\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p9573\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p9568\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p9569\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p9570\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p9585\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p9576\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p9577\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p9578\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.06539748525813417,0.7831072682073597,-0.698770466475366,-0.6617501235197862,-0.6352491245289169,-0.02817620078734186,0.3829559845359744,-0.1961858473858782,-0.3714726249637597,0.36738215604288027,0.8334468299702145,0.6448173573877952,0.8781687482707118,0.24565469640030643,0.25080508966910786,-0.1793475353708571,0.28916785758721963,0.05494825383360747,-0.5302997848024816,-0.7888055697131768,0.2360600745658053,0.8329954824040232,-0.42437420138805976,-0.8221010651387093,-0.06588645422419478,-0.43558273176164325,0.969209134227529,-0.9900480659971485,-0.7836592158586155,-0.9541468933891593,-0.6764235308496082,-0.0891990699000122,0.29420921830387875,0.11536902280484738,0.825459584276045,-0.05239151017965826,0.7782087146842369,-0.6622845582038528,0.9377127931413027,-0.6864529373586621,0.6274014338684614,0.450925296873715]],[\"ys\",[0.40408370243321035,-0.40948751039229414,0.1578561405153055,0.12527282160719921,0.15715386058074549,0.4255674936294992,-0.8136740594332547,0.9927143150168396,-0.5363353136109967,-0.9337260036471664,-0.4111485809673915,0.8183305446458653,0.4914758310750756,-0.05665411300210524,-0.012620541904362353,-0.9673500495083605,-0.0604455475821445,0.945161499690681,-0.744928936039427,-0.740267168900491,1.0,0.6969827027289377,-0.9290276083351254,-0.3394312084710207,-0.8666348167158499,0.8784272850748444,0.03396852010163157,-0.15161887679810887,-0.5439569578489134,0.20584780440819472,0.7967043073471588,0.4386568166924289,-0.016384779288216016,-0.979063179168342,-0.36716878808277253,0.4656580827831462,-0.36617715597399436,0.18769565953707065,0.27355051041420825,0.6062178501635688,-0.7531866497695063,0.8979620969942331]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[7,6,11,12,4,16,0,3,0,7,13,5,14,2,9,13,1,12,0,0,15,9,8,3,0,1,0,11,14,2,10,8,10,0,5,15,6,3,0,16,0,0]],[\"gender\",[\"w\",\"m\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\"]],[\"grade\",[4.0,3.0,2.0,2.0,2.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,3.0,3.0,3.0,1.0,1.0,3.0,1.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},4.0,1.0,4.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,3.0,1.0,1.0,4.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,4.0,3.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"}]],[\"hours\",[6,5,4,4,4,6,11,4,6,6,5,5,5,4,4,5,4,4,10,6,6,4,6,4,9,4,9,4,5,4,4,6,4,4,5,6,5,4,6,6,5,9]],[\"status\",[\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"teacher\",\"teacher\"]],[\"_colormap\",[\"rgb(113, 10, 252)\",\"rgb(147, 172, 251)\",\"rgb(107, 29, 41)\",\"rgb(216, 254, 114)\",\"rgb(118, 21, 42)\",\"rgb(188, 111, 159)\",\"rgb(149, 1, 174)\",\"rgb(109, 54, 230)\",\"rgb(149, 1, 174)\",\"rgb(113, 10, 252)\",\"rgb(160, 123, 0)\",\"rgb(234, 211, 176)\",\"rgb(61, 58, 10)\",\"rgb(2, 211, 140)\",\"rgb(132, 95, 173)\",\"rgb(160, 123, 0)\",\"rgb(251, 251, 187)\",\"rgb(216, 254, 114)\",\"rgb(149, 1, 174)\",\"rgb(149, 1, 174)\",\"rgb(219, 244, 205)\",\"rgb(132, 95, 173)\",\"rgb(162, 152, 103)\",\"rgb(109, 54, 230)\",\"rgb(149, 1, 174)\",\"rgb(251, 251, 187)\",\"rgb(149, 1, 174)\",\"rgb(107, 29, 41)\",\"rgb(61, 58, 10)\",\"rgb(2, 211, 140)\",\"rgb(195, 37, 77)\",\"rgb(162, 152, 103)\",\"rgb(195, 37, 77)\",\"rgb(149, 1, 174)\",\"rgb(234, 211, 176)\",\"rgb(219, 244, 205)\",\"rgb(147, 172, 251)\",\"rgb(109, 54, 230)\",\"rgb(149, 1, 174)\",\"rgb(188, 111, 159)\",\"rgb(149, 1, 174)\",\"rgb(149, 1, 174)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p9586\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p9587\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p9582\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p9583\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p9584\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p9527\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p9550\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p9551\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p9552\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p9553\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p9554\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p9574\",\"attributes\":{\"renderers\":[{\"id\":\"p9571\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p9588\",\"attributes\":{\"renderers\":[{\"id\":\"p9585\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p9543\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p9544\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p9545\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p9546\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p9536\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p9537\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p9538\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p9539\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p9542\",\"attributes\":{\"axis\":{\"id\":\"p9536\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p9549\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p9543\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"b357daad-e9d6-4cb5-badb-93caf2fbaa50\",\"roots\":{\"p9519\":\"c256f256-79fe-4f64-acc0-573f4ecda599\"},\"root_ids\":[\"p9519\"],\"notebook_comms_target\":\"p10049\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p9519"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"friend_group\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "04751adc",
   "metadata": {},
   "source": [
    "Although this is a very realistic situation, in this example, we want that all friend group members are always in the same class.\n",
    "To implement that, we use the location method `stick_together()`:\n",
    "For each agent, the method `stick_together()` returns a specific value.\n",
    "Agents with the same return value are sticked together."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 72,
   "id": "9fd47bf3",
   "metadata": {},
   "outputs": [],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.friend_group"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 73,
   "id": "03f11917",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"f79ec236-37e1-4e64-895a-6eabc6845c98\" data-root-id=\"p10145\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"e2605b48-c8b7-408e-b257-e2d7c2c5caca\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p10145\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p10147\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p10146\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p10158\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p10160\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p10152\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p10197\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p10188\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p10189\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p10190\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.7305203444394575,-0.7468896401457565],[-0.7305203444394575,-0.7192400586665203],[-0.7305203444394575,-0.7744035550110187],[0.631493645947099,0.6017199840914464],[0.631493645947099,0.6492687887189794],[0.631493645947099,0.5913236185850512],[-0.030355535478368004,-0.06040293055984083],[-0.030355535478368004,-0.03186971637796151],[-0.030355535478368004,-0.005064330348093592],[-0.005064330348093592,-0.06040293055984083],[-0.005064330348093592,-0.03186971637796151],[0.08511431495390288,0.07086512441566056],[0.08511431495390288,0.038502766244596316],[0.08511431495390288,0.04771927426377562],[0.08511431495390288,0.09910605382136008],[-0.03186971637796151,-0.06040293055984083],[-0.5983574444099665,-0.6351426138202159],[-0.5983574444099665,-0.5861389423947917],[-0.6351426138202159,-0.5861389423947917],[-0.13547036205712493,-0.10296860381278568],[-0.13547036205712493,-0.08211174526906206],[-0.13547036205712493,-0.10434967551299978],[-0.10296860381278568,-0.08211174526906206],[-0.10296860381278568,-0.10434967551299978],[0.6731714515790393,0.6116600448333308],[0.6731714515790393,0.6653452821878946],[0.6731714515790393,0.6283289512874931],[-0.10434967551299978,-0.08211174526906206],[0.6492687887189794,0.6017199840914464],[0.6492687887189794,0.5913236185850512],[0.6283289512874931,0.6116600448333308],[0.6283289512874931,0.6653452821878946],[0.038502766244596316,0.07086512441566056],[0.038502766244596316,0.04771927426377562],[0.038502766244596316,0.09910605382136008],[0.04771927426377562,0.07086512441566056],[0.04771927426377562,0.09910605382136008],[0.09910605382136008,0.07086512441566056],[-0.7192400586665203,-0.7468896401457565],[-0.7192400586665203,-0.7744035550110187],[0.6653452821878946,0.6116600448333308],[0.6017199840914464,0.5913236185850512],[-0.7744035550110187,-0.7468896401457565],[-0.3755365760911666,-0.40156272371787183],[-0.3755365760911666,-0.41240456141956494],[-0.3755365760911666,-0.4368498974224431],[-0.41240456141956494,-0.40156272371787183],[-0.41240456141956494,-0.4368498974224431],[-0.4368498974224431,-0.40156272371787183]]],[\"ys\",[[-0.15376675480156257,-0.18060446819076653],[-0.15376675480156257,-0.11758034710989015],[-0.15376675480156257,-0.1358382186116265],[-0.32951983601759605,-0.38232994265706943],[-0.32951983601759605,-0.3753211740637761],[-0.32951983601759605,-0.34174131623033394],[-0.764133020504494,-0.810548626623396],[-0.764133020504494,-0.8437149898714631],[-0.764133020504494,-0.8068599586715938],[-0.8068599586715938,-0.810548626623396],[-0.8068599586715938,-0.8437149898714631],[0.18773740574492467,0.12837214959589285],[0.18773740574492467,0.14745103503957518],[0.18773740574492467,0.18402819574275187],[0.18773740574492467,0.15242953387283237],[-0.8437149898714631,-0.810548626623396],[0.5830072854436926,0.5460540968920616],[0.5830072854436926,0.5340180143727185],[0.5460540968920616,0.5340180143727185],[0.8186877072819244,0.7552384927915633],[0.8186877072819244,0.8243248816304304],[0.8186877072819244,0.7947987642385445],[0.7552384927915633,0.8243248816304304],[0.7552384927915633,0.7947987642385445],[0.3436091037487804,0.2970223875879756],[0.3436091037487804,0.3007279700255838],[0.3436091037487804,0.34367450763990703],[0.7947987642385445,0.8243248816304304],[-0.3753211740637761,-0.38232994265706943],[-0.3753211740637761,-0.34174131623033394],[0.34367450763990703,0.2970223875879756],[0.34367450763990703,0.3007279700255838],[0.14745103503957518,0.12837214959589285],[0.14745103503957518,0.18402819574275187],[0.14745103503957518,0.15242953387283237],[0.18402819574275187,0.12837214959589285],[0.18402819574275187,0.15242953387283237],[0.15242953387283237,0.12837214959589285],[-0.11758034710989015,-0.18060446819076653],[-0.11758034710989015,-0.1358382186116265],[0.3007279700255838,0.2970223875879756],[-0.38232994265706943,-0.34174131623033394],[-0.1358382186116265,-0.18060446819076653],[-0.541918069419928,-0.5072091942386426],[-0.541918069419928,-0.5692311845886725],[-0.541918069419928,-0.5327405866763747],[-0.5692311845886725,-0.5072091942386426],[-0.5692311845886725,-0.5327405866763747],[-0.5327405866763747,-0.5072091942386426]]],[\"_u\",[1,1,1,4,4,4,5,5,5,6,6,8,8,8,8,10,11,11,12,16,16,16,17,17,18,18,18,19,20,20,21,21,22,22,22,23,23,24,27,27,28,29,31,35,35,35,38,38,39]],[\"_v\",[33,27,31,29,20,30,41,10,6,41,10,34,22,23,24,41,12,36,36,17,26,19,26,19,32,28,21,26,29,30,32,28,34,23,24,34,24,34,33,31,32,30,33,40,38,39,40,39,40]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p10198\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p10199\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p10194\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p10195\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p10196\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p10211\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p10202\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p10203\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p10204\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.7305203444394575,-0.8731195987654082,0.23154528157490198,0.631493645947099,-0.030355535478368004,-0.005064330348093592,-0.6494167111213034,0.08511431495390288,-0.840646595433732,-0.03186971637796151,-0.5983574444099665,-0.6351426138202159,0.7944850093507592,0.8553148694299053,0.11835815639227773,-0.13547036205712493,-0.10296860381278568,0.6731714515790393,-0.10434967551299978,0.6492687887189794,0.6283289512874931,0.038502766244596316,0.04771927426377562,0.09910605382136008,0.9706566085223363,-0.08211174526906206,-0.7192400586665203,0.6653452821878946,0.6017199840914464,0.5913236185850512,-0.7744035550110187,0.6116600448333308,-0.7468896401457565,0.07086512441566056,-0.3755365760911666,-0.5861389423947917,0.46375907999234467,-0.41240456141956494,-0.4368498974224431,-0.40156272371787183,-0.06040293055984083,0.5050838560832982]],[\"ys\",[-0.15376675480156257,-0.0626464998112927,-0.8574801024453453,-0.32951983601759605,-0.764133020504494,-0.8068599586715938,0.7955495874353605,0.18773740574492467,0.30307015058094294,-0.8437149898714631,0.5830072854436926,0.5460540968920616,-0.5588923011619693,-0.18559541853771772,1.0,0.8186877072819244,0.7552384927915633,0.3436091037487804,0.7947987642385445,-0.3753211740637761,0.34367450763990703,0.14745103503957518,0.18402819574275187,0.15242953387283237,-0.03680711414487295,0.8243248816304304,-0.11758034710989015,0.3007279700255838,-0.38232994265706943,-0.34174131623033394,-0.1358382186116265,0.2970223875879756,-0.18060446819076653,0.12837214959589285,-0.541918069419928,0.5340180143727185,-0.7875905432280306,-0.5692311845886725,-0.5327405866763747,-0.5072091942386426,-0.810548626623396,0.8422683979409523]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[13,0,0,8,6,14,0,4,0,14,3,3,0,0,0,1,2,9,2,8,10,11,12,11,0,1,5,10,16,16,13,9,5,12,15,3,0,15,7,7,6,0]],[\"gender\",[\"w\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"m\",\"w\",\"m\",\"m\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"w\"]],[\"grade\",[3.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},4.0,3.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,2.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},1.0,1.0,1.0,1.0,4.0,1.0,2.0,2.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,3.0,1.0,4.0,4.0,3.0,1.0,3.0,2.0,4.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,4.0,4.0,3.0,{\"type\":\"number\",\"value\":\"nan\"}]],[\"hours\",[5,6,11,6,5,5,5,4,6,5,4,4,9,4,10,4,4,4,4,6,4,4,4,4,9,4,5,4,6,6,5,4,5,4,6,4,9,6,6,6,5,6]],[\"status\",[\"pupil\",\"social_worker\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"social_worker\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\"]],[\"_colormap\",[\"rgb(99, 119, 135)\",\"rgb(122, 181, 33)\",\"rgb(122, 181, 33)\",\"rgb(163, 152, 72)\",\"rgb(193, 251, 151)\",\"rgb(179, 192, 217)\",\"rgb(122, 181, 33)\",\"rgb(140, 7, 23)\",\"rgb(122, 181, 33)\",\"rgb(179, 192, 217)\",\"rgb(163, 85, 99)\",\"rgb(163, 85, 99)\",\"rgb(122, 181, 33)\",\"rgb(122, 181, 33)\",\"rgb(122, 181, 33)\",\"rgb(241, 60, 154)\",\"rgb(200, 139, 59)\",\"rgb(94, 208, 215)\",\"rgb(200, 139, 59)\",\"rgb(163, 152, 72)\",\"rgb(18, 180, 67)\",\"rgb(223, 130, 126)\",\"rgb(78, 17, 98)\",\"rgb(223, 130, 126)\",\"rgb(122, 181, 33)\",\"rgb(241, 60, 154)\",\"rgb(47, 36, 186)\",\"rgb(18, 180, 67)\",\"rgb(202, 159, 49)\",\"rgb(202, 159, 49)\",\"rgb(99, 119, 135)\",\"rgb(94, 208, 215)\",\"rgb(47, 36, 186)\",\"rgb(78, 17, 98)\",\"rgb(53, 115, 245)\",\"rgb(163, 85, 99)\",\"rgb(122, 181, 33)\",\"rgb(53, 115, 245)\",\"rgb(56, 74, 114)\",\"rgb(56, 74, 114)\",\"rgb(193, 251, 151)\",\"rgb(122, 181, 33)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p10212\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p10213\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p10208\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p10209\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p10210\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p10153\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p10176\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p10177\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p10178\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p10179\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p10180\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p10200\",\"attributes\":{\"renderers\":[{\"id\":\"p10197\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p10214\",\"attributes\":{\"renderers\":[{\"id\":\"p10211\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p10169\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p10170\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p10171\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p10172\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p10162\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p10163\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p10164\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p10165\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p10168\",\"attributes\":{\"axis\":{\"id\":\"p10162\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p10175\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p10169\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"e2605b48-c8b7-408e-b257-e2d7c2c5caca\",\"roots\":{\"p10145\":\"f79ec236-37e1-4e64-895a-6eabc6845c98\"},\"root_ids\":[\"p10145\"],\"notebook_comms_target\":\"p10694\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p10145"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])\n",
    "\n",
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"friend_group\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "efd94351",
   "metadata": {},
   "source": [
    "### Edge weights\n",
    "\n",
    "Until now, all edges between nodes have a weight of `1`.\n",
    "The location method `weight()` can be used to set different weights.\n",
    "In the following, we set the weight of all edges generated by a classroom to `5`.\n",
    "This number could, for instance, represent that agents are together in classrooms for five hours."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 74,
   "id": "0a353114",
   "metadata": {},
   "outputs": [],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.friend_group\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return 5"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 75,
   "id": "6efbd8c7",
   "metadata": {},
   "outputs": [],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "agents, locations = creator.make(df=df_school, location_classes=[ClassRoom])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 76,
   "id": "b962e797",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"efe1c3a6-9168-43d2-96b8-fe10c155ec48\" data-root-id=\"p10790\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"a67e20e1-3222-416d-bc38-54bbc1a168eb\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p10790\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p10792\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p10791\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p10803\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p10805\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p10797\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p10842\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p10833\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p10834\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p10835\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.687596669400569,0.6472261698177986],[0.6250855867172787,0.6472261698177986],[0.4612563988424453,0.4449259832739689],[0.408282591908535,0.4449259832739689],[0.1904692947802806,0.2041979865936323],[-0.4000367480834719,-0.39834167665924414],[0.1760502415052078,0.2041979865936323],[-0.2272213057104272,-0.1983077079694243],[0.6367714286737823,0.6472261698177986],[-0.15458820341718196,-0.16996670085774332],[-0.2939174868019412,-0.2655307806297069],[0.679571736770718,0.6472261698177986],[-0.3653483371054985,-0.39834167665924414],[-0.3889163334370458,-0.4254297702265477],[-0.1817456756621492,-0.1983077079694243],[0.2403263355531375,0.2041979865936323],[-0.1974609579952938,-0.16996670085774332],[-0.46490965317306243,-0.4254297702265477],[-0.4478694050739078,-0.4254297702265477],[0.22716492412405387,0.2041979865936323],[0.48505268259721956,0.4449259832739689],[-0.22831495229803342,-0.1983077079694243],[-0.2556529603944306,-0.2655307806297069],[-0.4403115433122354,-0.39834167665924414],[-0.29815865356273447,-0.2655307806297069],[-0.22820392687705848,-0.2655307806297069],[-0.13893757948438146,-0.16996670085774332],[0.446335131061424,0.4449259832739689],[-0.42962212816539413,-0.4254297702265477],[-0.16163480959186424,-0.1983077079694243],[-0.421737008300908,-0.39834167665924414],[-0.20453748069048402,-0.16996670085774332]]],[\"ys\",[[0.048236369533416305,0.06378154038624832],[0.09413384326891704,0.06378154038624832],[-0.4058835633929157,-0.4400315939883166],[-0.4458440443979871,-0.4400315939883166],[0.058843484955449575,0.09324644187414333],[0.18308767456278435,0.2204040061910701],[0.12012171604633112,0.09324644187414333],[-0.45518344452146337,-0.4801698094540413],[0.027832020348665915,0.06378154038624832],[-0.12071270850825694,-0.08523089549401316],[0.5854397174248455,0.6095556041354333],[0.09225267361258817,0.06378154038624832],[0.23900001694442757,0.2204040061910701],[-0.7215032302609785,-0.7121053231227289],[-0.5191203737211336,-0.4801698094540413],[0.07712663298837383,0.09324644187414333],[-0.05695588894186937,-0.08523089549401316],[-0.7322464466692064,-0.7121053231227289],[-0.681667453784167,-0.7121053231227289],[0.12745749260645672,0.09324644187414333],[-0.45731693086889047,-0.4400315939883166],[-0.5088644116025247,-0.4801698094540413],[0.6522434122307849,0.6095556041354333],[0.21485928140531454,0.2204040061910701],[0.6365772183513165,0.6095556041354333],[0.6028192376937435,0.6095556041354333],[-0.061989032512829105,-0.08523089549401316],[-0.48183506445095076,-0.4400315939883166],[-0.7568150099097452,-0.7121053231227289],[-0.4716135817984663,-0.4801698094540413],[0.2562730187234812,0.2204040061910701],[-0.1065938090363148,-0.08523089549401316]]],[\"_u\",[1,3,4,6,7,9,10,11,12,13,14,15,16,18,19,20,21,22,23,24,25,26,27,28,31,33,34,35,38,39,41,42]],[\"_v\",[44,44,45,45,47,50,47,48,44,43,49,44,50,46,48,47,43,46,46,47,45,48,49,50,49,49,43,45,46,48,50,43]],[\"weight\",[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p10843\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p10844\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p10839\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p10840\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p10841\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p10856\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p10847\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p10848\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p10849\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.687596669400569,0.7760346235123423,0.6250855867172787,0.4612563988424453,-0.6971492067671576,0.408282591908535,0.1904692947802806,-0.8951695911403696,-0.4000367480834719,0.1760502415052078,-0.2272213057104272,0.6367714286737823,-0.15458820341718196,-0.2939174868019412,0.679571736770718,-0.3653483371054985,0.3830432591341651,-0.3889163334370458,-0.1817456756621492,0.2403263355531375,-0.1974609579952938,-0.46490965317306243,-0.4478694050739078,0.22716492412405387,0.48505268259721956,-0.22831495229803342,-0.2556529603944306,-0.4403115433122354,0.7568247069927427,0.7345564332845992,-0.29815865356273447,-0.3087526613949072,-0.22820392687705848,-0.13893757948438146,0.446335131061424,0.05936545194373456,-0.9676099706712356,-0.42962212816539413,-0.16163480959186424,0.9852455789662057,-0.421737008300908,-0.20453748069048402]],[\"ys\",[0.048236369533416305,0.7386671611370077,0.09413384326891704,-0.4058835633929157,0.7777779225125526,-0.4458440443979871,0.058843484955449575,0.10465993120096477,0.18308767456278435,0.12012171604633112,-0.45518344452146337,0.027832020348665915,-0.12071270850825694,0.5854397174248455,0.09225267361258817,0.23900001694442757,0.8959619615558351,-0.7215032302609785,-0.5191203737211336,0.07712663298837383,-0.05695588894186937,-0.7322464466692064,-0.681667453784167,0.12745749260645672,-0.45731693086889047,-0.5088644116025247,0.6522434122307849,0.21485928140531454,0.4156861891325203,-0.6267553578807302,0.6365772183513165,0.9849007951238811,0.6028192376937435,-0.061989032512829105,-0.48183506445095076,1.0,-0.18312466472602668,-0.7568150099097452,-0.4716135817984663,-0.4093827249029963,0.2562730187234812,-0.1065938090363148]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\",\"rgb(68, 221, 117)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p10857\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p10858\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p10853\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p10854\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p10855\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p10868\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p10859\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p10860\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p10861\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.16996670085774332,0.6472261698177986,0.4449259832739689,-0.4254297702265477,0.2041979865936323,-0.1983077079694243,-0.2655307806297069,-0.39834167665924414]],[\"ys\",[-0.08523089549401316,0.06378154038624832,-0.4400315939883166,-0.7121053231227289,0.09324644187414333,-0.4801698094540413,0.6095556041354333,0.2204040061910701]],[\"_node\",[43,44,45,46,47,48,49,50]],[\"bipartite\",[1,1,1,1,1,1,1,1]],[\"type\",[\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\"]],[\"_colormap\",[\"rgb(99, 67, 218)\",\"rgb(99, 67, 218)\",\"rgb(99, 67, 218)\",\"rgb(99, 67, 218)\",\"rgb(99, 67, 218)\",\"rgb(99, 67, 218)\",\"rgb(99, 67, 218)\",\"rgb(99, 67, 218)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p10869\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p10870\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p10865\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p10866\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p10867\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p10798\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p10821\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p10822\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p10823\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p10824\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p10825\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p10845\",\"attributes\":{\"renderers\":[{\"id\":\"p10842\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p10871\",\"attributes\":{\"renderers\":[{\"id\":\"p10856\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p10873\",\"attributes\":{\"renderers\":[{\"id\":\"p10868\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p10814\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p10815\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p10816\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p10817\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p10807\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p10808\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p10809\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p10810\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p10813\",\"attributes\":{\"axis\":{\"id\":\"p10807\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p10820\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p10814\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"a67e20e1-3222-416d-bc38-54bbc1a168eb\",\"roots\":{\"p10790\":\"efe1c3a6-9168-43d2-96b8-fe10c155ec48\"},\"root_ids\":[\"p10790\"],\"notebook_comms_target\":\"p11377\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p10790"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 77,
   "id": "aba568da",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"f78bc7ea-9bb6-40fc-a8b4-64e2da8720ef\" data-root-id=\"p11498\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"141f6f00-105b-462e-ab53-09d63fa1e75a\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p11498\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p11500\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p11499\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p11511\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p11513\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p11505\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p11550\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p11541\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p11542\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p11543\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.34838568861334407,0.3387767950799192],[0.34838568861334407,0.32782256268040155],[0.34838568861334407,0.3170217302676998],[0.3387767950799192,0.32782256268040155],[0.3387767950799192,0.3170217302676998],[0.27884008042018793,0.2549976053805697],[0.27884008042018793,0.2915843613456071],[0.27884008042018793,0.26961699463866795],[0.26961699463866795,0.2549976053805697],[0.26961699463866795,0.2915843613456071],[-0.33610030887378933,-0.3656838536541043],[-0.33610030887378933,-0.3649671036069042],[-0.33610030887378933,-0.34118421070908095],[0.6517849806996411,0.6629297212950575],[0.6517849806996411,0.6801736824902225],[0.6517849806996411,0.6436479941490346],[-0.3649671036069042,-0.3656838536541043],[-0.3649671036069042,-0.34118421070908095],[-0.0936728861788917,-0.07593907562380885],[-0.0936728861788917,-0.10140956983174583],[-0.0936728861788917,-0.06856429274787111],[0.32782256268040155,0.3170217302676998],[0.1884531526535566,0.17039005957205655],[0.1884531526535566,0.16157634908828206],[0.1884531526535566,0.19431721489296697],[0.03739366613864853,0.06028073033351024],[0.03739366613864853,0.03412955532411723],[0.03739366613864853,0.06357903805376161],[0.6629297212950575,0.6801736824902225],[0.6629297212950575,0.6436479941490346],[-0.37778768302771043,-0.37895353207460025],[-0.37778768302771043,-0.34987092110607665],[-0.37778768302771043,-0.35331506847815897],[-0.10140956983174583,-0.07593907562380885],[-0.10140956983174583,-0.06856429274787111],[-0.34118421070908095,-0.3656838536541043],[0.16157634908828206,0.17039005957205655],[0.16157634908828206,0.19431721489296697],[-0.34987092110607665,-0.37895353207460025],[-0.34987092110607665,-0.35331506847815897],[-0.35331506847815897,-0.37895353207460025],[0.2549976053805697,0.2915843613456071],[-0.07593907562380885,-0.06856429274787111],[0.03412955532411723,0.06028073033351024],[0.03412955532411723,0.06357903805376161],[0.6801736824902225,0.6436479941490346],[0.06357903805376161,0.06028073033351024],[0.17039005957205655,0.19431721489296697]]],[\"ys\",[[-0.07218768548305106,-0.04887017332025345],[-0.07218768548305106,-0.08687965393890047],[-0.07218768548305106,-0.06324671888017137],[-0.04887017332025345,-0.08687965393890047],[-0.04887017332025345,-0.06324671888017137],[0.45517608464436504,0.43966509594933034],[0.45517608464436504,0.4303940691389919],[0.45517608464436504,0.419122594493378],[0.419122594493378,0.43966509594933034],[0.419122594493378,0.4303940691389919],[-0.43092917992449736,-0.4090847599415246],[-0.43092917992449736,-0.4384816890693375],[-0.43092917992449736,-0.4066360559614893],[-0.049309835842839024,-0.013329231252539783],[-0.049309835842839024,-0.03687629524757421],[-0.049309835842839024,-0.026358148728234377],[-0.4384816890693375,-0.4090847599415246],[-0.4384816890693375,-0.4066360559614893],[-0.12766334950779884,-0.16094136695180375],[-0.12766334950779884,-0.1529205691408736],[-0.12766334950779884,-0.13627241022030087],[-0.08687965393890047,-0.06324671888017137],[-0.5714457556237824,-0.5378517626971692],[-0.5714457556237824,-0.5595901230711191],[-0.5714457556237824,-0.5412835149192503],[0.09577029040333747,0.12550879159719555],[0.09577029040333747,0.12213000010254518],[0.09577029040333747,0.09865738470420239],[-0.013329231252539783,-0.03687629524757421],[-0.013329231252539783,-0.026358148728234377],[0.13830619901756253,0.16612097285591895],[0.13830619901756253,0.16331124544925082],[0.13830619901756253,0.13818869920684182],[-0.1529205691408736,-0.16094136695180375],[-0.1529205691408736,-0.13627241022030087],[-0.4066360559614893,-0.4090847599415246],[-0.5595901230711191,-0.5378517626971692],[-0.5595901230711191,-0.5412835149192503],[0.16331124544925082,0.16612097285591895],[0.16331124544925082,0.13818869920684182],[0.13818869920684182,0.16612097285591895],[0.43966509594933034,0.4303940691389919],[-0.16094136695180375,-0.13627241022030087],[0.12213000010254518,0.12550879159719555],[0.12213000010254518,0.09865738470420239],[-0.03687629524757421,-0.026358148728234377],[0.09865738470420239,0.12550879159719555],[-0.5378517626971692,-0.5412835149192503]]],[\"_u\",[1,1,1,3,3,4,4,4,6,6,7,7,7,9,9,9,10,10,11,11,11,12,13,13,13,14,14,14,16,16,18,18,18,19,19,20,21,21,22,22,23,25,26,27,27,28,31,34]],[\"_v\",[3,12,15,12,15,25,35,6,25,35,24,10,20,16,28,41,24,20,26,19,39,15,34,21,42,33,27,31,28,41,38,22,23,26,39,24,34,42,38,23,38,35,39,33,31,41,33,42]],[\"weight\",[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p11551\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p11552\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p11547\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p11548\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p11549\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p11564\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p11555\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p11556\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p11557\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.34838568861334407,0.9821811664167008,0.3387767950799192,0.27884008042018793,0.12232202201835887,0.26961699463866795,-0.33610030887378933,-0.2989573015059205,0.6517849806996411,-0.3649671036069042,-0.0936728861788917,0.32782256268040155,0.1884531526535566,0.03739366613864853,0.3170217302676998,0.6629297212950575,0.02227777718747486,-0.37778768302771043,-0.10140956983174583,-0.34118421070908095,0.16157634908828206,-0.34987092110607665,-0.35331506847815897,-0.3656838536541043,0.2549976053805697,-0.07593907562380885,0.03412955532411723,0.6801736824902225,-0.8011566293814475,-0.7543090969294319,0.06357903805376161,-0.8851511694716713,0.06028073033351024,0.17039005957205655,0.2915843613456071,-0.7292446915786256,-0.8925434910585716,-0.37895353207460025,-0.06856429274787111,0.46632795709862346,0.6436479941490346,0.19431721489296697]],[\"ys\",[-0.07218768548305106,0.3932402250214239,-0.04887017332025345,0.45517608464436504,-1.0,0.419122594493378,-0.43092917992449736,0.9307219835567889,-0.049309835842839024,-0.4384816890693375,-0.12766334950779884,-0.08687965393890047,-0.5714457556237824,0.09577029040333747,-0.06324671888017137,-0.013329231252539783,0.8902888573780989,0.13830619901756253,-0.1529205691408736,-0.4066360559614893,-0.5595901230711191,0.16331124544925082,0.13818869920684182,-0.4090847599415246,0.43966509594933034,-0.16094136695180375,0.12213000010254518,-0.03687629524757421,-0.26709925127171863,0.6004151329814188,0.09865738470420239,0.2525349974481431,0.12550879159719555,-0.5378517626971692,0.4303940691389919,-0.5646308278755143,-0.06250064338607003,0.16612097285591895,-0.13627241022030087,0.9048363783070192,-0.026358148728234377,-0.5412835149192503]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[15,0,7,13,0,5,1,0,3,10,9,7,8,12,15,3,0,6,2,10,16,14,6,1,5,2,11,3,0,0,11,0,12,8,13,0,0,14,9,0,4,16]],[\"gender\",[\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"m\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\",\"w\",\"w\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"m\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"m\"]],[\"grade\",[4.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,1.0,1.0,4.0,4.0,2.0,4.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,1.0,1.0,4.0,3.0,3.0,1.0,3.0,1.0,2.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},2.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,4.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},3.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,4.0]],[\"hours\",[6,9,6,5,6,5,4,10,4,4,4,6,6,4,6,4,9,5,4,4,6,5,5,4,5,4,4,4,6,4,4,6,4,6,5,11,5,5,4,9,4,6]],[\"status\",[\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"social_worker\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\"]],[\"_colormap\",[\"rgb(166, 142, 38)\",\"rgb(108, 191, 99)\",\"rgb(166, 142, 38)\",\"rgb(233, 252, 27)\",\"rgb(7, 165, 134)\",\"rgb(233, 252, 27)\",\"rgb(54, 10, 226)\",\"rgb(46, 227, 92)\",\"rgb(3, 57, 166)\",\"rgb(54, 10, 226)\",\"rgb(54, 10, 226)\",\"rgb(166, 142, 38)\",\"rgb(166, 142, 38)\",\"rgb(3, 57, 166)\",\"rgb(166, 142, 38)\",\"rgb(3, 57, 166)\",\"rgb(36, 242, 107)\",\"rgb(233, 252, 27)\",\"rgb(54, 10, 226)\",\"rgb(54, 10, 226)\",\"rgb(166, 142, 38)\",\"rgb(233, 252, 27)\",\"rgb(233, 252, 27)\",\"rgb(54, 10, 226)\",\"rgb(233, 252, 27)\",\"rgb(54, 10, 226)\",\"rgb(3, 57, 166)\",\"rgb(3, 57, 166)\",\"rgb(182, 66, 152)\",\"rgb(220, 9, 122)\",\"rgb(3, 57, 166)\",\"rgb(137, 16, 129)\",\"rgb(3, 57, 166)\",\"rgb(166, 142, 38)\",\"rgb(233, 252, 27)\",\"rgb(191, 30, 194)\",\"rgb(25, 29, 46)\",\"rgb(233, 252, 27)\",\"rgb(54, 10, 226)\",\"rgb(81, 27, 146)\",\"rgb(3, 57, 166)\",\"rgb(166, 142, 38)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p11565\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p11566\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p11561\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p11562\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p11563\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p11506\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p11529\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p11530\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p11531\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p11532\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p11533\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p11553\",\"attributes\":{\"renderers\":[{\"id\":\"p11550\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p11567\",\"attributes\":{\"renderers\":[{\"id\":\"p11564\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p11522\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p11523\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p11524\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p11525\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p11515\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p11516\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p11517\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p11518\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p11521\",\"attributes\":{\"axis\":{\"id\":\"p11515\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p11528\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p11522\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"141f6f00-105b-462e-ab53-09d63fa1e75a\",\"roots\":{\"p11498\":\"f78bc7ea-9bb6-40fc-a8b4-64e2da8720ef\"},\"root_ids\":[\"p11498\"],\"notebook_comms_target\":\"p12090\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p11498"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"grade\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f9962542",
   "metadata": {},
   "source": [
    "To implement individual weights between an agent and a location, we could also let `weight()` return an agent attribute. \n",
    "In this case we use the agent attribute `agent.hours`:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 78,
   "id": "f450b660",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(AgentList (42 objects), LocationList (8 objects))"
      ]
     },
     "execution_count": 78,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.friend_group\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return agent.hours\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 79,
   "id": "c14d9014",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"e255f50c-9ad5-4d33-a303-3f69a8695a9d\" data-root-id=\"p12186\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"9eef6b60-81b6-48c3-95c8-d6f7cea12f75\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p12186\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p12188\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p12187\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p12199\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p12201\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p12193\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p12238\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p12229\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p12230\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p12231\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.14246329919629114,-0.11046257822584439],[-0.0724224881889618,-0.11046257822584439],[-0.05727220933139473,-0.024066114444123845],[-0.14044063905567958,-0.11046257822584439],[-0.09614161207886036,-0.11046257822584439],[-0.5484812216593681,-0.5214147470572824],[-0.5097923743406231,-0.5214147470572824],[0.38322908115429694,0.3458770179531671],[0.35847329970896374,0.3458770179531671],[0.6635612344416751,0.629174658651089],[0.34747335111096034,0.3458770179531671],[0.0032098949256708005,-0.024066114444123845],[-0.5368380128276747,-0.5248171527495049],[-0.09226678522484623,-0.07712946418718157],[-0.06420412646099274,-0.07712946418718157],[0.3131064653822469,0.3458770179531671],[-0.03967185312378466,-0.07712946418718157],[0.4168120144940822,0.4130740660356292],[0.45447498445640033,0.4130740660356292],[-0.11690358366364127,-0.07712946418718157],[0.6130733379526861,0.629174658651089],[-0.042595698965461525,-0.024066114444123845],[0.43213763681360884,0.4130740660356292],[0.0024000699042096407,-0.024066114444123845],[-0.5334622938018715,-0.5248171527495049],[0.6711489829281938,0.629174658651089],[-0.4985390985342951,-0.5214147470572824],[-0.5579393247585109,-0.5214147470572824],[-0.49089147329898075,-0.5248171527495049],[-0.5657703956709463,-0.5248171527495049],[0.37448338018472743,0.4130740660356292],[0.606376206471732,0.629174658651089]]],[\"ys\",[[-0.6286312642267472,-0.5957636487054498],[-0.5863520305522845,-0.5957636487054498],[0.4572018636584587,0.4737277905875645],[-0.5697559691341606,-0.5957636487054498],[-0.6383297324853116,-0.5957636487054498],[-0.050853686102167624,-0.023418407326352628],[0.009258028712983384,-0.023418407326352628],[-0.41330475699626573,-0.412820282478783],[-0.44993897635788704,-0.412820282478783],[0.07682199564825985,0.04899337095782278],[-0.3786313625750649,-0.412820282478783],[0.5021157510835556,0.4737277905875645],[0.5101053318218016,0.4700141706719755],[-0.12050831679311336,-0.0825918206281038],[-0.04369309168773406,-0.0825918206281038],[-0.42509538821557896,-0.412820282478783],[-0.09684004797056607,-0.0825918206281038],[0.6216316686916479,0.5753672685902153],[0.5962992202271337,0.5753672685902153],[-0.07090873317923141,-0.0825918206281038],[0.012919097027101418,0.04899337095782278],[0.5114095222077507,0.4737277905875645],[0.5409510296940663,0.5753672685902153],[0.4488236754854812,0.4737277905875645],[0.43461231864023986,0.4700141706719755],[0.02999874260672842,0.04899337095782278],[-0.0490317137943966,-0.023418407326352628],[-0.009366623512627572,-0.023418407326352628],[0.4839185838638729,0.4700141706719755],[0.4763161435226226,0.4700141706719755],[0.5809383552646188,0.5753672685902153],[0.080811361929319,0.04899337095782278]]],[\"_u\",[2,4,5,6,7,8,9,11,12,13,14,15,16,18,20,21,24,25,26,27,28,29,32,33,34,36,37,38,39,40,41,42]],[\"_v\",[43,43,46,43,43,47,47,48,48,50,48,46,45,49,49,48,49,44,44,49,50,46,44,46,45,50,47,47,45,45,44,50]],[\"weight\",[4,4,5,4,4,6,6,6,6,4,6,5,5,4,4,6,4,4,4,4,4,5,4,5,5,4,6,6,5,5,4,4]],[\"_edge_alpha\",[0.3333333333333333,0.3333333333333333,0.6666666666666666,0.3333333333333333,0.3333333333333333,1.0,1.0,1.0,1.0,0.3333333333333333,1.0,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.3333333333333333,1.0,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.6666666666666666,0.3333333333333333,0.6666666666666666,0.6666666666666666,0.3333333333333333,1.0,1.0,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.3333333333333333]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p12239\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p12240\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p12235\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p12236\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p12237\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p12252\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p12243\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p12244\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p12245\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.9838424462194731,-0.14246329919629114,-0.7853817067425115,-0.0724224881889618,-0.05727220933139473,-0.14044063905567958,-0.09614161207886036,-0.5484812216593681,-0.5097923743406231,0.47358107459134186,0.38322908115429694,0.35847329970896374,0.6635612344416751,0.34747335111096034,0.0032098949256708005,-0.5368380128276747,0.7458442174681451,-0.09226678522484623,-1.0,-0.06420412646099274,0.3131064653822469,0.7775554436534817,-0.06898255791902058,-0.03967185312378466,0.4168120144940822,0.45447498445640033,-0.11690358366364127,0.6130733379526861,-0.042595698965461525,-0.4029413432683222,-0.406636888648209,0.43213763681360884,0.0024000699042096407,-0.5334622938018715,-0.9809798210775956,0.6711489829281938,-0.4985390985342951,-0.5579393247585109,-0.49089147329898075,-0.5657703956709463,0.37448338018472743,0.606376206471732]],[\"ys\",[-0.1460551899264583,-0.6286312642267472,-0.5914505414688763,-0.5863520305522845,0.4572018636584587,-0.5697559691341606,-0.6383297324853116,-0.050853686102167624,0.009258028712983384,-0.7554382785489445,-0.41330475699626573,-0.44993897635788704,0.07682199564825985,-0.3786313625750649,0.5021157510835556,0.5101053318218016,-0.6860839627553388,-0.12050831679311336,0.45113833614456755,-0.04369309168773406,-0.42509538821557896,0.4112310768564321,-0.9424401148112429,-0.09684004797056607,0.6216316686916479,0.5962992202271337,-0.07090873317923141,0.012919097027101418,0.5114095222077507,0.9360975531548688,-0.7988749740477451,0.5409510296940663,0.4488236754854812,0.43461231864023986,-0.17452334276865653,0.02999874260672842,-0.0490317137943966,-0.009366623512627572,0.4839185838638729,0.4763161435226226,0.5809383552646188,0.080811361929319]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\",\"rgb(249, 132, 252)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p12253\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p12254\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p12249\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p12250\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p12251\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p12264\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p12255\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p12256\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p12257\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.11046257822584439,0.4130740660356292,-0.5248171527495049,-0.024066114444123845,-0.5214147470572824,0.3458770179531671,-0.07712946418718157,0.629174658651089]],[\"ys\",[-0.5957636487054498,0.5753672685902153,0.4700141706719755,0.4737277905875645,-0.023418407326352628,-0.412820282478783,-0.0825918206281038,0.04899337095782278]],[\"_node\",[43,44,45,46,47,48,49,50]],[\"bipartite\",[1,1,1,1,1,1,1,1]],[\"type\",[\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\"]],[\"_colormap\",[\"rgb(59, 160, 107)\",\"rgb(59, 160, 107)\",\"rgb(59, 160, 107)\",\"rgb(59, 160, 107)\",\"rgb(59, 160, 107)\",\"rgb(59, 160, 107)\",\"rgb(59, 160, 107)\",\"rgb(59, 160, 107)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p12265\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p12266\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p12261\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p12262\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p12263\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p12194\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p12217\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p12218\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p12219\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p12220\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p12221\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p12241\",\"attributes\":{\"renderers\":[{\"id\":\"p12238\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p12267\",\"attributes\":{\"renderers\":[{\"id\":\"p12252\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p12269\",\"attributes\":{\"renderers\":[{\"id\":\"p12264\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p12210\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p12211\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p12212\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p12213\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p12203\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p12204\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p12205\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p12206\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p12209\",\"attributes\":{\"axis\":{\"id\":\"p12203\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p12216\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p12210\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"9eef6b60-81b6-48c3-95c8-d6f7cea12f75\",\"roots\":{\"p12186\":\"e255f50c-9ad5-4d33-a303-3f69a8695a9d\"},\"root_ids\":[\"p12186\"],\"notebook_comms_target\":\"p12816\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p12186"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 80,
   "id": "304baf19",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"f5c7029c-ae3f-4214-a30b-22c524c1d24d\" data-root-id=\"p12937\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"eb58289b-5856-48a3-ae59-17c05a867afd\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p12937\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p12939\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p12938\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p12950\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p12952\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p12944\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p12989\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p12980\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p12981\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p12982\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.37102938480426995,0.3824780838274512],[0.37102938480426995,0.4065945308434017],[0.37102938480426995,0.4011262572918086],[0.3824780838274512,0.4065945308434017],[0.3824780838274512,0.4011262572918086],[0.029262915510266108,0.022720955216629854],[0.029262915510266108,0.008053704853827138],[0.029262915510266108,0.0447099967917239],[0.4065945308434017,0.4011262572918086],[-0.026444801663683175,-0.01935319894178205],[-0.026444801663683175,-0.043065578021874454],[-0.026444801663683175,-0.049726659455010015],[-0.01935319894178205,-0.043065578021874454],[-0.01935319894178205,-0.049726659455010015],[-0.44404747604550854,-0.44743445678470467],[-0.44404747604550854,-0.4669055167237858],[-0.44404747604550854,-0.47227184543507944],[-0.44743445678470467,-0.4669055167237858],[-0.44743445678470467,-0.47227184543507944],[0.6261638719962892,0.6117158130600169],[0.6261638719962892,0.6346497229582968],[0.6261638719962892,0.6534623663944046],[-0.47227184543507944,-0.4669055167237858],[0.0447099967917239,0.022720955216629854],[0.0447099967917239,0.008053704853827138],[0.23771559551688115,0.26257598418426203],[0.23771559551688115,0.2348353086550821],[0.23771559551688115,0.2617317583199393],[-0.17272416984844366,-0.15182492729258137],[-0.17272416984844366,-0.1914662718726189],[-0.17272416984844366,-0.1732720434645009],[-0.1732720434645009,-0.15182492729258137],[-0.1732720434645009,-0.1914662718726189],[-0.15182492729258137,-0.1914662718726189],[-0.2041739357633812,-0.20272646605994213],[-0.2041739357633812,-0.1744360544697053],[-0.2041739357633812,-0.1759502366654734],[-0.1759502366654734,-0.20272646605994213],[-0.1759502366654734,-0.1744360544697053],[0.6346497229582968,0.6117158130600169],[0.6346497229582968,0.6534623663944046],[0.008053704853827138,0.022720955216629854],[-0.20272646605994213,-0.1744360544697053],[0.2348353086550821,0.26257598418426203],[0.2348353086550821,0.2617317583199393],[0.6534623663944046,0.6117158130600169],[-0.043065578021874454,-0.049726659455010015],[0.2617317583199393,0.26257598418426203]]],[\"ys\",[[0.6556389038629424,0.6333972803144746],[0.6556389038629424,0.6380393186629447],[0.6556389038629424,0.669670343476813],[0.6333972803144746,0.6380393186629447],[0.6333972803144746,0.669670343476813],[-0.07927005872832507,-0.04469589759807272],[-0.07927005872832507,-0.0672720113107269],[-0.07927005872832507,-0.059746094706359],[0.6380393186629447,0.669670343476813],[-0.4094964258245926,-0.4310917907988695],[-0.4094964258245926,-0.44013202451317296],[-0.4094964258245926,-0.41426266508781373],[-0.4310917907988695,-0.44013202451317296],[-0.4310917907988695,-0.41426266508781373],[0.036104736933123875,0.06042607985567708],[0.036104736933123875,0.031678102240910236],[0.036104736933123875,0.05592022269781926],[0.06042607985567708,0.031678102240910236],[0.06042607985567708,0.05592022269781926],[-0.058373341868682774,-0.035453088940440955],[-0.058373341868682774,-0.020591904982972555],[-0.058373341868682774,-0.0435854052127704],[0.05592022269781926,0.031678102240910236],[-0.059746094706359,-0.04469589759807272],[-0.059746094706359,-0.0672720113107269],[0.12930066146345096,0.1302126192227072],[0.12930066146345096,0.15473011393082234],[0.12930066146345096,0.15685630992507224],[0.56734697068981,0.5831948403104559],[0.56734697068981,0.5840097995938386],[0.56734697068981,0.6078867284965693],[0.6078867284965693,0.5831948403104559],[0.6078867284965693,0.5840097995938386],[0.5831948403104559,0.5840097995938386],[0.10695622377942544,0.07852671527667127],[0.10695622377942544,0.07876686765438823],[0.10695622377942544,0.10729890111112661],[0.10729890111112661,0.07852671527667127],[0.10729890111112661,0.07876686765438823],[-0.020591904982972555,-0.035453088940440955],[-0.020591904982972555,-0.0435854052127704],[-0.0672720113107269,-0.04469589759807272],[0.07852671527667127,0.07876686765438823],[0.15473011393082234,0.1302126192227072],[0.15473011393082234,0.15685630992507224],[-0.0435854052127704,-0.035453088940440955],[-0.44013202451317296,-0.41426266508781373],[0.15685630992507224,0.1302126192227072]]],[\"_u\",[2,2,2,4,4,5,5,5,6,8,8,8,9,9,11,11,11,12,12,13,13,13,14,15,15,16,16,16,18,18,18,20,20,24,25,25,25,26,26,28,28,29,32,34,34,36,37,39]],[\"_v\",[4,6,7,6,7,33,29,15,7,9,37,38,37,38,12,21,14,21,14,42,28,36,21,33,29,40,34,39,24,27,20,24,27,27,32,41,26,32,41,42,36,33,41,40,39,42,38,40]],[\"weight\",[4,4,4,4,4,5,5,5,4,6,6,6,6,6,6,6,6,6,6,4,4,4,6,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,5,4,5,5,4,6,5]],[\"_edge_alpha\",[0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.3333333333333333,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.3333333333333333,0.3333333333333333,0.3333333333333333,1.0,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.6666666666666666,0.3333333333333333,0.6666666666666666,0.6666666666666666,0.3333333333333333,1.0,0.6666666666666666]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p12990\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p12991\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p12986\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p12987\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p12988\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p13003\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p12994\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p12995\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p12996\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-1.0,0.37102938480426995,-0.6674610537141129,0.3824780838274512,0.029262915510266108,0.4065945308434017,0.4011262572918086,-0.026444801663683175,-0.01935319894178205,0.379930311039015,-0.44404747604550854,-0.44743445678470467,0.6261638719962892,-0.47227184543507944,0.0447099967917239,0.23771559551688115,0.8587892738674907,-0.17272416984844366,0.5240845850913608,-0.1732720434645009,-0.4669055167237858,-0.8450471457433694,0.7520667026622877,-0.15182492729258137,-0.2041739357633812,-0.1759502366654734,-0.1914662718726189,0.6346497229582968,0.008053704853827138,0.038406821283272816,-0.9196266931373602,-0.20272646605994213,0.022720955216629854,0.2348353086550821,-0.8941454130650602,0.6534623663944046,-0.043065578021874454,-0.049726659455010015,0.2617317583199393,0.26257598418426203,-0.1744360544697053,0.6117158130600169]],[\"ys\",[-0.04397179483097033,0.6556389038629424,-0.7388369559843636,0.6333972803144746,-0.07927005872832507,0.6380393186629447,0.669670343476813,-0.4094964258245926,-0.4310917907988695,-0.9551729006796138,0.036104736933123875,0.06042607985567708,-0.058373341868682774,0.05592022269781926,-0.059746094706359,0.12930066146345096,-0.332845445149217,0.56734697068981,-0.7579586584189334,0.6078867284965693,0.031678102240910236,-0.3759471102866861,-0.5848421195052825,0.5831948403104559,0.10695622377942544,0.10729890111112661,0.5840097995938386,-0.020591904982972555,-0.0672720113107269,-0.9935398729030214,0.3087891059004014,0.07852671527667127,-0.04469589759807272,0.15473011393082234,0.5123347219314422,-0.0435854052127704,-0.44013202451317296,-0.41426266508781373,0.15685630992507224,0.1302126192227072,0.07876686765438823,-0.035453088940440955]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[0,10,0,10,14,9,9,8,16,0,7,15,11,7,6,5,0,3,0,3,15,0,0,3,1,2,4,12,6,0,0,1,14,5,0,12,8,16,13,13,2,11]],[\"gender\",[\"w\",\"w\",\"w\",\"m\",\"m\",\"m\",\"w\",\"m\",\"w\",\"m\",\"w\",\"m\",\"m\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\"]],[\"grade\",[{\"type\":\"number\",\"value\":\"nan\"},1.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,3.0,1.0,1.0,4.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,4.0,2.0,4.0,3.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},2.0,1.0,1.0,2.0,2.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},1.0,3.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,4.0,4.0,3.0,3.0,1.0,2.0]],[\"hours\",[9,4,9,4,5,4,4,6,6,9,6,6,4,6,5,5,6,4,11,4,6,10,5,4,4,4,4,4,5,4,6,4,5,5,6,4,6,6,5,5,4,4]],[\"status\",[\"teacher\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\"]],[\"_colormap\",[\"rgb(179, 196, 15)\",\"rgb(102, 188, 228)\",\"rgb(201, 235, 94)\",\"rgb(102, 188, 228)\",\"rgb(115, 68, 76)\",\"rgb(102, 188, 228)\",\"rgb(102, 188, 228)\",\"rgb(11, 136, 54)\",\"rgb(11, 136, 54)\",\"rgb(149, 201, 105)\",\"rgb(11, 136, 54)\",\"rgb(11, 136, 54)\",\"rgb(205, 23, 106)\",\"rgb(11, 136, 54)\",\"rgb(115, 68, 76)\",\"rgb(115, 68, 76)\",\"rgb(88, 94, 32)\",\"rgb(205, 23, 106)\",\"rgb(69, 26, 103)\",\"rgb(205, 23, 106)\",\"rgb(11, 136, 54)\",\"rgb(111, 196, 226)\",\"rgb(49, 50, 49)\",\"rgb(205, 23, 106)\",\"rgb(102, 188, 228)\",\"rgb(102, 188, 228)\",\"rgb(205, 23, 106)\",\"rgb(205, 23, 106)\",\"rgb(115, 68, 76)\",\"rgb(116, 232, 31)\",\"rgb(234, 108, 137)\",\"rgb(102, 188, 228)\",\"rgb(115, 68, 76)\",\"rgb(115, 68, 76)\",\"rgb(4, 141, 103)\",\"rgb(205, 23, 106)\",\"rgb(11, 136, 54)\",\"rgb(11, 136, 54)\",\"rgb(115, 68, 76)\",\"rgb(115, 68, 76)\",\"rgb(102, 188, 228)\",\"rgb(205, 23, 106)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p13004\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p13005\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p13000\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p13001\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p13002\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p12945\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p12968\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p12969\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p12970\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p12971\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p12972\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p12992\",\"attributes\":{\"renderers\":[{\"id\":\"p12989\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p13006\",\"attributes\":{\"renderers\":[{\"id\":\"p13003\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p12961\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p12962\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p12963\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p12964\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p12954\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p12955\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p12956\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p12957\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p12960\",\"attributes\":{\"axis\":{\"id\":\"p12954\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p12967\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p12961\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"eb58289b-5856-48a3-ae59-17c05a867afd\",\"roots\":{\"p12937\":\"f5c7029c-ae3f-4214-a30b-22c524c1d24d\"},\"root_ids\":[\"p12937\"],\"notebook_comms_target\":\"p13572\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p12937"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"grade\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8b10a8ab",
   "metadata": {
    "slideshow": {
     "slide_type": ""
    },
    "tags": []
   },
   "source": [
    "As the value returned by `location.weight()` refers to the weight between the agent and the location, all the weights between the agents and the locations must be somehow combined when determining the weight between agents (aka graph projection).\n",
    "The location method `project_weights()` defines how those weights are combined.\n",
    "By default, `project_weights()` returns the smallest weight of the two to be combined.\n",
    "The code cell below shows how `project_weights()` combines the two weights by default.\n",
    "In this example, we keep this way of combining the weights, but this method could be easily rewritten."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 81,
   "id": "5db18c54",
   "metadata": {
    "slideshow": {
     "slide_type": ""
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.friend_group\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return agent.hours\n",
    "\n",
    "    def project_weights(self, agent1, agent2) -> float:\n",
    "        return min([self.get_weight(agent1), self.get_weight(agent2)])"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "961bdcbe",
   "metadata": {},
   "source": [
    "Note that we use the method `location.get_weight()` to access the weight between the agent and the location."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 82,
   "id": "c57707a8",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"b49183c1-c8af-4b7d-afbc-2c7c7e292d81\" data-root-id=\"p13668\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"29a9896f-1411-444f-bd0f-c0832609254a\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p13668\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p13670\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p13669\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p13681\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p13683\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p13675\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p13720\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p13711\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p13712\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p13713\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.13561396305574222,-0.1587734524429222],[-0.13561396305574222,-0.15019180401384816],[-0.13561396305574222,-0.12561547842039186],[-0.3721712710389806,-0.3370648502400493],[-0.3721712710389806,-0.3559340705893847],[-0.3721712710389806,-0.3490252310256332],[0.264365494119651,0.257793647282046],[0.264365494119651,0.243106681403172],[0.264365494119651,0.283831559226645],[-0.27424150023863986,-0.27982327369038373],[-0.27424150023863986,-0.2604565631872371],[-0.27424150023863986,-0.29415268675170675],[0.022905640996021527,-0.0027496166091741147],[0.022905640996021527,0.013048168165040355],[0.022905640996021527,-0.01256449210418769],[0.5184965116532176,0.5035270258664588],[0.5184965116532176,0.5333640593065149],[0.5184965116532176,0.49657069862547626],[-0.0027496166091741147,0.013048168165040355],[-0.0027496166091741147,-0.01256449210418769],[0.27209195290984284,0.24822070030383322],[0.27209195290984284,0.2685778926921512],[0.27209195290984284,0.24185306614940275],[0.5333640593065149,0.5035270258664588],[0.5333640593065149,0.49657069862547626],[-0.01256449210418769,0.013048168165040355],[-0.3490252310256332,-0.3370648502400493],[-0.3490252310256332,-0.3559340705893847],[-0.2604565631872371,-0.27982327369038373],[-0.2604565631872371,-0.29415268675170675],[0.30766903005654084,0.282597938216244],[0.30766903005654084,0.3133564860395265],[0.30766903005654084,0.28300261442095814],[0.243106681403172,0.257793647282046],[0.243106681403172,0.283831559226645],[0.3133564860395265,0.282597938216244],[0.3133564860395265,0.28300261442095814],[-0.12561547842039186,-0.1587734524429222],[-0.12561547842039186,-0.15019180401384816],[0.28300261442095814,0.282597938216244],[0.49657069862547626,0.5035270258664588],[0.257793647282046,0.283831559226645],[0.24822070030383322,0.2685778926921512],[0.24822070030383322,0.24185306614940275],[-0.1587734524429222,-0.15019180401384816],[0.24185306614940275,0.2685778926921512],[-0.3370648502400493,-0.3559340705893847],[-0.27982327369038373,-0.29415268675170675]]],[\"ys\",[[-0.3423837025725047,-0.3532208727962344],[-0.3423837025725047,-0.37852561841346105],[-0.3423837025725047,-0.36556248305593175],[-0.07180857664937518,-0.06462265640690326],[-0.07180857664937518,-0.051431416642589885],[-0.07180857664937518,-0.08436795944332816],[-0.0013360973115631527,0.03636220363570545],[-0.0013360973115631527,0.014298114584400216],[-0.0013360973115631527,0.021492446051734882],[0.353675663504832,0.31982886683386386],[0.353675663504832,0.33458008140677986],[0.353675663504832,0.3395561522505303],[0.1947760580019398,0.18504812471570153],[0.1947760580019398,0.22171208000466552],[0.1947760580019398,0.21017565901890012],[0.33629155236630126,0.3726184025041575],[0.33629155236630126,0.3654751750230885],[0.33629155236630126,0.349212022055014],[0.18504812471570153,0.22171208000466552],[0.18504812471570153,0.21017565901890012],[-0.6166754838085625,-0.6151390748632516],[-0.6166754838085625,-0.6461512612699315],[-0.6166754838085625,-0.6371640751366017],[0.3654751750230885,0.3726184025041575],[0.3654751750230885,0.349212022055014],[0.21017565901890012,0.22171208000466552],[-0.08436795944332816,-0.06462265640690326],[-0.08436795944332816,-0.051431416642589885],[0.33458008140677986,0.31982886683386386],[0.33458008140677986,0.3395561522505303],[-0.28300722345375384,-0.28843051282989934],[-0.28300722345375384,-0.31205248307073585],[-0.28300722345375384,-0.3138592745574453],[0.014298114584400216,0.03636220363570545],[0.014298114584400216,0.021492446051734882],[-0.31205248307073585,-0.28843051282989934],[-0.31205248307073585,-0.3138592745574453],[-0.36556248305593175,-0.3532208727962344],[-0.36556248305593175,-0.37852561841346105],[-0.3138592745574453,-0.28843051282989934],[0.349212022055014,0.3726184025041575],[0.03636220363570545,0.021492446051734882],[-0.6151390748632516,-0.6461512612699315],[-0.6151390748632516,-0.6371640751366017],[-0.3532208727962344,-0.37852561841346105],[-0.6371640751366017,-0.6461512612699315],[-0.06462265640690326,-0.051431416642589885],[0.31982886683386386,0.3395561522505303]]],[\"_u\",[2,2,2,3,3,3,4,4,4,6,6,6,7,7,7,8,8,8,9,9,10,10,10,12,12,13,15,15,17,17,18,18,18,19,19,20,20,21,21,22,23,24,25,25,26,31,34,40]],[\"_v\",[26,36,21,34,35,15,24,19,29,40,17,41,9,37,13,42,12,23,37,13,25,38,31,42,23,37,34,35,40,41,33,20,22,24,29,33,22,26,36,33,42,29,38,31,36,38,35,41]],[\"weight\",[5,5,5,6,6,6,4,4,4,6,6,6,4,4,4,4,4,4,4,4,5,5,5,4,4,4,6,6,6,6,4,4,4,4,4,4,4,5,5,4,4,4,5,5,5,5,6,6]],[\"_edge_alpha\",[0.6666666666666666,0.6666666666666666,0.6666666666666666,1.0,1.0,1.0,0.3333333333333333,0.3333333333333333,0.3333333333333333,1.0,1.0,1.0,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.3333333333333333,0.3333333333333333,1.0,1.0,1.0,1.0,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p13721\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p13722\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p13717\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p13718\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p13719\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p13734\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p13725\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p13726\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p13727\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.9938272342343842,-0.13561396305574222,-0.3721712710389806,0.264365494119651,-0.8017627804896164,-0.27424150023863986,0.022905640996021527,0.5184965116532176,-0.0027496166091741147,0.27209195290984284,-0.49342943216783236,0.5333640593065149,-0.01256449210418769,0.26473078093630015,-0.3490252310256332,-0.4780580432230536,-0.2604565631872371,0.30766903005654084,0.243106681403172,0.3133564860395265,-0.12561547842039186,0.28300261442095814,0.49657069862547626,0.257793647282046,0.24822070030383322,-0.1587734524429222,-0.8126089872093529,0.39421199748334096,0.283831559226645,0.18548181431932004,0.24185306614940275,-0.9430084471750688,0.282597938216244,-0.3370648502400493,-0.3559340705893847,-0.15019180401384816,0.013048168165040355,0.2685778926921512,-0.5553850507328838,-0.27982327369038373,-0.29415268675170675,0.5035270258664588]],[\"ys\",[0.22684833103234242,-0.3423837025725047,-0.07180857664937518,-0.0013360973115631527,-0.5790383728811743,0.353675663504832,0.1947760580019398,0.33629155236630126,0.18504812471570153,-0.6166754838085625,0.923401150193126,0.3654751750230885,0.21017565901890012,-0.9274823596132491,-0.08436795944332816,-0.8571106065429982,0.33458008140677986,-0.28300722345375384,0.014298114584400216,-0.31205248307073585,-0.36556248305593175,-0.3138592745574453,0.349212022055014,0.03636220363570545,-0.6151390748632516,-0.3532208727962344,0.5381576125177779,0.7499830170396412,0.021492446051734882,1.0,-0.6371640751366017,-0.03625646837940838,-0.28843051282989934,-0.06462265640690326,-0.051431416642589885,-0.37852561841346105,0.22171208000466552,-0.6461512612699315,0.7321338669584017,0.31982886683386386,0.3395561522505303,0.3726184025041575]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[0,13,7,11,0,8,4,10,3,6,0,1,3,0,15,0,8,2,11,9,13,2,10,12,14,5,0,0,12,0,6,0,9,7,15,5,3,14,0,16,16,1]],[\"gender\",[\"w\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"m\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"m\",\"w\",\"w\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\"]],[\"grade\",[{\"type\":\"number\",\"value\":\"nan\"},3.0,4.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,2.0,1.0,2.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,1.0,2.0,1.0,3.0,1.0,1.0,2.0,3.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},2.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,4.0,4.0,3.0,2.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,4.0,1.0]],[\"hours\",[9,5,6,4,6,6,4,4,4,5,9,4,4,6,6,10,6,4,4,4,5,4,4,4,5,5,5,6,4,9,5,4,4,6,6,5,4,5,11,6,6,4]],[\"status\",[\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"social_worker\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"teacher\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\"]],[\"_colormap\",[\"rgb(182, 116, 165)\",\"rgb(221, 7, 86)\",\"rgb(116, 226, 202)\",\"rgb(13, 45, 1)\",\"rgb(97, 12, 151)\",\"rgb(116, 226, 202)\",\"rgb(13, 45, 1)\",\"rgb(151, 236, 245)\",\"rgb(13, 45, 1)\",\"rgb(221, 7, 86)\",\"rgb(240, 156, 247)\",\"rgb(151, 236, 245)\",\"rgb(13, 45, 1)\",\"rgb(167, 184, 165)\",\"rgb(116, 226, 202)\",\"rgb(157, 129, 36)\",\"rgb(116, 226, 202)\",\"rgb(151, 236, 245)\",\"rgb(13, 45, 1)\",\"rgb(151, 236, 245)\",\"rgb(221, 7, 86)\",\"rgb(151, 236, 245)\",\"rgb(151, 236, 245)\",\"rgb(13, 45, 1)\",\"rgb(221, 7, 86)\",\"rgb(221, 7, 86)\",\"rgb(15, 9, 161)\",\"rgb(44, 215, 96)\",\"rgb(13, 45, 1)\",\"rgb(127, 110, 178)\",\"rgb(221, 7, 86)\",\"rgb(16, 196, 184)\",\"rgb(151, 236, 245)\",\"rgb(116, 226, 202)\",\"rgb(116, 226, 202)\",\"rgb(221, 7, 86)\",\"rgb(13, 45, 1)\",\"rgb(221, 7, 86)\",\"rgb(207, 184, 210)\",\"rgb(116, 226, 202)\",\"rgb(116, 226, 202)\",\"rgb(151, 236, 245)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p13735\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p13736\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p13731\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p13732\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p13733\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p13676\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p13699\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p13700\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p13701\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p13702\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p13703\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p13723\",\"attributes\":{\"renderers\":[{\"id\":\"p13720\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p13737\",\"attributes\":{\"renderers\":[{\"id\":\"p13734\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p13692\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p13693\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p13694\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p13695\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p13685\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p13686\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p13687\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p13688\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p13691\",\"attributes\":{\"axis\":{\"id\":\"p13685\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p13698\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p13692\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"29a9896f-1411-444f-bd0f-c0832609254a\",\"roots\":{\"p13668\":\"b49183c1-c8af-4b7d-afbc-2c7c7e292d81\"},\"root_ids\":[\"p13668\"],\"notebook_comms_target\":\"p14322\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p13668"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])\n",
    "\n",
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"grade\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "eea7e92f",
   "metadata": {},
   "source": [
    "### Bringing together different agents\n",
    "\n",
    "So far, we are able to connect agents who share a certain attribut value.\n",
    "But what if we want to explicitly connect agents who have different values on a certain attribute?\n",
    "One solution could be to simply give those agents we want to be in the same location the same value on a certain attribute and then define a location class that brings together these agents.\n",
    "\n",
    "Another possibility is to *melt* different locations into one location.\n",
    "To do this, we have to define at least three location classes:  Two or more locations that are the components that get melted into one location and one location that melts those components together.\n",
    "Those locations that \n",
    "\n",
    "Assume we want to create classrooms that consist of one teacher and four pupils.\n",
    "To create such a location, we first define a `MeltLocation` (`TeachersInClassRoom`) that consists of only one teacher.\n",
    "Then we define a `MeltLocation` (`PupilsInClassRoom`) that consists of four pupils.\n",
    "Finally, we define a location (`ClassRoom`) that uses the method `melt()` to melt the two previously defined locations into one location.\n",
    "The method `melt()` must return a tuple or list of at least two location classes that shall be melted into one.\n",
    "\n",
    "[Hier hinzufügen, was alles von der Unterklasse und was von der Oberklasse übernommen wird]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 83,
   "id": "07f0f7ae",
   "metadata": {},
   "outputs": [],
   "source": [
    "# a location for teachers\n",
    "class TeachersInClassRoom(popy.MeltLocation):\n",
    "    n_agents = 1\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"teacher\"\n",
    "\n",
    "\n",
    "# a location for pupils\n",
    "class PupilsInClassRoom(popy.MeltLocation):\n",
    "    n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "\n",
    "# a location for teachers and pupils\n",
    "class ClassRoom(popy.MagicLocation):\n",
    "    def melt(self):\n",
    "        return TeachersInClassRoom, PupilsInClassRoom"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 84,
   "id": "33bc8ab3",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"f4973657-e6eb-43cf-87b8-3eaa0215ea2a\" data-root-id=\"p14418\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"a9022c28-8f46-431f-b9d1-a9bb55bde9cd\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p14418\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p14420\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p14419\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p14431\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p14433\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p14425\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p14470\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p14461\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p14462\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p14463\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.7454573687924707,0.801834005686053],[0.7454573687924707,0.7460660247605708],[0.7454573687924707,0.7556145111486688],[0.7454573687924707,0.7999924229358987],[-0.1800660321221572,-0.17287782184341702],[-0.1800660321221572,-0.21979850866634093],[-0.1800660321221572,-0.1924968222277012],[-0.1800660321221572,-0.1438236334866456],[-0.7699745885686531,-0.796100405691704],[-0.7699745885686531,-0.7557184836729658],[-0.7699745885686531,-0.8114931212569902],[-0.7699745885686531,-0.7379981220473977],[0.801834005686053,0.7460660247605708],[0.801834005686053,0.7556145111486688],[0.801834005686053,0.7999924229358987],[0.7460660247605708,0.7556145111486688],[0.7460660247605708,0.7999924229358987],[0.7556145111486688,0.7999924229358987],[-0.17287782184341702,-0.21979850866634093],[-0.17287782184341702,-0.1924968222277012],[-0.17287782184341702,-0.1438236334866456],[-0.21979850866634093,-0.1924968222277012],[-0.21979850866634093,-0.1438236334866456],[0.8899798249437629,0.888615574646493],[0.8899798249437629,0.8274508749414493],[0.8899798249437629,0.8453288881009939],[0.8899798249437629,0.8491716400748636],[-0.1924968222277012,-0.1438236334866456],[-0.796100405691704,-0.7557184836729658],[-0.796100405691704,-0.8114931212569902],[-0.796100405691704,-0.7379981220473977],[-0.7557184836729658,-0.8114931212569902],[-0.7557184836729658,-0.7379981220473977],[-0.8114931212569902,-0.7379981220473977],[-0.9121636996361908,-0.9161946529198894],[-0.9121636996361908,-0.872670866591625],[-0.9121636996361908,-0.8512096480347949],[-0.9121636996361908,-0.8688096880658694],[-0.872670866591625,-0.9161946529198894],[-0.872670866591625,-0.8512096480347949],[-0.872670866591625,-0.8688096880658694],[-0.8512096480347949,-0.9161946529198894],[-0.8512096480347949,-0.8688096880658694],[-0.8688096880658694,-0.9161946529198894],[0.007183756494786896,0.0470987809068359],[0.007183756494786896,0.009355793123928023],[0.007183756494786896,0.07405264463591152],[0.007183756494786896,0.050738061419950235],[0.009355793123928023,0.0470987809068359],[0.009355793123928023,0.07405264463591152],[0.009355793123928023,0.050738061419950235],[0.07405264463591152,0.0470987809068359],[0.07405264463591152,0.050738061419950235],[-0.08293088692751531,-0.12001945336213608],[-0.08293088692751531,-0.07937256167966164],[-0.08293088692751531,-0.04190156603628442],[-0.08293088692751531,-0.08163284423402438],[0.050738061419950235,0.0470987809068359],[0.888615574646493,0.8274508749414493],[0.888615574646493,0.8453288881009939],[0.888615574646493,0.8491716400748636],[0.8274508749414493,0.8453288881009939],[0.8274508749414493,0.8491716400748636],[0.8453288881009939,0.8491716400748636],[-0.008303523813826314,-0.03643639494612929],[-0.008303523813826314,0.024503606840508778],[-0.008303523813826314,0.006388147068655077],[-0.008303523813826314,-0.04589823053166006],[-0.03643639494612929,0.024503606840508778],[-0.03643639494612929,0.006388147068655077],[-0.03643639494612929,-0.04589823053166006],[0.024503606840508778,0.006388147068655077],[0.024503606840508778,-0.04589823053166006],[0.006388147068655077,-0.04589823053166006],[-0.12001945336213608,-0.07937256167966164],[-0.12001945336213608,-0.04190156603628442],[-0.12001945336213608,-0.08163284423402438],[-0.07937256167966164,-0.04190156603628442],[-0.07937256167966164,-0.08163284423402438],[-0.04190156603628442,-0.08163284423402438]]],[\"ys\",[[0.6237037082371959,0.5738324994426672],[0.6237037082371959,0.553822253869731],[0.6237037082371959,0.5891364809230624],[0.6237037082371959,0.6222895445340907],[0.8883106856005933,0.8456345949864525],[0.8883106856005933,0.8803281773613078],[0.8883106856005933,0.9303306900948818],[0.8883106856005933,0.9013637449900903],[0.5051255677996812,0.4436459250714975],[0.5051255677996812,0.43951450737309583],[0.5051255677996812,0.48778306516872666],[0.5051255677996812,0.47799405728442784],[0.5738324994426672,0.553822253869731],[0.5738324994426672,0.5891364809230624],[0.5738324994426672,0.6222895445340907],[0.553822253869731,0.5891364809230624],[0.553822253869731,0.6222895445340907],[0.5891364809230624,0.6222895445340907],[0.8456345949864525,0.8803281773613078],[0.8456345949864525,0.9303306900948818],[0.8456345949864525,0.9013637449900903],[0.8803281773613078,0.9303306900948818],[0.8803281773613078,0.9013637449900903],[-0.12769955175285774,-0.08465053520895958],[-0.12769955175285774,-0.10423587308227181],[-0.12769955175285774,-0.13956584610737643],[-0.12769955175285774,-0.06949869791049006],[0.9303306900948818,0.9013637449900903],[0.4436459250714975,0.43951450737309583],[0.4436459250714975,0.48778306516872666],[0.4436459250714975,0.47799405728442784],[0.43951450737309583,0.48778306516872666],[0.43951450737309583,0.47799405728442784],[0.48778306516872666,0.47799405728442784],[-0.26317323684036215,-0.3062862873406253],[-0.26317323684036215,-0.32053736819235135],[-0.26317323684036215,-0.2883636333913499],[-0.26317323684036215,-0.2509699378850397],[-0.32053736819235135,-0.3062862873406253],[-0.32053736819235135,-0.2883636333913499],[-0.32053736819235135,-0.2509699378850397],[-0.2883636333913499,-0.3062862873406253],[-0.2883636333913499,-0.2509699378850397],[-0.2509699378850397,-0.3062862873406253],[0.157530676865077,0.1730806666067118],[0.157530676865077,0.11549514276695205],[0.157530676865077,0.13983952722546936],[0.157530676865077,0.10459736068155817],[0.11549514276695205,0.1730806666067118],[0.11549514276695205,0.13983952722546936],[0.11549514276695205,0.10459736068155817],[0.13983952722546936,0.1730806666067118],[0.13983952722546936,0.10459736068155817],[-1.0,-0.9538794675512912],[-1.0,-0.9613970163211648],[-1.0,-0.9504704291129233],[-1.0,-0.9118351014471108],[0.10459736068155817,0.1730806666067118],[-0.08465053520895958,-0.10423587308227181],[-0.08465053520895958,-0.13956584610737643],[-0.08465053520895958,-0.06949869791049006],[-0.10423587308227181,-0.13956584610737643],[-0.10423587308227181,-0.06949869791049006],[-0.13956584610737643,-0.06949869791049006],[-0.4143374701852198,-0.4747093736997292],[-0.4143374701852198,-0.43937628268625684],[-0.4143374701852198,-0.47816746395091786],[-0.4143374701852198,-0.43155509614486126],[-0.4747093736997292,-0.43937628268625684],[-0.4747093736997292,-0.47816746395091786],[-0.4747093736997292,-0.43155509614486126],[-0.43937628268625684,-0.47816746395091786],[-0.43937628268625684,-0.43155509614486126],[-0.47816746395091786,-0.43155509614486126],[-0.9538794675512912,-0.9613970163211648],[-0.9538794675512912,-0.9504704291129233],[-0.9538794675512912,-0.9118351014471108],[-0.9613970163211648,-0.9504704291129233],[-0.9613970163211648,-0.9118351014471108],[-0.9504704291129233,-0.9118351014471108]]],[\"_u\",[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,5,5,6,8,8,8,9,9,10,10,10,10,11,14,14,14,15,15,16,18,18,18,18,19,19,19,20,20,21,22,22,22,22,23,23,23,24,24,25,25,25,25,26,27,27,27,28,28,29,31,31,31,31,32,32,32,33,33,34,35,35,35,36,36,38]],[\"_v\",[4,5,6,7,8,9,11,12,14,15,16,17,5,6,7,6,7,7,9,11,12,11,12,27,28,29,30,12,15,16,17,16,17,17,39,19,20,21,39,20,21,39,21,39,40,23,24,26,40,24,26,40,26,35,36,38,41,40,28,29,30,29,30,30,32,33,34,42,33,34,42,34,42,42,36,38,41,38,41,41]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p14471\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p14472\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p14467\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p14468\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p14469\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p14484\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p14475\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p14476\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p14477\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.7454573687924707,-0.1800660321221572,-0.7699745885686531,0.801834005686053,0.7460660247605708,0.7556145111486688,0.7999924229358987,-0.17287782184341702,-0.21979850866634093,0.8899798249437629,-0.1924968222277012,-0.1438236334866456,0.48555164909365106,-0.796100405691704,-0.7557184836729658,-0.8114931212569902,-0.7379981220473977,-0.9121636996361908,-0.872670866591625,-0.8512096480347949,-0.8688096880658694,0.007183756494786896,0.009355793123928023,0.07405264463591152,-0.08293088692751531,0.050738061419950235,0.888615574646493,0.8274508749414493,0.8453288881009939,0.8491716400748636,-0.008303523813826314,-0.03643639494612929,0.024503606840508778,0.006388147068655077,-0.12001945336213608,-0.07937256167966164,0.8435079807481258,-0.04190156603628442,-0.9161946529198894,0.0470987809068359,-0.08163284423402438,-0.04589823053166006]],[\"ys\",[0.6237037082371959,0.8883106856005933,0.5051255677996812,0.5738324994426672,0.553822253869731,0.5891364809230624,0.6222895445340907,0.8456345949864525,0.8803281773613078,-0.12769955175285774,0.9303306900948818,0.9013637449900903,-0.9353303051275405,0.4436459250714975,0.43951450737309583,0.48778306516872666,0.47799405728442784,-0.26317323684036215,-0.32053736819235135,-0.2883636333913499,-0.2509699378850397,0.157530676865077,0.11549514276695205,0.13983952722546936,-1.0,0.10459736068155817,-0.08465053520895958,-0.10423587308227181,-0.13956584610737643,-0.06949869791049006,-0.4143374701852198,-0.4747093736997292,-0.43937628268625684,-0.47816746395091786,-0.9538794675512912,-0.9613970163211648,-0.5473199029445711,-0.9504704291129233,-0.3062862873406253,0.1730806666067118,-0.9118351014471108,-0.43155509614486126]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[0,0,0,3,5,16,3,14,15,0,16,11,0,8,4,10,2,10,9,14,9,1,8,7,0,1,12,13,15,13,6,7,11,2,3,5,0,6,0,0,12,0]],[\"gender\",[\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\",\"w\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"m\",\"m\",\"m\",\"m\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"m\",\"m\"]],[\"grade\",[{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},2.0,3.0,4.0,2.0,3.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,2.0,1.0,1.0,1.0,1.0,3.0,1.0,1.0,4.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,2.0,3.0,4.0,3.0,3.0,4.0,2.0,1.0,2.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},2.0,{\"type\":\"number\",\"value\":\"nan\"}]],[\"hours\",[11,9,9,4,5,6,4,5,6,5,6,4,4,6,4,4,4,4,4,5,4,4,6,6,9,4,4,5,6,5,5,6,4,4,4,5,6,5,10,6,4,6]],[\"status\",[\"teacher\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"teacher\"]],[\"_colormap\",[\"rgb(55, 89, 121)\",\"rgb(55, 89, 121)\",\"rgb(55, 89, 121)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(55, 89, 121)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(130, 81, 156)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(55, 89, 121)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(60, 207, 165)\",\"rgb(130, 81, 156)\",\"rgb(60, 207, 165)\",\"rgb(55, 89, 121)\",\"rgb(55, 89, 121)\",\"rgb(60, 207, 165)\",\"rgb(55, 89, 121)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p14485\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p14486\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p14481\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p14482\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p14483\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p14426\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p14449\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p14450\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p14451\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p14452\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p14453\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p14473\",\"attributes\":{\"renderers\":[{\"id\":\"p14470\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p14487\",\"attributes\":{\"renderers\":[{\"id\":\"p14484\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p14442\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p14443\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p14444\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p14445\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p14435\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p14436\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p14437\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p14438\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p14441\",\"attributes\":{\"axis\":{\"id\":\"p14435\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p14448\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p14442\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"a9022c28-8f46-431f-b9d1-a9bb55bde9cd\",\"roots\":{\"p14418\":\"f4973657-e6eb-43cf-87b8-3eaa0215ea2a\"},\"root_ids\":[\"p14418\"],\"notebook_comms_target\":\"p15091\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p14418"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])\n",
    "\n",
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"status\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "691959e0",
   "metadata": {},
   "source": [
    "Now we bring back all other settings we made so far:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 85,
   "id": "f1fd3156",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"e310451c-1184-4509-996e-47090507af07\" data-root-id=\"p15187\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"d543d442-ef13-4af4-80b7-447b3c45ce95\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p15187\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p15189\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p15188\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p15200\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p15202\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p15194\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p15239\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p15230\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p15231\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p15232\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.22554773838930287,0.22177268378400322],[0.22554773838930287,0.2102259058096487],[0.22554773838930287,0.24620026475253481],[0.22554773838930287,0.245536896005724],[-0.4050808533076096,-0.4222383980758901],[-0.4050808533076096,-0.4236489760159372],[-0.4050808533076096,-0.4018145787537761],[-0.4050808533076096,-0.43704865958568956],[0.2102259058096487,0.22177268378400322],[0.2102259058096487,0.24620026475253481],[0.2102259058096487,0.245536896005724],[0.24620026475253481,0.22177268378400322],[0.24620026475253481,0.245536896005724],[0.20430274777667132,0.17526148385018467],[0.20430274777667132,0.182631958945565],[0.20430274777667132,0.1999383145586223],[0.20430274777667132,0.1642993825209432],[-0.11418241910230426,-0.14037029814641683],[-0.11418241910230426,-0.10327456772718165],[-0.11418241910230426,-0.12949814499398313],[0.2198050208021283,0.185726128652362],[0.2198050208021283,0.18541909939169487],[0.2198050208021283,0.2077937302787853],[0.2198050208021283,0.20764290799304488],[0.182631958945565,0.17526148385018467],[0.182631958945565,0.1999383145586223],[0.182631958945565,0.1642993825209432],[0.4710670964694902,0.4988326356155013],[0.4710670964694902,0.46710328290390324],[0.4710670964694902,0.48050225673379243],[0.4710670964694902,0.4958830614078726],[-0.14037029814641683,-0.10327456772718165],[-0.14037029814641683,-0.12949814499398313],[0.46710328290390324,0.4988326356155013],[0.46710328290390324,0.48050225673379243],[0.46710328290390324,0.4958830614078726],[0.2077937302787853,0.185726128652362],[0.2077937302787853,0.18541909939169487],[0.2077937302787853,0.20764290799304488],[0.1999383145586223,0.17526148385018467],[0.1999383145586223,0.1642993825209432],[-0.4236489760159372,-0.4222383980758901],[-0.4236489760159372,-0.4018145787537761],[-0.4236489760159372,-0.43704865958568956],[-0.055140642272474324,-0.07428408660327039],[-0.055140642272474324,-0.06081281452051766],[-0.055140642272474324,-0.09790965187718113],[-0.055140642272474324,-0.07842052530243787],[-0.055140642272474324,-0.09050639454474217],[-0.4897204959807477,-0.4905191311225542],[-0.4897204959807477,-0.45229226170063225],[-0.4897204959807477,-0.46706843168912865],[-0.4897204959807477,-0.46317792098825145],[-0.4018145787537761,-0.4222383980758901],[-0.4018145787537761,-0.43704865958568956],[0.1642993825209432,0.17526148385018467],[-0.09790965187718113,-0.07428408660327039],[-0.09790965187718113,-0.06081281452051766],[-0.09790965187718113,-0.07842052530243787],[-0.09790965187718113,-0.09050639454474217],[-0.45229226170063225,-0.4905191311225542],[-0.45229226170063225,-0.46706843168912865],[-0.45229226170063225,-0.46317792098825145],[-0.43704865958568956,-0.4222383980758901],[0.20764290799304488,0.185726128652362],[0.20764290799304488,0.18541909939169487],[-0.07842052530243787,-0.07428408660327039],[-0.07842052530243787,-0.06081281452051766],[-0.07842052530243787,-0.09050639454474217],[-0.09050639454474217,-0.07428408660327039],[-0.09050639454474217,-0.06081281452051766],[-0.46706843168912865,-0.4905191311225542],[-0.46706843168912865,-0.46317792098825145],[-0.10327456772718165,-0.12949814499398313],[0.48050225673379243,0.4988326356155013],[0.48050225673379243,0.4958830614078726],[-0.46317792098825145,-0.4905191311225542],[0.4958830614078726,0.4988326356155013],[0.185726128652362,0.18541909939169487],[-0.07428408660327039,-0.06081281452051766],[0.22177268378400322,0.245536896005724]]],[\"ys\",[[0.18387818301334616,0.2203542597563859],[0.18387818301334616,0.20104556308277413],[0.18387818301334616,0.19286573177138225],[0.18387818301334616,0.2166345913379434],[0.27216931175228803,0.24021132561845662],[0.27216931175228803,0.2728435068036796],[0.27216931175228803,0.24895582760349638],[0.27216931175228803,0.25662495058168805],[0.20104556308277413,0.2203542597563859],[0.20104556308277413,0.19286573177138225],[0.20104556308277413,0.2166345913379434],[0.19286573177138225,0.2203542597563859],[0.19286573177138225,0.2166345913379434],[-0.17622074093732154,-0.20473769369581657],[-0.17622074093732154,-0.1665589398543269],[-0.17622074093732154,-0.20139911576975766],[-0.17622074093732154,-0.18287258987790345],[-0.5655337139353532,-0.5786996714418371],[-0.5655337139353532,-0.5939719216959315],[-0.5655337139353532,-0.607457649075958],[0.6019870774370478,0.5902522498453644],[0.6019870774370478,0.6118975566006329],[0.6019870774370478,0.5837675070266247],[0.6019870774370478,0.6247283033436591],[-0.1665589398543269,-0.20473769369581657],[-0.1665589398543269,-0.20139911576975766],[-0.1665589398543269,-0.18287258987790345],[-0.2626981215603809,-0.2400801269863095],[-0.2626981215603809,-0.24374356407464143],[-0.2626981215603809,-0.22812075968787454],[-0.2626981215603809,-0.2621459626201444],[-0.5786996714418371,-0.5939719216959315],[-0.5786996714418371,-0.607457649075958],[-0.24374356407464143,-0.2400801269863095],[-0.24374356407464143,-0.22812075968787454],[-0.24374356407464143,-0.2621459626201444],[0.5837675070266247,0.5902522498453644],[0.5837675070266247,0.6118975566006329],[0.5837675070266247,0.6247283033436591],[-0.20139911576975766,-0.20473769369581657],[-0.20139911576975766,-0.18287258987790345],[0.2728435068036796,0.24021132561845662],[0.2728435068036796,0.24895582760349638],[0.2728435068036796,0.25662495058168805],[0.10306889304281332,0.09123054032287752],[0.10306889304281332,0.07427831005022058],[0.10306889304281332,0.09960217779536072],[0.10306889304281332,0.11603421502551645],[0.10306889304281332,0.07479332115964546],[-0.27456426116858584,-0.3003902760450775],[-0.27456426116858584,-0.28373934950050483],[-0.27456426116858584,-0.2643304522940498],[-0.27456426116858584,-0.30387045671891133],[0.24895582760349638,0.24021132561845662],[0.24895582760349638,0.25662495058168805],[-0.18287258987790345,-0.20473769369581657],[0.09960217779536072,0.09123054032287752],[0.09960217779536072,0.07427831005022058],[0.09960217779536072,0.11603421502551645],[0.09960217779536072,0.07479332115964546],[-0.28373934950050483,-0.3003902760450775],[-0.28373934950050483,-0.2643304522940498],[-0.28373934950050483,-0.30387045671891133],[0.25662495058168805,0.24021132561845662],[0.6247283033436591,0.5902522498453644],[0.6247283033436591,0.6118975566006329],[0.11603421502551645,0.09123054032287752],[0.11603421502551645,0.07427831005022058],[0.11603421502551645,0.07479332115964546],[0.07479332115964546,0.09123054032287752],[0.07479332115964546,0.07427831005022058],[-0.2643304522940498,-0.3003902760450775],[-0.2643304522940498,-0.30387045671891133],[-0.5939719216959315,-0.607457649075958],[-0.22812075968787454,-0.2400801269863095],[-0.22812075968787454,-0.2621459626201444],[-0.30387045671891133,-0.3003902760450775],[-0.2621459626201444,-0.2400801269863095],[0.5902522498453644,0.6118975566006329],[0.09123054032287752,0.07427831005022058],[0.2203542597563859,0.2166345913379434]]],[\"_u\",[1,1,1,1,3,3,3,3,4,4,4,5,5,6,6,6,6,7,7,7,8,8,8,8,9,9,9,10,10,10,10,11,11,12,12,12,13,13,13,14,14,15,15,15,16,16,16,16,16,17,17,17,17,18,18,19,20,20,20,20,21,21,21,22,23,23,24,24,24,25,25,27,27,28,29,29,30,31,32,33,34]],[\"_v\",[34,4,5,39,42,15,18,22,34,5,39,34,39,36,9,14,19,11,28,37,32,41,13,23,36,14,19,40,12,29,31,28,37,40,29,31,32,41,23,36,19,42,18,22,33,35,20,24,25,38,21,27,30,42,22,36,33,35,24,25,38,27,30,42,32,41,33,35,25,33,35,38,30,37,40,31,38,40,41,35,39]],[\"weight\",[5,5,5,5,6,6,6,6,5,5,5,5,5,4,4,4,4,4,4,4,5,5,5,5,4,4,4,6,6,6,6,4,4,6,6,6,5,5,5,4,4,6,6,6,4,4,4,4,4,4,4,4,4,6,6,4,4,4,4,4,4,4,4,6,5,5,4,4,4,4,4,4,4,4,6,6,4,6,5,4,5]],[\"_edge_alpha\",[0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,1.0,1.0,1.0,1.0,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.3333333333333333,0.3333333333333333,1.0,1.0,1.0,1.0,0.3333333333333333,0.3333333333333333,1.0,1.0,1.0,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.3333333333333333,1.0,1.0,1.0,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,1.0,1.0,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,1.0,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,1.0,1.0,0.3333333333333333,1.0,0.6666666666666666,0.3333333333333333,0.6666666666666666]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p15240\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p15241\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p15236\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p15237\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p15238\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p15253\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p15244\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p15245\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p15246\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.22554773838930287,-0.9999999999999999,-0.4050808533076096,0.2102259058096487,0.24620026475253481,0.20430274777667132,-0.11418241910230426,0.2198050208021283,0.182631958945565,0.4710670964694902,-0.14037029814641683,0.46710328290390324,0.2077937302787853,0.1999383145586223,-0.4236489760159372,-0.055140642272474324,-0.4897204959807477,-0.4018145787537761,0.1642993825209432,-0.09790965187718113,-0.45229226170063225,-0.43704865958568956,0.20764290799304488,-0.07842052530243787,-0.09050639454474217,0.90151665566895,-0.46706843168912865,-0.10327456772718165,0.48050225673379243,-0.46317792098825145,0.4958830614078726,0.185726128652362,-0.07428408660327039,0.22177268378400322,-0.06081281452051766,0.17526148385018467,-0.12949814499398313,-0.4905191311225542,0.245536896005724,0.4988326356155013,0.18541909939169487,-0.4222383980758901]],[\"ys\",[0.18387818301334616,0.023156555593803568,0.27216931175228803,0.20104556308277413,0.19286573177138225,-0.17622074093732154,-0.5655337139353532,0.6019870774370478,-0.1665589398543269,-0.2626981215603809,-0.5786996714418371,-0.24374356407464143,0.5837675070266247,-0.20139911576975766,0.2728435068036796,0.10306889304281332,-0.27456426116858584,0.24895582760349638,-0.18287258987790345,0.09960217779536072,-0.28373934950050483,0.25662495058168805,0.6247283033436591,0.11603421502551645,0.07479332115964546,0.04075540837567747,-0.2643304522940498,-0.5939719216959315,-0.22812075968787454,-0.30387045671891133,-0.2621459626201444,0.5902522498453644,0.09123054032287752,0.2203542597563859,0.07427831005022058,-0.20473769369581657,-0.607457649075958,-0.3003902760450775,0.2166345913379434,-0.2400801269863095,0.6118975566006329,0.24021132561845662]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[13,0,7,5,0,10,3,14,9,0,3,16,14,0,7,11,0,15,9,4,2,15,6,11,0,0,1,0,16,1,8,6,12,13,12,10,3,2,5,8,0,0]],[\"gender\",[\"m\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"m\",\"w\",\"w\",\"w\",\"w\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"m\"]],[\"grade\",[3.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,2.0,3.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,4.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,1.0,2.0,1.0,4.0,3.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},1.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,1.0,4.0,3.0,2.0,3.0,2.0,1.0,2.0,1.0,3.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"}]],[\"hours\",[5,6,6,5,9,4,4,5,4,9,4,6,5,6,6,4,9,6,4,4,4,6,5,4,11,4,4,10,6,4,6,5,4,5,4,4,4,4,5,6,5,6]],[\"status\",[\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"social_worker\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\"]],[\"_colormap\",[\"rgb(185, 4, 87)\",\"rgb(30, 188, 247)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(127, 176, 227)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(127, 176, 227)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(127, 176, 227)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(127, 176, 227)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(127, 176, 227)\",\"rgb(30, 188, 247)\",\"rgb(185, 4, 87)\",\"rgb(127, 176, 227)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(185, 4, 87)\",\"rgb(127, 176, 227)\",\"rgb(127, 176, 227)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p15254\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p15255\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p15250\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p15251\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p15252\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p15195\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p15218\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p15219\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p15220\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p15221\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p15222\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p15242\",\"attributes\":{\"renderers\":[{\"id\":\"p15239\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p15256\",\"attributes\":{\"renderers\":[{\"id\":\"p15253\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p15211\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p15212\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p15213\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p15214\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p15204\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p15205\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p15206\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p15207\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p15210\",\"attributes\":{\"axis\":{\"id\":\"p15204\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p15217\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p15211\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"d543d442-ef13-4af4-80b7-447b3c45ce95\",\"roots\":{\"p15187\":\"e310451c-1184-4509-996e-47090507af07\"},\"root_ids\":[\"p15187\"],\"notebook_comms_target\":\"p15879\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p15187"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "class TeachersInClassRoom(popy.MeltLocation):\n",
    "    n_agents = 1\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"teacher\"\n",
    "\n",
    "\n",
    "class PupilsInClassRoom(popy.MeltLocation):\n",
    "    n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.friend_group\n",
    "\n",
    "\n",
    "class ClassRoom(popy.MagicLocation):\n",
    "    def melt(self):\n",
    "        return TeachersInClassRoom, PupilsInClassRoom\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return agent.hours\n",
    "\n",
    "    def project_weights(self, agent1, agent2) -> float:\n",
    "        return min([self.get_weight(agent1), self.get_weight(agent2)])\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])\n",
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"status\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 86,
   "id": "18efaa08",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"fc49e024-957f-40c0-bd4e-dfa1e604410e\" data-root-id=\"p15975\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"d53c01a0-ac40-413b-b5ea-ebb8f763c15c\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p15975\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p15977\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p15976\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p15988\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p15990\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p15982\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p16027\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p16018\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p16019\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p16020\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.3497605701937854,-0.3359706630081611],[-0.3497605701937854,-0.428038493348381],[-0.3497605701937854,-0.4030245506205076],[-0.3497605701937854,-0.48745602380587133],[0.5898543830436284,0.5194619377599907],[0.5898543830436284,0.5079358513128029],[0.5898543830436284,0.4336334205528676],[0.5898543830436284,0.5145301546465317],[-0.2373575407609062,-0.09119857890693893],[-0.2373575407609062,-0.1835621187299682],[-0.2373575407609062,-0.13874309576972108],[-0.2373575407609062,-0.1593089300058087],[-0.7211996863960336,-0.6175992063213938],[-0.7211996863960336,-0.6668463966815508],[-0.7211996863960336,-0.815307054509695],[-0.7211996863960336,-0.7889901345725879],[-0.09119857890693893,-0.1835621187299682],[-0.09119857890693893,-0.13874309576972108],[-0.09119857890693893,-0.1593089300058087],[-0.1835621187299682,-0.13874309576972108],[-0.1835621187299682,-0.1593089300058087],[0.13974414584261527,0.19553512444883245],[0.13974414584261527,0.08485033029997856],[0.13974414584261527,0.1496099290055717],[0.13974414584261527,0.22172884675776844],[-0.4030245506205076,-0.3359706630081611],[-0.4030245506205076,-0.428038493348381],[-0.4030245506205076,-0.48745602380587133],[0.19553512444883245,0.08485033029997856],[0.19553512444883245,0.1496099290055717],[0.19553512444883245,0.22172884675776844],[0.14892981612052975,0.2879085436625279],[0.14892981612052975,0.2004798929759606],[0.14892981612052975,0.21082090046277754],[0.14892981612052975,0.22108962119581899],[-0.13874309576972108,-0.1593089300058087],[0.4336334205528676,0.5194619377599907],[0.4336334205528676,0.5079358513128029],[0.4336334205528676,0.5145301546465317],[0.8070744901812215,0.943740863216819],[0.8070744901812215,0.877954626199802],[0.8070744901812215,1.0],[0.8070744901812215,0.9077721039701147],[0.5145301546465317,0.5194619377599907],[0.5145301546465317,0.5079358513128029],[0.08485033029997856,0.1496099290055717],[0.08485033029997856,0.22172884675776844],[0.1496099290055717,0.22172884675776844],[-0.6668463966815508,-0.6175992063213938],[-0.6668463966815508,-0.815307054509695],[-0.6668463966815508,-0.7889901345725879],[-0.815307054509695,-0.6175992063213938],[-0.815307054509695,-0.7889901345725879],[-0.8273661839663811,-0.7204642733313006],[-0.8273661839663811,-0.763639592820834],[-0.8273661839663811,-0.6258168902183832],[-0.8273661839663811,-0.7306058679813333],[-0.7889901345725879,-0.6175992063213938],[0.943740863216819,0.877954626199802],[0.943740863216819,1.0],[0.943740863216819,0.9077721039701147],[0.877954626199802,1.0],[0.877954626199802,0.9077721039701147],[-0.48745602380587133,-0.3359706630081611],[-0.48745602380587133,-0.428038493348381],[0.22108962119581899,0.2879085436625279],[0.22108962119581899,0.2004798929759606],[0.22108962119581899,0.21082090046277754],[1.0,0.9077721039701147],[-0.7306058679813333,-0.7204642733313006],[-0.7306058679813333,-0.763639592820834],[-0.7306058679813333,-0.6258168902183832],[0.5194619377599907,0.5079358513128029],[-0.7204642733313006,-0.763639592820834],[-0.7204642733313006,-0.6258168902183832],[-0.3359706630081611,-0.428038493348381],[-0.763639592820834,-0.6258168902183832],[0.2879085436625279,0.2004798929759606],[0.2879085436625279,0.21082090046277754],[0.2004798929759606,0.21082090046277754]]],[\"ys\",[[0.6729594904137723,0.8064366253046669],[0.6729594904137723,0.8712162122327466],[0.6729594904137723,0.7784282564611402],[0.6729594904137723,0.8204967860004312],[0.2893079244708083,0.3458866008127509],[0.2893079244708083,0.2643602632812327],[0.2893079244708083,0.2696653025062475],[0.2893079244708083,0.1871301730561657],[-0.8258408172877407,-0.8649246229106842],[-0.8258408172877407,-0.9191073471279413],[-0.8258408172877407,-0.7345394291033789],[-0.8258408172877407,-0.8259941781537188],[0.24559471714075676,0.2463248410103371],[0.24559471714075676,0.1811264000721884],[0.24559471714075676,0.23340038407526595],[0.24559471714075676,0.3087465115066864],[-0.8649246229106842,-0.9191073471279413],[-0.8649246229106842,-0.7345394291033789],[-0.8649246229106842,-0.8259941781537188],[-0.9191073471279413,-0.7345394291033789],[-0.9191073471279413,-0.8259941781537188],[-0.6952499453186408,-0.5529975922540118],[-0.6952499453186408,-0.56685438298271],[-0.6952499453186408,-0.613036232647783],[-0.6952499453186408,-0.671250440326711],[0.7784282564611402,0.8064366253046669],[0.7784282564611402,0.8712162122327466],[0.7784282564611402,0.8204967860004312],[-0.5529975922540118,-0.56685438298271],[-0.5529975922540118,-0.613036232647783],[-0.5529975922540118,-0.671250440326711],[0.7928344748796934,0.882111805422822],[0.7928344748796934,0.8952231764211702],[0.7928344748796934,0.7163925318296166],[0.7928344748796934,0.8168240501539944],[-0.7345394291033789,-0.8259941781537188],[0.2696653025062475,0.3458866008127509],[0.2696653025062475,0.2643602632812327],[0.2696653025062475,0.1871301730561657],[0.07867966800828684,0.14554134866398474],[0.07867966800828684,0.0004594988635305711],[0.07867966800828684,0.05851456333751975],[0.07867966800828684,0.07256191136623254],[0.1871301730561657,0.3458866008127509],[0.1871301730561657,0.2643602632812327],[-0.56685438298271,-0.613036232647783],[-0.56685438298271,-0.671250440326711],[-0.613036232647783,-0.671250440326711],[0.1811264000721884,0.2463248410103371],[0.1811264000721884,0.23340038407526595],[0.1811264000721884,0.3087465115066864],[0.23340038407526595,0.2463248410103371],[0.23340038407526595,0.3087465115066864],[-0.5015611607610324,-0.40442287777491154],[-0.5015611607610324,-0.5591657981902728],[-0.5015611607610324,-0.4409605426051757],[-0.5015611607610324,-0.479728949297872],[0.3087465115066864,0.2463248410103371],[0.14554134866398474,0.0004594988635305711],[0.14554134866398474,0.05851456333751975],[0.14554134866398474,0.07256191136623254],[0.0004594988635305711,0.05851456333751975],[0.0004594988635305711,0.07256191136623254],[0.8204967860004312,0.8064366253046669],[0.8204967860004312,0.8712162122327466],[0.8168240501539944,0.882111805422822],[0.8168240501539944,0.8952231764211702],[0.8168240501539944,0.7163925318296166],[0.05851456333751975,0.07256191136623254],[-0.479728949297872,-0.40442287777491154],[-0.479728949297872,-0.5591657981902728],[-0.479728949297872,-0.4409605426051757],[0.3458866008127509,0.2643602632812327],[-0.40442287777491154,-0.5591657981902728],[-0.40442287777491154,-0.4409605426051757],[0.8064366253046669,0.8712162122327466],[-0.5591657981902728,-0.4409605426051757],[0.882111805422822,0.8952231764211702],[0.882111805422822,0.7163925318296166],[0.8952231764211702,0.7163925318296166]]],[\"_u\",[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,6,6,7,7,7,7,8,8,8,9,9,9,10,10,10,10,11,12,12,12,13,13,13,13,14,14,15,15,16,17,17,17,18,18,19,19,19,19,20,23,23,23,24,24,27,27,28,28,28,29,31,31,31,32,33,33,34,37,38,38,41]],[\"_v\",[34,35,8,27,32,40,12,14,5,6,11,25,36,17,18,20,6,11,25,11,25,9,15,16,22,34,35,27,15,16,22,38,41,42,28,25,32,40,14,23,24,29,30,32,40,16,22,22,36,18,20,36,20,33,37,39,31,36,24,29,30,29,30,34,35,38,41,42,30,33,37,39,40,37,39,35,39,41,42,42]],[\"weight\",[0,0,1,0,0,1,0,0,0,0,0,1,1,1,1,1,0,0,1,0,1,0,0,1,0,1,1,1,0,1,0,0,0,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0]],[\"_edge_alpha\",[0.5,0.5,1.0,0.5,0.5,1.0,0.5,0.5,0.5,0.5,0.5,1.0,1.0,1.0,1.0,1.0,0.5,0.5,1.0,0.5,1.0,0.5,0.5,1.0,0.5,1.0,1.0,1.0,0.5,1.0,0.5,0.5,0.5,0.5,1.0,1.0,0.5,1.0,0.5,0.5,0.5,0.5,1.0,0.5,1.0,1.0,0.5,1.0,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,1.0,0.5,0.5,0.5,1.0,0.5,1.0,0.5,0.5,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.5,0.5,0.5,0.5,0.5,0.5,0.5]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p16028\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p16029\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p16024\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p16025\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p16026\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p16041\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p16032\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p16033\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p16034\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.3497605701937854,0.5898543830436284,-0.2373575407609062,-0.7211996863960336,-0.09119857890693893,-0.1835621187299682,0.13974414584261527,-0.4030245506205076,0.19553512444883245,0.14892981612052975,-0.13874309576972108,0.4336334205528676,0.8070744901812215,0.5145301546465317,0.08485033029997856,0.1496099290055717,-0.6668463966815508,-0.815307054509695,-0.8273661839663811,-0.7889901345725879,0.6111439710255596,0.22172884675776844,0.943740863216819,0.877954626199802,-0.1593089300058087,0.5184568992678235,-0.48745602380587133,0.22108962119581899,1.0,0.9077721039701147,-0.7306058679813333,0.5194619377599907,-0.7204642733313006,-0.3359706630081611,-0.428038493348381,-0.6175992063213938,-0.763639592820834,0.2879085436625279,-0.6258168902183832,0.5079358513128029,0.2004798929759606,0.21082090046277754]],[\"ys\",[0.6729594904137723,0.2893079244708083,-0.8258408172877407,0.24559471714075676,-0.8649246229106842,-0.9191073471279413,-0.6952499453186408,0.7784282564611402,-0.5529975922540118,0.7928344748796934,-0.7345394291033789,0.2696653025062475,0.07867966800828684,0.1871301730561657,-0.56685438298271,-0.613036232647783,0.1811264000721884,0.23340038407526595,-0.5015611607610324,0.3087465115066864,-0.7444410714585519,-0.671250440326711,0.14554134866398474,0.0004594988635305711,-0.8259941781537188,-0.5801481290909111,0.8204967860004312,0.8168240501539944,0.05851456333751975,0.07256191136623254,-0.479728949297872,0.3458866008127509,-0.40442287777491154,0.8064366253046669,0.8712162122327466,0.2463248410103371,-0.5591657981902728,0.882111805422822,-0.4409605426051757,0.2643602632812327,0.8952231764211702,0.7163925318296166]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[11,8,9,0,2,9,15,0,7,1,2,16,5,16,15,0,3,3,6,3,0,7,13,13,0,0,12,0,5,0,0,8,14,11,12,4,6,10,14,0,1,10]],[\"gender\",[\"m\",\"m\",\"w\",\"w\",\"m\",\"m\",\"m\",\"m\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"m\",\"m\",\"m\",\"w\",\"w\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\"]],[\"grade\",[2.0,4.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,1.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,1.0,1.0,4.0,3.0,4.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,2.0,3.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,3.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},2.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},4.0,3.0,2.0,2.0,2.0,3.0,1.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,1.0]],[\"hours\",[4,6,4,9,4,4,6,10,6,4,4,6,5,6,6,9,4,4,5,4,4,6,5,5,5,6,4,11,5,6,6,6,5,4,4,4,5,4,5,9,4,4]],[\"status\",[\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"social_worker\",\"pupil\",\"teacher\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\"]],[\"_colormap\",[\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(191, 28, 48)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(191, 28, 48)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(191, 28, 48)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(211, 229, 50)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(191, 28, 48)\",\"rgb(211, 229, 50)\",\"rgb(107, 200, 218)\",\"rgb(191, 28, 48)\",\"rgb(107, 200, 218)\",\"rgb(191, 28, 48)\",\"rgb(191, 28, 48)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\",\"rgb(191, 28, 48)\",\"rgb(107, 200, 218)\",\"rgb(107, 200, 218)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p16042\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p16043\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p16038\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p16039\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p16040\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p15983\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p16006\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p16007\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p16008\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p16009\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p16010\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p16030\",\"attributes\":{\"renderers\":[{\"id\":\"p16027\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p16044\",\"attributes\":{\"renderers\":[{\"id\":\"p16041\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p15999\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p16000\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p16001\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p16002\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p15992\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p15993\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p15994\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p15995\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p15998\",\"attributes\":{\"axis\":{\"id\":\"p15992\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p16005\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p15999\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"d53c01a0-ac40-413b-b5ea-ebb8f763c15c\",\"roots\":{\"p15975\":\"fc49e024-957f-40c0-bd4e-dfa1e604410e\"},\"root_ids\":[\"p15975\"],\"notebook_comms_target\":\"p16686\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p15975"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "class TeachersInClassRoom(popy.MeltLocation):\n",
    "    n_agents = 1\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"teacher\"\n",
    "\n",
    "\n",
    "class PupilsInClassRoom(popy.MeltLocation):\n",
    "    n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.friend_group\n",
    "\n",
    "\n",
    "class ClassRoom(popy.MagicLocation):\n",
    "    def melt(self):\n",
    "        return TeachersInClassRoom, PupilsInClassRoom\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return agent.hours\n",
    "\n",
    "    def project_weights(self, agent1, agent2) -> float:\n",
    "        statuses = [agent1.status, agent2.status]\n",
    "        if \"pupil\" in statuses and \"teacher\" in statuses:\n",
    "            return 1  # min([self.get_weight(agent1), self.get_weight(agent2)])\n",
    "        else:\n",
    "            return 0\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom])\n",
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"status\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f2f3e03b",
   "metadata": {},
   "source": [
    "### More than one location\n",
    "\n",
    "The melting of locations combines different locations into one location, but does not create multiple different location classes.\n",
    "If we want to generate multiple different location types, we have to simply feed more than one location class into the `Creator`.\n",
    "\n",
    "In the following, we introduce a `School` as a second type of location.\n",
    "Each school has about `20` members.\n",
    "(In order to keep the code clean, we skip the melting of locations temporarely.)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 87,
   "id": "5b94b567",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"e1d2aac5-07c7-4502-a094-6200dce63b7b\" data-root-id=\"p16782\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"09eca5e6-96c9-440c-b13c-8b7826dfcb08\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p16782\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p16784\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p16783\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p16795\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p16797\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p16789\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p16834\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p16825\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p16826\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p16827\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.9063314832598224,0.28846853898114466],[0.9063314832598224,0.5553777296866516],[0.9063314832598224,0.13129797373171911],[0.9063314832598224,0.8879637331994128],[0.9063314832598224,0.5205405982543512],[0.9063314832598224,0.6243973508764704],[0.9063314832598224,0.26919967210839213],[0.9063314832598224,0.6501047805378308],[0.9063314832598224,0.22727796590804386],[0.9063314832598224,0.5264382422211108],[0.9063314832598224,0.24819179467893004],[0.9063314832598224,0.9075482755507971],[0.9063314832598224,0.6369169806028191],[0.9063314832598224,0.5554990343358698],[0.9063314832598224,0.2823795904682756],[0.9063314832598224,0.30188556047735576],[0.9063314832598224,0.9186102429806621],[0.9063314832598224,1.0],[0.9063314832598224,0.5602354682919285],[0.9063314832598224,0.6807011948053878],[0.28846853898114466,0.5553777296866516],[0.28846853898114466,0.13129797373171911],[0.28846853898114466,0.8879637331994128],[0.28846853898114466,0.5205405982543512],[0.28846853898114466,0.6243973508764704],[0.28846853898114466,0.26919967210839213],[0.28846853898114466,0.6501047805378308],[0.28846853898114466,0.22727796590804386],[0.28846853898114466,0.5264382422211108],[0.28846853898114466,0.24819179467893004],[0.28846853898114466,0.9075482755507971],[0.28846853898114466,0.6369169806028191],[0.28846853898114466,0.5554990343358698],[0.28846853898114466,0.2823795904682756],[0.28846853898114466,0.30188556047735576],[0.28846853898114466,0.9186102429806621],[0.28846853898114466,1.0],[0.28846853898114466,0.5602354682919285],[0.28846853898114466,0.6807011948053878],[0.28846853898114466,-0.3979088669752077],[0.28846853898114466,-0.3673293760059626],[0.5553777296866516,0.13129797373171911],[0.5553777296866516,0.8879637331994128],[0.5553777296866516,0.5205405982543512],[0.5553777296866516,0.6243973508764704],[0.5553777296866516,0.26919967210839213],[0.5553777296866516,0.6501047805378308],[0.5553777296866516,0.22727796590804386],[0.5553777296866516,0.5264382422211108],[0.5553777296866516,0.24819179467893004],[0.5553777296866516,0.9075482755507971],[0.5553777296866516,0.6369169806028191],[0.5553777296866516,0.5554990343358698],[0.5553777296866516,0.2823795904682756],[0.5553777296866516,0.30188556047735576],[0.5553777296866516,0.9186102429806621],[0.5553777296866516,1.0],[0.5553777296866516,0.5602354682919285],[0.5553777296866516,0.6807011948053878],[0.5553777296866516,-0.14230450874189113],[0.13129797373171911,0.8879637331994128],[0.13129797373171911,0.5205405982543512],[0.13129797373171911,0.6243973508764704],[0.13129797373171911,0.26919967210839213],[0.13129797373171911,0.6501047805378308],[0.13129797373171911,0.22727796590804386],[0.13129797373171911,0.5264382422211108],[0.13129797373171911,0.24819179467893004],[0.13129797373171911,0.9075482755507971],[0.13129797373171911,0.6369169806028191],[0.13129797373171911,0.5554990343358698],[0.13129797373171911,0.2823795904682756],[0.13129797373171911,0.30188556047735576],[0.13129797373171911,0.9186102429806621],[0.13129797373171911,1.0],[0.13129797373171911,0.5602354682919285],[0.13129797373171911,0.6807011948053878],[0.13129797373171911,-0.6110991072841725],[0.13129797373171911,-0.5134206345697429],[0.13129797373171911,-0.5606106717920124],[0.8879637331994128,0.5205405982543512],[0.8879637331994128,0.6243973508764704],[0.8879637331994128,0.26919967210839213],[0.8879637331994128,0.6501047805378308],[0.8879637331994128,0.22727796590804386],[0.8879637331994128,0.5264382422211108],[0.8879637331994128,0.24819179467893004],[0.8879637331994128,0.9075482755507971],[0.8879637331994128,0.6369169806028191],[0.8879637331994128,0.5554990343358698],[0.8879637331994128,0.2823795904682756],[0.8879637331994128,0.30188556047735576],[0.8879637331994128,0.9186102429806621],[0.8879637331994128,1.0],[0.8879637331994128,0.5602354682919285],[0.8879637331994128,0.6807011948053878],[0.5205405982543512,0.6243973508764704],[0.5205405982543512,0.26919967210839213],[0.5205405982543512,0.6501047805378308],[0.5205405982543512,0.22727796590804386],[0.5205405982543512,0.5264382422211108],[0.5205405982543512,0.24819179467893004],[0.5205405982543512,0.9075482755507971],[0.5205405982543512,0.6369169806028191],[0.5205405982543512,0.5554990343358698],[0.5205405982543512,0.2823795904682756],[0.5205405982543512,0.30188556047735576],[0.5205405982543512,0.9186102429806621],[0.5205405982543512,1.0],[0.5205405982543512,0.5602354682919285],[0.5205405982543512,0.6807011948053878],[0.5205405982543512,-0.07791646807704868],[0.6243973508764704,0.26919967210839213],[0.6243973508764704,0.6501047805378308],[0.6243973508764704,0.22727796590804386],[0.6243973508764704,0.5264382422211108],[0.6243973508764704,0.24819179467893004],[0.6243973508764704,0.9075482755507971],[0.6243973508764704,0.6369169806028191],[0.6243973508764704,0.5554990343358698],[0.6243973508764704,0.2823795904682756],[0.6243973508764704,0.30188556047735576],[0.6243973508764704,0.9186102429806621],[0.6243973508764704,1.0],[0.6243973508764704,0.5602354682919285],[0.6243973508764704,0.6807011948053878],[0.6243973508764704,-0.07791646807704868],[0.26919967210839213,0.6501047805378308],[0.26919967210839213,0.22727796590804386],[0.26919967210839213,0.5264382422211108],[0.26919967210839213,0.24819179467893004],[0.26919967210839213,0.9075482755507971],[0.26919967210839213,0.6369169806028191],[0.26919967210839213,0.5554990343358698],[0.26919967210839213,0.2823795904682756],[0.26919967210839213,0.30188556047735576],[0.26919967210839213,0.9186102429806621],[0.26919967210839213,1.0],[0.26919967210839213,0.5602354682919285],[0.26919967210839213,0.6807011948053878],[0.26919967210839213,-0.3979088669752077],[0.26919967210839213,-0.3673293760059626],[0.6501047805378308,0.22727796590804386],[0.6501047805378308,0.5264382422211108],[0.6501047805378308,0.24819179467893004],[0.6501047805378308,0.9075482755507971],[0.6501047805378308,0.6369169806028191],[0.6501047805378308,0.5554990343358698],[0.6501047805378308,0.2823795904682756],[0.6501047805378308,0.30188556047735576],[0.6501047805378308,0.9186102429806621],[0.6501047805378308,1.0],[0.6501047805378308,0.5602354682919285],[0.6501047805378308,0.6807011948053878],[0.6501047805378308,-0.14230450874189113],[0.22727796590804386,0.5264382422211108],[0.22727796590804386,0.24819179467893004],[0.22727796590804386,0.9075482755507971],[0.22727796590804386,0.6369169806028191],[0.22727796590804386,0.5554990343358698],[0.22727796590804386,0.2823795904682756],[0.22727796590804386,0.30188556047735576],[0.22727796590804386,0.9186102429806621],[0.22727796590804386,1.0],[0.22727796590804386,0.5602354682919285],[0.22727796590804386,0.6807011948053878],[0.22727796590804386,-0.3756920828303333],[0.22727796590804386,-0.31884818455391783],[0.5264382422211108,0.24819179467893004],[0.5264382422211108,0.9075482755507971],[0.5264382422211108,0.6369169806028191],[0.5264382422211108,0.5554990343358698],[0.5264382422211108,0.2823795904682756],[0.5264382422211108,0.30188556047735576],[0.5264382422211108,0.9186102429806621],[0.5264382422211108,1.0],[0.5264382422211108,0.5602354682919285],[0.5264382422211108,0.6807011948053878],[0.5264382422211108,-0.14230450874189113],[0.24819179467893004,0.9075482755507971],[0.24819179467893004,0.6369169806028191],[0.24819179467893004,0.5554990343358698],[0.24819179467893004,0.2823795904682756],[0.24819179467893004,0.30188556047735576],[0.24819179467893004,0.9186102429806621],[0.24819179467893004,1.0],[0.24819179467893004,0.5602354682919285],[0.24819179467893004,0.6807011948053878],[0.24819179467893004,-0.3756920828303333],[0.24819179467893004,-0.31884818455391783],[0.9075482755507971,0.6369169806028191],[0.9075482755507971,0.5554990343358698],[0.9075482755507971,0.2823795904682756],[0.9075482755507971,0.30188556047735576],[0.9075482755507971,0.9186102429806621],[0.9075482755507971,1.0],[0.9075482755507971,0.5602354682919285],[0.9075482755507971,0.6807011948053878],[0.6369169806028191,0.5554990343358698],[0.6369169806028191,0.2823795904682756],[0.6369169806028191,0.30188556047735576],[0.6369169806028191,0.9186102429806621],[0.6369169806028191,1.0],[0.6369169806028191,0.5602354682919285],[0.6369169806028191,0.6807011948053878],[0.6369169806028191,-0.07791646807704868],[0.5554990343358698,0.2823795904682756],[0.5554990343358698,0.30188556047735576],[0.5554990343358698,0.9186102429806621],[0.5554990343358698,1.0],[0.5554990343358698,0.5602354682919285],[0.5554990343358698,0.6807011948053878],[0.5554990343358698,-0.12232701818141305],[0.2823795904682756,0.30188556047735576],[0.2823795904682756,0.9186102429806621],[0.2823795904682756,1.0],[0.2823795904682756,0.5602354682919285],[0.2823795904682756,0.6807011948053878],[0.2823795904682756,-0.29256919667416564],[0.2823795904682756,-0.2732676211524703],[0.30188556047735576,0.9186102429806621],[0.30188556047735576,1.0],[0.30188556047735576,0.5602354682919285],[0.30188556047735576,0.6807011948053878],[0.30188556047735576,-0.29256919667416564],[0.30188556047735576,-0.2732676211524703],[0.9186102429806621,1.0],[0.9186102429806621,0.5602354682919285],[0.9186102429806621,0.6807011948053878],[1.0,0.5602354682919285],[1.0,0.6807011948053878],[0.5602354682919285,0.6807011948053878],[0.5602354682919285,-0.12232701818141305],[0.6807011948053878,-0.12232701818141305],[-0.6110991072841725,-0.9902587462167254],[-0.6110991072841725,-0.7395857079662446],[-0.6110991072841725,-0.3979088669752077],[-0.6110991072841725,-0.822840637580369],[-0.6110991072841725,-0.29256919667416564],[-0.6110991072841725,-0.8019222298425304],[-0.6110991072841725,-0.9222162102778765],[-0.6110991072841725,-0.3756920828303333],[-0.6110991072841725,-0.9129450062209074],[-0.6110991072841725,-0.9159574870903211],[-0.6110991072841725,-0.07791646807704868],[-0.6110991072841725,-0.31884818455391783],[-0.6110991072841725,-0.14230450874189113],[-0.6110991072841725,-0.5134206345697429],[-0.6110991072841725,-0.5606106717920124],[-0.6110991072841725,-0.12232701818141305],[-0.6110991072841725,-0.2732676211524703],[-0.6110991072841725,-0.3673293760059626],[-0.6110991072841725,-0.7795719542938356],[-0.6110991072841725,-0.7407744946298224],[-0.9902587462167254,-0.7395857079662446],[-0.9902587462167254,-0.3979088669752077],[-0.9902587462167254,-0.822840637580369],[-0.9902587462167254,-0.29256919667416564],[-0.9902587462167254,-0.8019222298425304],[-0.9902587462167254,-0.9222162102778765],[-0.9902587462167254,-0.3756920828303333],[-0.9902587462167254,-0.9129450062209074],[-0.9902587462167254,-0.9159574870903211],[-0.9902587462167254,-0.07791646807704868],[-0.9902587462167254,-0.31884818455391783],[-0.9902587462167254,-0.14230450874189113],[-0.9902587462167254,-0.5134206345697429],[-0.9902587462167254,-0.5606106717920124],[-0.9902587462167254,-0.12232701818141305],[-0.9902587462167254,-0.2732676211524703],[-0.9902587462167254,-0.3673293760059626],[-0.9902587462167254,-0.7795719542938356],[-0.9902587462167254,-0.7407744946298224],[-0.7395857079662446,-0.3979088669752077],[-0.7395857079662446,-0.822840637580369],[-0.7395857079662446,-0.29256919667416564],[-0.7395857079662446,-0.8019222298425304],[-0.7395857079662446,-0.9222162102778765],[-0.7395857079662446,-0.3756920828303333],[-0.7395857079662446,-0.9129450062209074],[-0.7395857079662446,-0.9159574870903211],[-0.7395857079662446,-0.07791646807704868],[-0.7395857079662446,-0.31884818455391783],[-0.7395857079662446,-0.14230450874189113],[-0.7395857079662446,-0.5134206345697429],[-0.7395857079662446,-0.5606106717920124],[-0.7395857079662446,-0.12232701818141305],[-0.7395857079662446,-0.2732676211524703],[-0.7395857079662446,-0.3673293760059626],[-0.7395857079662446,-0.7795719542938356],[-0.7395857079662446,-0.7407744946298224],[-0.3979088669752077,-0.822840637580369],[-0.3979088669752077,-0.29256919667416564],[-0.3979088669752077,-0.8019222298425304],[-0.3979088669752077,-0.9222162102778765],[-0.3979088669752077,-0.3756920828303333],[-0.3979088669752077,-0.9129450062209074],[-0.3979088669752077,-0.9159574870903211],[-0.3979088669752077,-0.07791646807704868],[-0.3979088669752077,-0.31884818455391783],[-0.3979088669752077,-0.14230450874189113],[-0.3979088669752077,-0.5134206345697429],[-0.3979088669752077,-0.5606106717920124],[-0.3979088669752077,-0.12232701818141305],[-0.3979088669752077,-0.2732676211524703],[-0.3979088669752077,-0.3673293760059626],[-0.3979088669752077,-0.7795719542938356],[-0.3979088669752077,-0.7407744946298224],[-0.822840637580369,-0.29256919667416564],[-0.822840637580369,-0.8019222298425304],[-0.822840637580369,-0.9222162102778765],[-0.822840637580369,-0.3756920828303333],[-0.822840637580369,-0.9129450062209074],[-0.822840637580369,-0.9159574870903211],[-0.822840637580369,-0.07791646807704868],[-0.822840637580369,-0.31884818455391783],[-0.822840637580369,-0.14230450874189113],[-0.822840637580369,-0.5134206345697429],[-0.822840637580369,-0.5606106717920124],[-0.822840637580369,-0.12232701818141305],[-0.822840637580369,-0.2732676211524703],[-0.822840637580369,-0.3673293760059626],[-0.822840637580369,-0.7795719542938356],[-0.822840637580369,-0.7407744946298224],[-0.29256919667416564,-0.8019222298425304],[-0.29256919667416564,-0.9222162102778765],[-0.29256919667416564,-0.3756920828303333],[-0.29256919667416564,-0.9129450062209074],[-0.29256919667416564,-0.9159574870903211],[-0.29256919667416564,-0.07791646807704868],[-0.29256919667416564,-0.31884818455391783],[-0.29256919667416564,-0.14230450874189113],[-0.29256919667416564,-0.5134206345697429],[-0.29256919667416564,-0.5606106717920124],[-0.29256919667416564,-0.12232701818141305],[-0.29256919667416564,-0.2732676211524703],[-0.29256919667416564,-0.3673293760059626],[-0.29256919667416564,-0.7795719542938356],[-0.29256919667416564,-0.7407744946298224],[-0.8019222298425304,-0.9222162102778765],[-0.8019222298425304,-0.3756920828303333],[-0.8019222298425304,-0.9129450062209074],[-0.8019222298425304,-0.9159574870903211],[-0.8019222298425304,-0.07791646807704868],[-0.8019222298425304,-0.31884818455391783],[-0.8019222298425304,-0.14230450874189113],[-0.8019222298425304,-0.5134206345697429],[-0.8019222298425304,-0.5606106717920124],[-0.8019222298425304,-0.12232701818141305],[-0.8019222298425304,-0.2732676211524703],[-0.8019222298425304,-0.3673293760059626],[-0.8019222298425304,-0.7795719542938356],[-0.8019222298425304,-0.7407744946298224],[-0.9222162102778765,-0.3756920828303333],[-0.9222162102778765,-0.9129450062209074],[-0.9222162102778765,-0.9159574870903211],[-0.9222162102778765,-0.07791646807704868],[-0.9222162102778765,-0.31884818455391783],[-0.9222162102778765,-0.14230450874189113],[-0.9222162102778765,-0.5134206345697429],[-0.9222162102778765,-0.5606106717920124],[-0.9222162102778765,-0.12232701818141305],[-0.9222162102778765,-0.2732676211524703],[-0.9222162102778765,-0.3673293760059626],[-0.9222162102778765,-0.7795719542938356],[-0.9222162102778765,-0.7407744946298224],[-0.3756920828303333,-0.9129450062209074],[-0.3756920828303333,-0.9159574870903211],[-0.3756920828303333,-0.07791646807704868],[-0.3756920828303333,-0.31884818455391783],[-0.3756920828303333,-0.14230450874189113],[-0.3756920828303333,-0.5134206345697429],[-0.3756920828303333,-0.5606106717920124],[-0.3756920828303333,-0.12232701818141305],[-0.3756920828303333,-0.2732676211524703],[-0.3756920828303333,-0.3673293760059626],[-0.3756920828303333,-0.7795719542938356],[-0.3756920828303333,-0.7407744946298224],[-0.9129450062209074,-0.9159574870903211],[-0.9129450062209074,-0.07791646807704868],[-0.9129450062209074,-0.31884818455391783],[-0.9129450062209074,-0.14230450874189113],[-0.9129450062209074,-0.5134206345697429],[-0.9129450062209074,-0.5606106717920124],[-0.9129450062209074,-0.12232701818141305],[-0.9129450062209074,-0.2732676211524703],[-0.9129450062209074,-0.3673293760059626],[-0.9129450062209074,-0.7795719542938356],[-0.9129450062209074,-0.7407744946298224],[-0.9159574870903211,-0.07791646807704868],[-0.9159574870903211,-0.31884818455391783],[-0.9159574870903211,-0.14230450874189113],[-0.9159574870903211,-0.5134206345697429],[-0.9159574870903211,-0.5606106717920124],[-0.9159574870903211,-0.12232701818141305],[-0.9159574870903211,-0.2732676211524703],[-0.9159574870903211,-0.3673293760059626],[-0.9159574870903211,-0.7795719542938356],[-0.9159574870903211,-0.7407744946298224],[-0.07791646807704868,-0.31884818455391783],[-0.07791646807704868,-0.14230450874189113],[-0.07791646807704868,-0.5134206345697429],[-0.07791646807704868,-0.5606106717920124],[-0.07791646807704868,-0.12232701818141305],[-0.07791646807704868,-0.2732676211524703],[-0.07791646807704868,-0.3673293760059626],[-0.07791646807704868,-0.7795719542938356],[-0.07791646807704868,-0.7407744946298224],[-0.31884818455391783,-0.14230450874189113],[-0.31884818455391783,-0.5134206345697429],[-0.31884818455391783,-0.5606106717920124],[-0.31884818455391783,-0.12232701818141305],[-0.31884818455391783,-0.2732676211524703],[-0.31884818455391783,-0.3673293760059626],[-0.31884818455391783,-0.7795719542938356],[-0.31884818455391783,-0.7407744946298224],[-0.14230450874189113,-0.5134206345697429],[-0.14230450874189113,-0.5606106717920124],[-0.14230450874189113,-0.12232701818141305],[-0.14230450874189113,-0.2732676211524703],[-0.14230450874189113,-0.3673293760059626],[-0.14230450874189113,-0.7795719542938356],[-0.14230450874189113,-0.7407744946298224],[-0.5134206345697429,-0.5606106717920124],[-0.5134206345697429,-0.12232701818141305],[-0.5134206345697429,-0.2732676211524703],[-0.5134206345697429,-0.3673293760059626],[-0.5134206345697429,-0.7795719542938356],[-0.5134206345697429,-0.7407744946298224],[-0.5606106717920124,-0.12232701818141305],[-0.5606106717920124,-0.2732676211524703],[-0.5606106717920124,-0.3673293760059626],[-0.5606106717920124,-0.7795719542938356],[-0.5606106717920124,-0.7407744946298224],[-0.12232701818141305,-0.2732676211524703],[-0.12232701818141305,-0.3673293760059626],[-0.12232701818141305,-0.7795719542938356],[-0.12232701818141305,-0.7407744946298224],[-0.2732676211524703,-0.3673293760059626],[-0.2732676211524703,-0.7795719542938356],[-0.2732676211524703,-0.7407744946298224],[-0.3673293760059626,-0.7795719542938356],[-0.3673293760059626,-0.7407744946298224],[-0.7795719542938356,-0.7407744946298224]]],[\"ys\",[[0.15368696084150132,0.14041460206146683],[0.15368696084150132,0.26365648348018395],[0.15368696084150132,-0.1970296185174113],[0.15368696084150132,0.2968354924934312],[0.15368696084150132,0.009819668968851678],[0.15368696084150132,0.09824322627445342],[0.15368696084150132,0.04118214308213658],[0.15368696084150132,0.3504358591100609],[0.15368696084150132,0.2764682750006247],[0.15368696084150132,0.40741387469539647],[0.15368696084150132,0.3793549491242874],[0.15368696084150132,-0.057017763110575694],[0.15368696084150132,-0.05675723886301708],[0.15368696084150132,-0.23048872216894087],[0.15368696084150132,-0.16120173571704283],[0.15368696084150132,-0.2814611749905189],[0.15368696084150132,-0.20175459401805468],[0.15368696084150132,0.04479189506704844],[0.15368696084150132,-0.36943930628463506],[0.15368696084150132,-0.28414072732821954],[0.14041460206146683,0.26365648348018395],[0.14041460206146683,-0.1970296185174113],[0.14041460206146683,0.2968354924934312],[0.14041460206146683,0.009819668968851678],[0.14041460206146683,0.09824322627445342],[0.14041460206146683,0.04118214308213658],[0.14041460206146683,0.3504358591100609],[0.14041460206146683,0.2764682750006247],[0.14041460206146683,0.40741387469539647],[0.14041460206146683,0.3793549491242874],[0.14041460206146683,-0.057017763110575694],[0.14041460206146683,-0.05675723886301708],[0.14041460206146683,-0.23048872216894087],[0.14041460206146683,-0.16120173571704283],[0.14041460206146683,-0.2814611749905189],[0.14041460206146683,-0.20175459401805468],[0.14041460206146683,0.04479189506704844],[0.14041460206146683,-0.36943930628463506],[0.14041460206146683,-0.28414072732821954],[0.14041460206146683,0.13091637582612156],[0.14041460206146683,0.009195752993702714],[0.26365648348018395,-0.1970296185174113],[0.26365648348018395,0.2968354924934312],[0.26365648348018395,0.009819668968851678],[0.26365648348018395,0.09824322627445342],[0.26365648348018395,0.04118214308213658],[0.26365648348018395,0.3504358591100609],[0.26365648348018395,0.2764682750006247],[0.26365648348018395,0.40741387469539647],[0.26365648348018395,0.3793549491242874],[0.26365648348018395,-0.057017763110575694],[0.26365648348018395,-0.05675723886301708],[0.26365648348018395,-0.23048872216894087],[0.26365648348018395,-0.16120173571704283],[0.26365648348018395,-0.2814611749905189],[0.26365648348018395,-0.20175459401805468],[0.26365648348018395,0.04479189506704844],[0.26365648348018395,-0.36943930628463506],[0.26365648348018395,-0.28414072732821954],[0.26365648348018395,0.24937616339820332],[-0.1970296185174113,0.2968354924934312],[-0.1970296185174113,0.009819668968851678],[-0.1970296185174113,0.09824322627445342],[-0.1970296185174113,0.04118214308213658],[-0.1970296185174113,0.3504358591100609],[-0.1970296185174113,0.2764682750006247],[-0.1970296185174113,0.40741387469539647],[-0.1970296185174113,0.3793549491242874],[-0.1970296185174113,-0.057017763110575694],[-0.1970296185174113,-0.05675723886301708],[-0.1970296185174113,-0.23048872216894087],[-0.1970296185174113,-0.16120173571704283],[-0.1970296185174113,-0.2814611749905189],[-0.1970296185174113,-0.20175459401805468],[-0.1970296185174113,0.04479189506704844],[-0.1970296185174113,-0.36943930628463506],[-0.1970296185174113,-0.28414072732821954],[-0.1970296185174113,-0.29188483458843695],[-0.1970296185174113,-0.3697406492972862],[-0.1970296185174113,-0.15981017237255069],[0.2968354924934312,0.009819668968851678],[0.2968354924934312,0.09824322627445342],[0.2968354924934312,0.04118214308213658],[0.2968354924934312,0.3504358591100609],[0.2968354924934312,0.2764682750006247],[0.2968354924934312,0.40741387469539647],[0.2968354924934312,0.3793549491242874],[0.2968354924934312,-0.057017763110575694],[0.2968354924934312,-0.05675723886301708],[0.2968354924934312,-0.23048872216894087],[0.2968354924934312,-0.16120173571704283],[0.2968354924934312,-0.2814611749905189],[0.2968354924934312,-0.20175459401805468],[0.2968354924934312,0.04479189506704844],[0.2968354924934312,-0.36943930628463506],[0.2968354924934312,-0.28414072732821954],[0.009819668968851678,0.09824322627445342],[0.009819668968851678,0.04118214308213658],[0.009819668968851678,0.3504358591100609],[0.009819668968851678,0.2764682750006247],[0.009819668968851678,0.40741387469539647],[0.009819668968851678,0.3793549491242874],[0.009819668968851678,-0.057017763110575694],[0.009819668968851678,-0.05675723886301708],[0.009819668968851678,-0.23048872216894087],[0.009819668968851678,-0.16120173571704283],[0.009819668968851678,-0.2814611749905189],[0.009819668968851678,-0.20175459401805468],[0.009819668968851678,0.04479189506704844],[0.009819668968851678,-0.36943930628463506],[0.009819668968851678,-0.28414072732821954],[0.009819668968851678,-0.004384353529385264],[0.09824322627445342,0.04118214308213658],[0.09824322627445342,0.3504358591100609],[0.09824322627445342,0.2764682750006247],[0.09824322627445342,0.40741387469539647],[0.09824322627445342,0.3793549491242874],[0.09824322627445342,-0.057017763110575694],[0.09824322627445342,-0.05675723886301708],[0.09824322627445342,-0.23048872216894087],[0.09824322627445342,-0.16120173571704283],[0.09824322627445342,-0.2814611749905189],[0.09824322627445342,-0.20175459401805468],[0.09824322627445342,0.04479189506704844],[0.09824322627445342,-0.36943930628463506],[0.09824322627445342,-0.28414072732821954],[0.09824322627445342,-0.004384353529385264],[0.04118214308213658,0.3504358591100609],[0.04118214308213658,0.2764682750006247],[0.04118214308213658,0.40741387469539647],[0.04118214308213658,0.3793549491242874],[0.04118214308213658,-0.057017763110575694],[0.04118214308213658,-0.05675723886301708],[0.04118214308213658,-0.23048872216894087],[0.04118214308213658,-0.16120173571704283],[0.04118214308213658,-0.2814611749905189],[0.04118214308213658,-0.20175459401805468],[0.04118214308213658,0.04479189506704844],[0.04118214308213658,-0.36943930628463506],[0.04118214308213658,-0.28414072732821954],[0.04118214308213658,0.13091637582612156],[0.04118214308213658,0.009195752993702714],[0.3504358591100609,0.2764682750006247],[0.3504358591100609,0.40741387469539647],[0.3504358591100609,0.3793549491242874],[0.3504358591100609,-0.057017763110575694],[0.3504358591100609,-0.05675723886301708],[0.3504358591100609,-0.23048872216894087],[0.3504358591100609,-0.16120173571704283],[0.3504358591100609,-0.2814611749905189],[0.3504358591100609,-0.20175459401805468],[0.3504358591100609,0.04479189506704844],[0.3504358591100609,-0.36943930628463506],[0.3504358591100609,-0.28414072732821954],[0.3504358591100609,0.24937616339820332],[0.2764682750006247,0.40741387469539647],[0.2764682750006247,0.3793549491242874],[0.2764682750006247,-0.057017763110575694],[0.2764682750006247,-0.05675723886301708],[0.2764682750006247,-0.23048872216894087],[0.2764682750006247,-0.16120173571704283],[0.2764682750006247,-0.2814611749905189],[0.2764682750006247,-0.20175459401805468],[0.2764682750006247,0.04479189506704844],[0.2764682750006247,-0.36943930628463506],[0.2764682750006247,-0.28414072732821954],[0.2764682750006247,0.3432364216682054],[0.2764682750006247,0.26709643438585384],[0.40741387469539647,0.3793549491242874],[0.40741387469539647,-0.057017763110575694],[0.40741387469539647,-0.05675723886301708],[0.40741387469539647,-0.23048872216894087],[0.40741387469539647,-0.16120173571704283],[0.40741387469539647,-0.2814611749905189],[0.40741387469539647,-0.20175459401805468],[0.40741387469539647,0.04479189506704844],[0.40741387469539647,-0.36943930628463506],[0.40741387469539647,-0.28414072732821954],[0.40741387469539647,0.24937616339820332],[0.3793549491242874,-0.057017763110575694],[0.3793549491242874,-0.05675723886301708],[0.3793549491242874,-0.23048872216894087],[0.3793549491242874,-0.16120173571704283],[0.3793549491242874,-0.2814611749905189],[0.3793549491242874,-0.20175459401805468],[0.3793549491242874,0.04479189506704844],[0.3793549491242874,-0.36943930628463506],[0.3793549491242874,-0.28414072732821954],[0.3793549491242874,0.3432364216682054],[0.3793549491242874,0.26709643438585384],[-0.057017763110575694,-0.05675723886301708],[-0.057017763110575694,-0.23048872216894087],[-0.057017763110575694,-0.16120173571704283],[-0.057017763110575694,-0.2814611749905189],[-0.057017763110575694,-0.20175459401805468],[-0.057017763110575694,0.04479189506704844],[-0.057017763110575694,-0.36943930628463506],[-0.057017763110575694,-0.28414072732821954],[-0.05675723886301708,-0.23048872216894087],[-0.05675723886301708,-0.16120173571704283],[-0.05675723886301708,-0.2814611749905189],[-0.05675723886301708,-0.20175459401805468],[-0.05675723886301708,0.04479189506704844],[-0.05675723886301708,-0.36943930628463506],[-0.05675723886301708,-0.28414072732821954],[-0.05675723886301708,-0.004384353529385264],[-0.23048872216894087,-0.16120173571704283],[-0.23048872216894087,-0.2814611749905189],[-0.23048872216894087,-0.20175459401805468],[-0.23048872216894087,0.04479189506704844],[-0.23048872216894087,-0.36943930628463506],[-0.23048872216894087,-0.28414072732821954],[-0.23048872216894087,-0.2941367608125795],[-0.16120173571704283,-0.2814611749905189],[-0.16120173571704283,-0.20175459401805468],[-0.16120173571704283,0.04479189506704844],[-0.16120173571704283,-0.36943930628463506],[-0.16120173571704283,-0.28414072732821954],[-0.16120173571704283,-0.3021256104618272],[-0.16120173571704283,-0.17679520926344758],[-0.2814611749905189,-0.20175459401805468],[-0.2814611749905189,0.04479189506704844],[-0.2814611749905189,-0.36943930628463506],[-0.2814611749905189,-0.28414072732821954],[-0.2814611749905189,-0.3021256104618272],[-0.2814611749905189,-0.17679520926344758],[-0.20175459401805468,0.04479189506704844],[-0.20175459401805468,-0.36943930628463506],[-0.20175459401805468,-0.28414072732821954],[0.04479189506704844,-0.36943930628463506],[0.04479189506704844,-0.28414072732821954],[-0.36943930628463506,-0.28414072732821954],[-0.36943930628463506,-0.2941367608125795],[-0.28414072732821954,-0.2941367608125795],[-0.29188483458843695,-0.08930383060882438],[-0.29188483458843695,0.3200523214128078],[-0.29188483458843695,0.13091637582612156],[-0.29188483458843695,-0.10180195665050215],[-0.29188483458843695,-0.3021256104618272],[-0.29188483458843695,-0.35464382865855043],[-0.29188483458843695,0.05465411041007557],[-0.29188483458843695,0.3432364216682054],[-0.29188483458843695,-0.2448797088266345],[-0.29188483458843695,0.22940601566136412],[-0.29188483458843695,-0.004384353529385264],[-0.29188483458843695,0.26709643438585384],[-0.29188483458843695,0.24937616339820332],[-0.29188483458843695,-0.3697406492972862],[-0.29188483458843695,-0.15981017237255069],[-0.29188483458843695,-0.2941367608125795],[-0.29188483458843695,-0.17679520926344758],[-0.29188483458843695,0.009195752993702714],[-0.29188483458843695,0.14389490109293818],[-0.29188483458843695,0.018665869019730514],[-0.08930383060882438,0.3200523214128078],[-0.08930383060882438,0.13091637582612156],[-0.08930383060882438,-0.10180195665050215],[-0.08930383060882438,-0.3021256104618272],[-0.08930383060882438,-0.35464382865855043],[-0.08930383060882438,0.05465411041007557],[-0.08930383060882438,0.3432364216682054],[-0.08930383060882438,-0.2448797088266345],[-0.08930383060882438,0.22940601566136412],[-0.08930383060882438,-0.004384353529385264],[-0.08930383060882438,0.26709643438585384],[-0.08930383060882438,0.24937616339820332],[-0.08930383060882438,-0.3697406492972862],[-0.08930383060882438,-0.15981017237255069],[-0.08930383060882438,-0.2941367608125795],[-0.08930383060882438,-0.17679520926344758],[-0.08930383060882438,0.009195752993702714],[-0.08930383060882438,0.14389490109293818],[-0.08930383060882438,0.018665869019730514],[0.3200523214128078,0.13091637582612156],[0.3200523214128078,-0.10180195665050215],[0.3200523214128078,-0.3021256104618272],[0.3200523214128078,-0.35464382865855043],[0.3200523214128078,0.05465411041007557],[0.3200523214128078,0.3432364216682054],[0.3200523214128078,-0.2448797088266345],[0.3200523214128078,0.22940601566136412],[0.3200523214128078,-0.004384353529385264],[0.3200523214128078,0.26709643438585384],[0.3200523214128078,0.24937616339820332],[0.3200523214128078,-0.3697406492972862],[0.3200523214128078,-0.15981017237255069],[0.3200523214128078,-0.2941367608125795],[0.3200523214128078,-0.17679520926344758],[0.3200523214128078,0.009195752993702714],[0.3200523214128078,0.14389490109293818],[0.3200523214128078,0.018665869019730514],[0.13091637582612156,-0.10180195665050215],[0.13091637582612156,-0.3021256104618272],[0.13091637582612156,-0.35464382865855043],[0.13091637582612156,0.05465411041007557],[0.13091637582612156,0.3432364216682054],[0.13091637582612156,-0.2448797088266345],[0.13091637582612156,0.22940601566136412],[0.13091637582612156,-0.004384353529385264],[0.13091637582612156,0.26709643438585384],[0.13091637582612156,0.24937616339820332],[0.13091637582612156,-0.3697406492972862],[0.13091637582612156,-0.15981017237255069],[0.13091637582612156,-0.2941367608125795],[0.13091637582612156,-0.17679520926344758],[0.13091637582612156,0.009195752993702714],[0.13091637582612156,0.14389490109293818],[0.13091637582612156,0.018665869019730514],[-0.10180195665050215,-0.3021256104618272],[-0.10180195665050215,-0.35464382865855043],[-0.10180195665050215,0.05465411041007557],[-0.10180195665050215,0.3432364216682054],[-0.10180195665050215,-0.2448797088266345],[-0.10180195665050215,0.22940601566136412],[-0.10180195665050215,-0.004384353529385264],[-0.10180195665050215,0.26709643438585384],[-0.10180195665050215,0.24937616339820332],[-0.10180195665050215,-0.3697406492972862],[-0.10180195665050215,-0.15981017237255069],[-0.10180195665050215,-0.2941367608125795],[-0.10180195665050215,-0.17679520926344758],[-0.10180195665050215,0.009195752993702714],[-0.10180195665050215,0.14389490109293818],[-0.10180195665050215,0.018665869019730514],[-0.3021256104618272,-0.35464382865855043],[-0.3021256104618272,0.05465411041007557],[-0.3021256104618272,0.3432364216682054],[-0.3021256104618272,-0.2448797088266345],[-0.3021256104618272,0.22940601566136412],[-0.3021256104618272,-0.004384353529385264],[-0.3021256104618272,0.26709643438585384],[-0.3021256104618272,0.24937616339820332],[-0.3021256104618272,-0.3697406492972862],[-0.3021256104618272,-0.15981017237255069],[-0.3021256104618272,-0.2941367608125795],[-0.3021256104618272,-0.17679520926344758],[-0.3021256104618272,0.009195752993702714],[-0.3021256104618272,0.14389490109293818],[-0.3021256104618272,0.018665869019730514],[-0.35464382865855043,0.05465411041007557],[-0.35464382865855043,0.3432364216682054],[-0.35464382865855043,-0.2448797088266345],[-0.35464382865855043,0.22940601566136412],[-0.35464382865855043,-0.004384353529385264],[-0.35464382865855043,0.26709643438585384],[-0.35464382865855043,0.24937616339820332],[-0.35464382865855043,-0.3697406492972862],[-0.35464382865855043,-0.15981017237255069],[-0.35464382865855043,-0.2941367608125795],[-0.35464382865855043,-0.17679520926344758],[-0.35464382865855043,0.009195752993702714],[-0.35464382865855043,0.14389490109293818],[-0.35464382865855043,0.018665869019730514],[0.05465411041007557,0.3432364216682054],[0.05465411041007557,-0.2448797088266345],[0.05465411041007557,0.22940601566136412],[0.05465411041007557,-0.004384353529385264],[0.05465411041007557,0.26709643438585384],[0.05465411041007557,0.24937616339820332],[0.05465411041007557,-0.3697406492972862],[0.05465411041007557,-0.15981017237255069],[0.05465411041007557,-0.2941367608125795],[0.05465411041007557,-0.17679520926344758],[0.05465411041007557,0.009195752993702714],[0.05465411041007557,0.14389490109293818],[0.05465411041007557,0.018665869019730514],[0.3432364216682054,-0.2448797088266345],[0.3432364216682054,0.22940601566136412],[0.3432364216682054,-0.004384353529385264],[0.3432364216682054,0.26709643438585384],[0.3432364216682054,0.24937616339820332],[0.3432364216682054,-0.3697406492972862],[0.3432364216682054,-0.15981017237255069],[0.3432364216682054,-0.2941367608125795],[0.3432364216682054,-0.17679520926344758],[0.3432364216682054,0.009195752993702714],[0.3432364216682054,0.14389490109293818],[0.3432364216682054,0.018665869019730514],[-0.2448797088266345,0.22940601566136412],[-0.2448797088266345,-0.004384353529385264],[-0.2448797088266345,0.26709643438585384],[-0.2448797088266345,0.24937616339820332],[-0.2448797088266345,-0.3697406492972862],[-0.2448797088266345,-0.15981017237255069],[-0.2448797088266345,-0.2941367608125795],[-0.2448797088266345,-0.17679520926344758],[-0.2448797088266345,0.009195752993702714],[-0.2448797088266345,0.14389490109293818],[-0.2448797088266345,0.018665869019730514],[0.22940601566136412,-0.004384353529385264],[0.22940601566136412,0.26709643438585384],[0.22940601566136412,0.24937616339820332],[0.22940601566136412,-0.3697406492972862],[0.22940601566136412,-0.15981017237255069],[0.22940601566136412,-0.2941367608125795],[0.22940601566136412,-0.17679520926344758],[0.22940601566136412,0.009195752993702714],[0.22940601566136412,0.14389490109293818],[0.22940601566136412,0.018665869019730514],[-0.004384353529385264,0.26709643438585384],[-0.004384353529385264,0.24937616339820332],[-0.004384353529385264,-0.3697406492972862],[-0.004384353529385264,-0.15981017237255069],[-0.004384353529385264,-0.2941367608125795],[-0.004384353529385264,-0.17679520926344758],[-0.004384353529385264,0.009195752993702714],[-0.004384353529385264,0.14389490109293818],[-0.004384353529385264,0.018665869019730514],[0.26709643438585384,0.24937616339820332],[0.26709643438585384,-0.3697406492972862],[0.26709643438585384,-0.15981017237255069],[0.26709643438585384,-0.2941367608125795],[0.26709643438585384,-0.17679520926344758],[0.26709643438585384,0.009195752993702714],[0.26709643438585384,0.14389490109293818],[0.26709643438585384,0.018665869019730514],[0.24937616339820332,-0.3697406492972862],[0.24937616339820332,-0.15981017237255069],[0.24937616339820332,-0.2941367608125795],[0.24937616339820332,-0.17679520926344758],[0.24937616339820332,0.009195752993702714],[0.24937616339820332,0.14389490109293818],[0.24937616339820332,0.018665869019730514],[-0.3697406492972862,-0.15981017237255069],[-0.3697406492972862,-0.2941367608125795],[-0.3697406492972862,-0.17679520926344758],[-0.3697406492972862,0.009195752993702714],[-0.3697406492972862,0.14389490109293818],[-0.3697406492972862,0.018665869019730514],[-0.15981017237255069,-0.2941367608125795],[-0.15981017237255069,-0.17679520926344758],[-0.15981017237255069,0.009195752993702714],[-0.15981017237255069,0.14389490109293818],[-0.15981017237255069,0.018665869019730514],[-0.2941367608125795,-0.17679520926344758],[-0.2941367608125795,0.009195752993702714],[-0.2941367608125795,0.14389490109293818],[-0.2941367608125795,0.018665869019730514],[-0.17679520926344758,0.009195752993702714],[-0.17679520926344758,0.14389490109293818],[-0.17679520926344758,0.018665869019730514],[0.009195752993702714,0.14389490109293818],[0.009195752993702714,0.018665869019730514],[0.14389490109293818,0.018665869019730514]]],[\"_u\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,16,16,16,16,16,16,16,17,17,17,17,17,17,18,18,18,19,19,20,20,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,30,30,30,30,30,30,30,30,30,30,30,30,31,31,31,31,31,31,31,31,31,31,31,32,32,32,32,32,32,32,32,32,32,33,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,35,35,35,35,35,35,35,36,36,36,36,36,36,37,37,37,37,37,38,38,38,38,39,39,39,40,40,41]],[\"_v\",[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,25,40,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,35,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,36,37,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,33,8,9,10,11,12,13,14,15,16,17,18,19,20,21,33,9,10,11,12,13,14,15,16,17,18,19,20,21,25,40,10,11,12,13,14,15,16,17,18,19,20,21,35,11,12,13,14,15,16,17,18,19,20,21,30,34,12,13,14,15,16,17,18,19,20,21,35,13,14,15,16,17,18,19,20,21,30,34,14,15,16,17,18,19,20,21,15,16,17,18,19,20,21,33,16,17,18,19,20,21,38,17,18,19,20,21,27,39,18,19,20,21,27,39,19,20,21,20,21,21,38,38,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,29,30,31,32,33,34,35,36,37,38,39,40,41,42,30,31,32,33,34,35,36,37,38,39,40,41,42,31,32,33,34,35,36,37,38,39,40,41,42,32,33,34,35,36,37,38,39,40,41,42,33,34,35,36,37,38,39,40,41,42,34,35,36,37,38,39,40,41,42,35,36,37,38,39,40,41,42,36,37,38,39,40,41,42,37,38,39,40,41,42,38,39,40,41,42,39,40,41,42,40,41,42,41,42,42]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,1,1,1,1,1,5,1,5,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,1,1,1,1,1,1,6,1,1,1,1,1,1,1,5,1,1,1,1,1,1,6,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,1,5,1,1,1,1,1,1,1,1,1,1,4,1,7,1,1,1,1,1,1,1,1,1,6,6,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,5,5,4,7,1,1,1,1,6,6,1,1,1,1,6,6,1,1,1,1,1,5,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,6,1,1,1,1,1,1,1,1,1,1,1,6,6,1,1,1,1,1,1,1,1,1,1,1,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,6,1,1,1,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6]],[\"_edge_alpha\",[0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.4,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.4,0.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.4,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.2,1.0,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.6000000000000001,0.6000000000000001,0.4,1.0,0.2,0.2,0.2,0.2,0.8,0.8,0.2,0.2,0.2,0.2,0.8,0.8,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.4,0.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,1.0,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.8,0.2,0.2,0.2,1.0,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p16835\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p16836\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p16831\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p16832\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p16833\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p16848\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p16839\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p16840\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p16841\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.9063314832598224,0.28846853898114466,0.5553777296866516,0.13129797373171911,0.8879637331994128,0.5205405982543512,0.6243973508764704,0.26919967210839213,0.6501047805378308,0.22727796590804386,0.5264382422211108,0.24819179467893004,0.9075482755507971,0.6369169806028191,0.5554990343358698,0.2823795904682756,0.30188556047735576,0.9186102429806621,1.0,0.5602354682919285,0.6807011948053878,-0.6110991072841725,-0.9902587462167254,-0.7395857079662446,-0.3979088669752077,-0.822840637580369,-0.29256919667416564,-0.8019222298425304,-0.9222162102778765,-0.3756920828303333,-0.9129450062209074,-0.9159574870903211,-0.07791646807704868,-0.31884818455391783,-0.14230450874189113,-0.5134206345697429,-0.5606106717920124,-0.12232701818141305,-0.2732676211524703,-0.3673293760059626,-0.7795719542938356,-0.7407744946298224]],[\"ys\",[0.15368696084150132,0.14041460206146683,0.26365648348018395,-0.1970296185174113,0.2968354924934312,0.009819668968851678,0.09824322627445342,0.04118214308213658,0.3504358591100609,0.2764682750006247,0.40741387469539647,0.3793549491242874,-0.057017763110575694,-0.05675723886301708,-0.23048872216894087,-0.16120173571704283,-0.2814611749905189,-0.20175459401805468,0.04479189506704844,-0.36943930628463506,-0.28414072732821954,-0.29188483458843695,-0.08930383060882438,0.3200523214128078,0.13091637582612156,-0.10180195665050215,-0.3021256104618272,-0.35464382865855043,0.05465411041007557,0.3432364216682054,-0.2448797088266345,0.22940601566136412,-0.004384353529385264,0.26709643438585384,0.24937616339820332,-0.3697406492972862,-0.15981017237255069,-0.2941367608125795,-0.17679520926344758,0.009195752993702714,0.14389490109293818,0.018665869019730514]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[0,10,2,11,0,5,13,9,1,15,2,7,0,5,3,8,16,0,0,3,3,11,0,0,9,14,16,0,14,15,0,0,13,7,1,12,12,4,8,10,6,6]],[\"gender\",[\"w\",\"m\",\"m\",\"m\",\"w\",\"m\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\",\"m\",\"w\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"m\",\"w\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\"]],[\"grade\",[{\"type\":\"number\",\"value\":\"nan\"},1.0,1.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,3.0,1.0,1.0,4.0,1.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,2.0,4.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},2.0,2.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},1.0,3.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},3.0,4.0,1.0,2.0,2.0,2.0,4.0,1.0,3.0,3.0]],[\"hours\",[9,4,4,4,5,5,5,4,4,6,4,6,9,5,4,6,6,6,10,4,4,4,6,9,4,5,6,11,5,6,4,6,5,6,4,4,4,4,6,4,5,5]],[\"status\",[\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"social_worker\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\"]],[\"_colormap\",[\"rgb(72, 30, 62)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(72, 30, 62)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(72, 30, 62)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(76, 199, 208)\",\"rgb(72, 30, 62)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(72, 30, 62)\",\"rgb(72, 30, 62)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(72, 30, 62)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(76, 199, 208)\",\"rgb(72, 30, 62)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\",\"rgb(155, 223, 108)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p16849\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p16850\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p16845\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p16846\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p16847\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p16790\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p16813\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p16814\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p16815\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p16816\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p16817\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p16837\",\"attributes\":{\"renderers\":[{\"id\":\"p16834\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p16851\",\"attributes\":{\"renderers\":[{\"id\":\"p16848\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p16806\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p16807\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p16808\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p16809\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p16799\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p16800\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p16801\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p16802\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p16805\",\"attributes\":{\"axis\":{\"id\":\"p16799\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p16812\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p16806\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"09eca5e6-96c9-440c-b13c-8b7826dfcb08\",\"roots\":{\"p16782\":\"e1d2aac5-07c7-4502-a094-6200dce63b7b\"},\"root_ids\":[\"p16782\"],\"notebook_comms_target\":\"p17512\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p16782"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.friend_group\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return agent.hours\n",
    "\n",
    "    def project_weights(self, agent1, agent2) -> float:\n",
    "        return min([self.get_weight(agent1), self.get_weight(agent2)])\n",
    "\n",
    "\n",
    "class School(popy.MagicLocation):\n",
    "    n_locations = 2\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom, School])\n",
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"status\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 88,
   "id": "79700ac2",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"ea0a973a-a090-4de9-a9c2-e226d9a4de5f\" data-root-id=\"p17608\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"b8755d49-934b-47c6-b8d1-59b44eeb2f01\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p17608\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p17610\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p17609\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p17621\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p17623\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p17615\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p17660\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p17651\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p17652\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p17653\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.17759191379106323,-0.3379389775047866],[-0.5123640061805891,-0.36581514654797825],[-0.5123640061805891,-0.3379389775047866],[0.04434222742388364,0.18496962277408427],[0.04434222742388364,-0.3379389775047866],[0.4230586704135149,0.7055143842322449],[0.4230586704135149,-0.3379389775047866],[-0.8280834487453078,-0.3379389775047866],[-0.5455556080518648,-0.43471552696581994],[-0.5455556080518648,-0.3379389775047866],[-0.534427902121917,-0.43471552696581994],[-0.534427902121917,-0.3379389775047866],[-0.5644374476928152,-0.36581514654797825],[-0.5644374476928152,-0.3379389775047866],[0.03998507690153242,0.18496962277408427],[0.03998507690153242,-0.3379389775047866],[0.1561946958053483,0.29695901600153213],[0.1561946958053483,-0.3379389775047866],[-0.03755430030990879,0.18496962277408427],[-0.03755430030990879,-0.3379389775047866],[0.10499689960341647,0.29695901600153213],[0.10499689960341647,-0.3379389775047866],[-0.6452084215604366,-0.3379389775047866],[-0.4342591607329193,-0.43471552696581994],[-0.4342591607329193,-0.3379389775047866],[-0.7750984861985871,-0.7317579389319792],[-0.7750984861985871,-0.3379389775047866],[-0.0593377546392532,0.01951284700388629],[-0.0593377546392532,-0.3379389775047866],[-0.13777912143087237,0.01951284700388629],[-0.13777912143087237,-0.3379389775047866],[-0.750463519072457,-0.3379389775047866],[-0.511083295567735,-0.3379389775047866],[-0.7423402150989145,-0.7317579389319792],[-0.7423402150989145,-0.3379389775047866],[-0.8438616309182032,-0.7317579389319792],[-0.8438616309182032,-0.3379389775047866],[0.6898750330991302,0.7055143842322449],[0.6898750330991302,0.31628723768641853],[0.8430237404277849,0.31628723768641853],[0.7286817118282912,0.31628723768641853],[-0.13835713061129562,-0.36581514654797825],[-0.13835713061129562,0.31628723768641853],[0.4140163384241832,0.37545753892856065],[0.4140163384241832,0.31628723768641853],[0.1018599086046365,0.01951284700388629],[0.1018599086046365,0.31628723768641853],[0.11656440735119893,0.31628723768641853],[0.24962615082820466,0.37545753892856065],[0.24962615082820466,0.31628723768641853],[0.45444204647079395,0.29695901600153213],[0.45444204647079395,0.31628723768641853],[0.6142838501301622,0.31628723768641853],[0.7633906287809333,0.31628723768641853],[-0.23005712173388543,-0.43471552696581994],[-0.23005712173388543,0.31628723768641853],[0.4249470327404123,0.29695901600153213],[0.4249470327404123,0.31628723768641853],[0.33230280942717816,0.18496962277408427],[0.33230280942717816,0.31628723768641853],[0.81915135262042,0.7055143842322449],[0.81915135262042,0.31628723768641853],[0.7467418253503765,0.7055143842322449],[0.7467418253503765,0.31628723768641853],[-0.43545124810702024,-0.7317579389319792],[-0.43545124810702024,0.31628723768641853],[0.1756367418719206,0.01951284700388629],[0.1756367418719206,0.31628723768641853],[-0.18139503887360212,-0.36581514654797825],[-0.18139503887360212,0.31628723768641853],[0.48742426037771874,0.37545753892856065],[0.48742426037771874,0.31628723768641853],[0.3256883062814461,0.37545753892856065],[0.3256883062814461,0.31628723768641853]]],[\"ys\",[[0.9125567796977779,0.3752899167715544],[0.311319566394252,0.11135225648009447],[0.311319566394252,0.3752899167715544],[0.7189730133459614,0.6985149156265661],[0.7189730133459614,0.3752899167715544],[0.24353358189542507,0.0832645962180386],[0.24353358189542507,0.3752899167715544],[0.5724689029635194,0.3752899167715544],[-0.1446732932879227,-0.24880635566228063],[-0.1446732932879227,0.3752899167715544],[-0.05949031012934158,-0.24880635566228063],[-0.05949031012934158,0.3752899167715544],[0.23095289445012482,0.11135225648009447],[0.23095289445012482,0.3752899167715544],[0.8267127002311617,0.6985149156265661],[0.8267127002311617,0.3752899167715544],[0.040773815577985546,-0.12389551543446534],[0.040773815577985546,0.3752899167715544],[0.7655454149098898,0.6985149156265661],[0.7655454149098898,0.3752899167715544],[-0.033528640520580695,-0.12389551543446534],[-0.033528640520580695,0.3752899167715544],[0.8007512818394755,0.3752899167715544],[-0.07856239949417666,-0.24880635566228063],[-0.07856239949417666,0.3752899167715544],[0.07776930813666681,-0.1704676737021913],[0.07776930813666681,0.3752899167715544],[0.5426363384272987,0.3913572651309109],[0.5426363384272987,0.3752899167715544],[0.5001022850479601,0.3913572651309109],[0.5001022850479601,0.3752899167715544],[0.7016771947990557,0.3752899167715544],[0.8659228610702259,0.3752899167715544],[-0.006237884127198683,-0.1704676737021913],[-0.006237884127198683,0.3752899167715544],[0.015480995041712353,-0.1704676737021913],[0.015480995041712353,0.3752899167715544],[-0.05424490932692913,0.0832645962180386],[-0.05424490932692913,-0.35736978904796624],[-0.4696384612511797,-0.35736978904796624],[-0.5592016489327679,-0.35736978904796624],[-0.03252296922032239,0.11135225648009447],[-0.03252296922032239,-0.35736978904796624],[-0.8402156210879458,-1.0],[-0.8402156210879458,-0.35736978904796624],[0.19182484084467982,0.3913572651309109],[0.19182484084467982,-0.35736978904796624],[-0.7531964555749021,-0.35736978904796624],[-0.9260268922359706,-1.0],[-0.9260268922359706,-0.35736978904796624],[-0.18174346755134502,-0.12389551543446534],[-0.18174346755134502,-0.35736978904796624],[-0.720334371117478,-0.35736978904796624],[-0.7028610544534787,-0.35736978904796624],[-0.41033917884447296,-0.24880635566228063],[-0.41033917884447296,-0.35736978904796624],[-0.28053290497243877,-0.12389551543446534],[-0.28053290497243877,-0.35736978904796624],[0.4000285901608282,0.6985149156265661],[0.4000285901608282,-0.35736978904796624],[-0.07084770217686366,0.0832645962180386],[-0.07084770217686366,-0.35736978904796624],[-0.12731549697506603,0.0832645962180386],[-0.12731549697506603,-0.35736978904796624],[-0.37172584033752937,-0.1704676737021913],[-0.37172584033752937,-0.35736978904796624],[0.23559039048430194,0.3913572651309109],[0.23559039048430194,-0.35736978904796624],[-0.10935233379411605,0.11135225648009447],[-0.10935233379411605,-0.35736978904796624],[-0.9143113595274988,-1.0],[-0.9143113595274988,-0.35736978904796624],[-0.8669571767590354,-1.0],[-0.8669571767590354,-0.35736978904796624]]],[\"_u\",[1,2,2,3,3,4,4,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,14,14,15,15,16,16,17,17,18,19,20,20,21,21,22,22,23,24,25,25,26,26,27,27,28,29,29,30,30,31,32,33,33,34,34,35,35,36,36,37,37,38,38,39,39,40,40,41,41,42,42]],[\"_v\",[51,43,51,44,51,46,51,51,47,51,47,51,43,51,44,51,50,51,44,51,50,51,51,47,51,45,51,49,51,49,51,51,51,45,51,45,51,46,52,52,52,43,52,48,52,49,52,52,48,52,50,52,52,52,47,52,50,52,44,52,46,52,46,52,45,52,49,52,43,52,48,52,48,52]],[\"weight\",[1,4,1,4,1,4,1,1,5,1,5,1,4,1,4,1,6,1,4,1,6,1,1,5,1,4,1,6,1,6,1,1,1,4,1,4,1,4,1,1,1,4,1,5,1,6,1,1,5,1,6,1,1,1,5,1,6,1,4,1,4,1,4,1,4,1,6,1,4,1,5,1,5,1]],[\"_edge_alpha\",[0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.25,0.75,0.25,0.75,0.25,0.5,0.25,0.5,0.25,1.0,0.25,0.5,0.25,1.0,0.25,0.25,0.75,0.25,0.5,0.25,1.0,0.25,1.0,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.75,0.25,1.0,0.25,0.25,0.75,0.25,1.0,0.25,0.25,0.25,0.75,0.25,1.0,0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.5,0.25,1.0,0.25,0.5,0.25,0.75,0.25,0.75,0.25]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p17661\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p17662\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p17657\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p17658\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p17659\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p17674\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p17665\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p17666\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p17667\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.36581514654797825,0.18496962277408427,-0.7317579389319792,0.7055143842322449,-0.43471552696581994,0.37545753892856065,0.01951284700388629,0.29695901600153213,-0.3379389775047866,0.31628723768641853]],[\"ys\",[0.11135225648009447,0.6985149156265661,-0.1704676737021913,0.0832645962180386,-0.24880635566228063,-1.0,0.3913572651309109,-0.12389551543446534,0.3752899167715544,-0.35736978904796624]],[\"_node\",[43,44,45,46,47,48,49,50,51,52]],[\"bipartite\",[1,1,1,1,1,1,1,1,1,1]],[\"type\",[\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"School\",\"School\"]],[\"_colormap\",[\"rgb(235, 115, 4)\",\"rgb(235, 115, 4)\",\"rgb(235, 115, 4)\",\"rgb(235, 115, 4)\",\"rgb(235, 115, 4)\",\"rgb(235, 115, 4)\",\"rgb(235, 115, 4)\",\"rgb(235, 115, 4)\",\"rgb(67, 43, 205)\",\"rgb(67, 43, 205)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p17675\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p17676\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p17671\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p17672\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p17673\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p17686\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p17677\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p17678\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p17679\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.17759191379106323,-0.5123640061805891,0.04434222742388364,0.4230586704135149,-0.8280834487453078,-0.5455556080518648,-0.534427902121917,-0.5644374476928152,0.03998507690153242,0.1561946958053483,-0.03755430030990879,0.10499689960341647,-0.6452084215604366,-0.4342591607329193,-0.7750984861985871,-0.0593377546392532,-0.13777912143087237,-0.750463519072457,-0.511083295567735,-0.7423402150989145,-0.8438616309182032,0.6898750330991302,0.8430237404277849,0.7286817118282912,-0.13835713061129562,0.4140163384241832,0.1018599086046365,0.11656440735119893,0.24962615082820466,0.45444204647079395,0.6142838501301622,0.7633906287809333,-0.23005712173388543,0.4249470327404123,0.33230280942717816,0.81915135262042,0.7467418253503765,-0.43545124810702024,0.1756367418719206,-0.18139503887360212,0.48742426037771874,0.3256883062814461]],[\"ys\",[0.9125567796977779,0.311319566394252,0.7189730133459614,0.24353358189542507,0.5724689029635194,-0.1446732932879227,-0.05949031012934158,0.23095289445012482,0.8267127002311617,0.040773815577985546,0.7655454149098898,-0.033528640520580695,0.8007512818394755,-0.07856239949417666,0.07776930813666681,0.5426363384272987,0.5001022850479601,0.7016771947990557,0.8659228610702259,-0.006237884127198683,0.015480995041712353,-0.05424490932692913,-0.4696384612511797,-0.5592016489327679,-0.03252296922032239,-0.8402156210879458,0.19182484084467982,-0.7531964555749021,-0.9260268922359706,-0.18174346755134502,-0.720334371117478,-0.7028610544534787,-0.41033917884447296,-0.28053290497243877,0.4000285901608282,-0.07084770217686366,-0.12731549697506603,-0.37172584033752937,0.23559039048430194,-0.10935233379411605,-0.9143113595274988,-0.8669571767590354]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\",\"rgb(110, 130, 105)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p17687\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p17688\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p17683\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p17684\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p17685\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p17616\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p17639\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p17640\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p17641\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p17642\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p17643\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p17663\",\"attributes\":{\"renderers\":[{\"id\":\"p17660\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p17689\",\"attributes\":{\"renderers\":[{\"id\":\"p17674\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p17691\",\"attributes\":{\"renderers\":[{\"id\":\"p17686\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p17632\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p17633\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p17634\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p17635\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p17625\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p17626\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p17627\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p17628\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p17631\",\"attributes\":{\"axis\":{\"id\":\"p17625\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p17638\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p17632\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"b8755d49-934b-47c6-b8d1-59b44eeb2f01\",\"roots\":{\"p17608\":\"ea0a973a-a090-4de9-a9c2-e226d9a4de5f\"},\"root_ids\":[\"p17608\"],\"notebook_comms_target\":\"p18376\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p17608"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 89,
   "id": "829a4aa0",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"e0f04f10-8f74-4716-a2c2-6ff5d9ec607c\" data-root-id=\"p18497\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"4e93df85-abe9-422a-ab11-58c704ea5bc1\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p18497\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p18499\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p18498\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p18510\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p18512\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p18504\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p18549\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p18540\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p18541\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p18542\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.9485988504677338,0.509189080932809],[0.9485988504677338,0.4201485057520295],[0.9485988504677338,0.2027170785099571],[0.9485988504677338,1.0],[0.9485988504677338,0.5813891798436758],[0.9485988504677338,0.6661346754860231],[0.9485988504677338,0.4205436046248604],[0.9485988504677338,0.6173679272410241],[0.9485988504677338,0.18956692793026067],[0.9485988504677338,0.48276686548378495],[0.9485988504677338,0.15115201273420617],[0.9485988504677338,0.7786235775672412],[0.9485988504677338,0.7357630406051834],[0.9485988504677338,0.4376869468534856],[0.9485988504677338,0.15746432973906035],[0.9485988504677338,0.08853221502539267],[0.9485988504677338,0.9130354259530823],[0.9485988504677338,0.9940809559758583],[0.9485988504677338,0.6488867820751395],[0.9485988504677338,0.5463091072457464],[0.509189080932809,0.4201485057520295],[0.509189080932809,0.2027170785099571],[0.509189080932809,1.0],[0.509189080932809,0.5813891798436758],[0.509189080932809,0.6661346754860231],[0.509189080932809,0.4205436046248604],[0.509189080932809,0.6173679272410241],[0.509189080932809,0.18956692793026067],[0.509189080932809,0.48276686548378495],[0.509189080932809,0.15115201273420617],[0.509189080932809,0.7786235775672412],[0.509189080932809,0.7357630406051834],[0.509189080932809,0.4376869468534856],[0.509189080932809,0.15746432973906035],[0.509189080932809,0.08853221502539267],[0.509189080932809,0.9130354259530823],[0.509189080932809,0.9940809559758583],[0.509189080932809,0.6488867820751395],[0.509189080932809,0.5463091072457464],[0.509189080932809,-0.22811998036506737],[0.509189080932809,-0.17931490097192396],[0.4201485057520295,0.2027170785099571],[0.4201485057520295,1.0],[0.4201485057520295,0.5813891798436758],[0.4201485057520295,0.6661346754860231],[0.4201485057520295,0.4205436046248604],[0.4201485057520295,0.6173679272410241],[0.4201485057520295,0.18956692793026067],[0.4201485057520295,0.48276686548378495],[0.4201485057520295,0.15115201273420617],[0.4201485057520295,0.7786235775672412],[0.4201485057520295,0.7357630406051834],[0.4201485057520295,0.4376869468534856],[0.4201485057520295,0.15746432973906035],[0.4201485057520295,0.08853221502539267],[0.4201485057520295,0.9130354259530823],[0.4201485057520295,0.9940809559758583],[0.4201485057520295,0.6488867820751395],[0.4201485057520295,0.5463091072457464],[0.4201485057520295,-0.13739657166226996],[0.2027170785099571,1.0],[0.2027170785099571,0.5813891798436758],[0.2027170785099571,0.6661346754860231],[0.2027170785099571,0.4205436046248604],[0.2027170785099571,0.6173679272410241],[0.2027170785099571,0.18956692793026067],[0.2027170785099571,0.48276686548378495],[0.2027170785099571,0.15115201273420617],[0.2027170785099571,0.7786235775672412],[0.2027170785099571,0.7357630406051834],[0.2027170785099571,0.4376869468534856],[0.2027170785099571,0.15746432973906035],[0.2027170785099571,0.08853221502539267],[0.2027170785099571,0.9130354259530823],[0.2027170785099571,0.9940809559758583],[0.2027170785099571,0.6488867820751395],[0.2027170785099571,0.5463091072457464],[0.2027170785099571,-0.495769382719925],[0.2027170785099571,-0.40412653280868205],[0.2027170785099571,-0.475173741295484],[1.0,0.5813891798436758],[1.0,0.6661346754860231],[1.0,0.4205436046248604],[1.0,0.6173679272410241],[1.0,0.18956692793026067],[1.0,0.48276686548378495],[1.0,0.15115201273420617],[1.0,0.7786235775672412],[1.0,0.7357630406051834],[1.0,0.4376869468534856],[1.0,0.15746432973906035],[1.0,0.08853221502539267],[1.0,0.9130354259530823],[1.0,0.9940809559758583],[1.0,0.6488867820751395],[1.0,0.5463091072457464],[0.5813891798436758,0.6661346754860231],[0.5813891798436758,0.4205436046248604],[0.5813891798436758,0.6173679272410241],[0.5813891798436758,0.18956692793026067],[0.5813891798436758,0.48276686548378495],[0.5813891798436758,0.15115201273420617],[0.5813891798436758,0.7786235775672412],[0.5813891798436758,0.7357630406051834],[0.5813891798436758,0.4376869468534856],[0.5813891798436758,0.15746432973906035],[0.5813891798436758,0.08853221502539267],[0.5813891798436758,0.9130354259530823],[0.5813891798436758,0.9940809559758583],[0.5813891798436758,0.6488867820751395],[0.5813891798436758,0.5463091072457464],[0.5813891798436758,-0.017652418992829683],[0.6661346754860231,0.4205436046248604],[0.6661346754860231,0.6173679272410241],[0.6661346754860231,0.18956692793026067],[0.6661346754860231,0.48276686548378495],[0.6661346754860231,0.15115201273420617],[0.6661346754860231,0.7786235775672412],[0.6661346754860231,0.7357630406051834],[0.6661346754860231,0.4376869468534856],[0.6661346754860231,0.15746432973906035],[0.6661346754860231,0.08853221502539267],[0.6661346754860231,0.9130354259530823],[0.6661346754860231,0.9940809559758583],[0.6661346754860231,0.6488867820751395],[0.6661346754860231,0.5463091072457464],[0.6661346754860231,-0.017652418992829683],[0.4205436046248604,0.6173679272410241],[0.4205436046248604,0.18956692793026067],[0.4205436046248604,0.48276686548378495],[0.4205436046248604,0.15115201273420617],[0.4205436046248604,0.7786235775672412],[0.4205436046248604,0.7357630406051834],[0.4205436046248604,0.4376869468534856],[0.4205436046248604,0.15746432973906035],[0.4205436046248604,0.08853221502539267],[0.4205436046248604,0.9130354259530823],[0.4205436046248604,0.9940809559758583],[0.4205436046248604,0.6488867820751395],[0.4205436046248604,0.5463091072457464],[0.4205436046248604,-0.22811998036506737],[0.4205436046248604,-0.17931490097192396],[0.6173679272410241,0.18956692793026067],[0.6173679272410241,0.48276686548378495],[0.6173679272410241,0.15115201273420617],[0.6173679272410241,0.7786235775672412],[0.6173679272410241,0.7357630406051834],[0.6173679272410241,0.4376869468534856],[0.6173679272410241,0.15746432973906035],[0.6173679272410241,0.08853221502539267],[0.6173679272410241,0.9130354259530823],[0.6173679272410241,0.9940809559758583],[0.6173679272410241,0.6488867820751395],[0.6173679272410241,0.5463091072457464],[0.6173679272410241,-0.13739657166226996],[0.18956692793026067,0.48276686548378495],[0.18956692793026067,0.15115201273420617],[0.18956692793026067,0.7786235775672412],[0.18956692793026067,0.7357630406051834],[0.18956692793026067,0.4376869468534856],[0.18956692793026067,0.15746432973906035],[0.18956692793026067,0.08853221502539267],[0.18956692793026067,0.9130354259530823],[0.18956692793026067,0.9940809559758583],[0.18956692793026067,0.6488867820751395],[0.18956692793026067,0.5463091072457464],[0.18956692793026067,-0.4401808823117566],[0.18956692793026067,-0.3559447852943061],[0.48276686548378495,0.15115201273420617],[0.48276686548378495,0.7786235775672412],[0.48276686548378495,0.7357630406051834],[0.48276686548378495,0.4376869468534856],[0.48276686548378495,0.15746432973906035],[0.48276686548378495,0.08853221502539267],[0.48276686548378495,0.9130354259530823],[0.48276686548378495,0.9940809559758583],[0.48276686548378495,0.6488867820751395],[0.48276686548378495,0.5463091072457464],[0.48276686548378495,-0.13739657166226996],[0.15115201273420617,0.7786235775672412],[0.15115201273420617,0.7357630406051834],[0.15115201273420617,0.4376869468534856],[0.15115201273420617,0.15746432973906035],[0.15115201273420617,0.08853221502539267],[0.15115201273420617,0.9130354259530823],[0.15115201273420617,0.9940809559758583],[0.15115201273420617,0.6488867820751395],[0.15115201273420617,0.5463091072457464],[0.15115201273420617,-0.4401808823117566],[0.15115201273420617,-0.3559447852943061],[0.7786235775672412,0.7357630406051834],[0.7786235775672412,0.4376869468534856],[0.7786235775672412,0.15746432973906035],[0.7786235775672412,0.08853221502539267],[0.7786235775672412,0.9130354259530823],[0.7786235775672412,0.9940809559758583],[0.7786235775672412,0.6488867820751395],[0.7786235775672412,0.5463091072457464],[0.7357630406051834,0.4376869468534856],[0.7357630406051834,0.15746432973906035],[0.7357630406051834,0.08853221502539267],[0.7357630406051834,0.9130354259530823],[0.7357630406051834,0.9940809559758583],[0.7357630406051834,0.6488867820751395],[0.7357630406051834,0.5463091072457464],[0.7357630406051834,-0.017652418992829683],[0.4376869468534856,0.15746432973906035],[0.4376869468534856,0.08853221502539267],[0.4376869468534856,0.9130354259530823],[0.4376869468534856,0.9940809559758583],[0.4376869468534856,0.6488867820751395],[0.4376869468534856,0.5463091072457464],[0.4376869468534856,-0.16731840170996437],[0.15746432973906035,0.08853221502539267],[0.15746432973906035,0.9130354259530823],[0.15746432973906035,0.9940809559758583],[0.15746432973906035,0.6488867820751395],[0.15746432973906035,0.5463091072457464],[0.15746432973906035,-0.41735145176077226],[0.15746432973906035,-0.5035838318460881],[0.08853221502539267,0.9130354259530823],[0.08853221502539267,0.9940809559758583],[0.08853221502539267,0.6488867820751395],[0.08853221502539267,0.5463091072457464],[0.08853221502539267,-0.41735145176077226],[0.08853221502539267,-0.5035838318460881],[0.9130354259530823,0.9940809559758583],[0.9130354259530823,0.6488867820751395],[0.9130354259530823,0.5463091072457464],[0.9940809559758583,0.6488867820751395],[0.9940809559758583,0.5463091072457464],[0.6488867820751395,0.5463091072457464],[0.6488867820751395,-0.16731840170996437],[0.5463091072457464,-0.16731840170996437],[-0.495769382719925,-0.8588669679483394],[-0.495769382719925,-0.7188324909603548],[-0.495769382719925,-0.22811998036506737],[-0.495769382719925,-0.978650872281146],[-0.495769382719925,-0.41735145176077226],[-0.495769382719925,-0.9513291768256397],[-0.495769382719925,-0.8781546497109901],[-0.495769382719925,-0.4401808823117566],[-0.495769382719925,-0.7982277808101652],[-0.495769382719925,-0.6902653317438958],[-0.495769382719925,-0.017652418992829683],[-0.495769382719925,-0.3559447852943061],[-0.495769382719925,-0.13739657166226996],[-0.495769382719925,-0.40412653280868205],[-0.495769382719925,-0.475173741295484],[-0.495769382719925,-0.16731840170996437],[-0.495769382719925,-0.5035838318460881],[-0.495769382719925,-0.17931490097192396],[-0.495769382719925,-0.9705787194103165],[-0.495769382719925,-0.8231182186166354],[-0.8588669679483394,-0.7188324909603548],[-0.8588669679483394,-0.22811998036506737],[-0.8588669679483394,-0.978650872281146],[-0.8588669679483394,-0.41735145176077226],[-0.8588669679483394,-0.9513291768256397],[-0.8588669679483394,-0.8781546497109901],[-0.8588669679483394,-0.4401808823117566],[-0.8588669679483394,-0.7982277808101652],[-0.8588669679483394,-0.6902653317438958],[-0.8588669679483394,-0.017652418992829683],[-0.8588669679483394,-0.3559447852943061],[-0.8588669679483394,-0.13739657166226996],[-0.8588669679483394,-0.40412653280868205],[-0.8588669679483394,-0.475173741295484],[-0.8588669679483394,-0.16731840170996437],[-0.8588669679483394,-0.5035838318460881],[-0.8588669679483394,-0.17931490097192396],[-0.8588669679483394,-0.9705787194103165],[-0.8588669679483394,-0.8231182186166354],[-0.7188324909603548,-0.22811998036506737],[-0.7188324909603548,-0.978650872281146],[-0.7188324909603548,-0.41735145176077226],[-0.7188324909603548,-0.9513291768256397],[-0.7188324909603548,-0.8781546497109901],[-0.7188324909603548,-0.4401808823117566],[-0.7188324909603548,-0.7982277808101652],[-0.7188324909603548,-0.6902653317438958],[-0.7188324909603548,-0.017652418992829683],[-0.7188324909603548,-0.3559447852943061],[-0.7188324909603548,-0.13739657166226996],[-0.7188324909603548,-0.40412653280868205],[-0.7188324909603548,-0.475173741295484],[-0.7188324909603548,-0.16731840170996437],[-0.7188324909603548,-0.5035838318460881],[-0.7188324909603548,-0.17931490097192396],[-0.7188324909603548,-0.9705787194103165],[-0.7188324909603548,-0.8231182186166354],[-0.22811998036506737,-0.978650872281146],[-0.22811998036506737,-0.41735145176077226],[-0.22811998036506737,-0.9513291768256397],[-0.22811998036506737,-0.8781546497109901],[-0.22811998036506737,-0.4401808823117566],[-0.22811998036506737,-0.7982277808101652],[-0.22811998036506737,-0.6902653317438958],[-0.22811998036506737,-0.017652418992829683],[-0.22811998036506737,-0.3559447852943061],[-0.22811998036506737,-0.13739657166226996],[-0.22811998036506737,-0.40412653280868205],[-0.22811998036506737,-0.475173741295484],[-0.22811998036506737,-0.16731840170996437],[-0.22811998036506737,-0.5035838318460881],[-0.22811998036506737,-0.17931490097192396],[-0.22811998036506737,-0.9705787194103165],[-0.22811998036506737,-0.8231182186166354],[-0.978650872281146,-0.41735145176077226],[-0.978650872281146,-0.9513291768256397],[-0.978650872281146,-0.8781546497109901],[-0.978650872281146,-0.4401808823117566],[-0.978650872281146,-0.7982277808101652],[-0.978650872281146,-0.6902653317438958],[-0.978650872281146,-0.017652418992829683],[-0.978650872281146,-0.3559447852943061],[-0.978650872281146,-0.13739657166226996],[-0.978650872281146,-0.40412653280868205],[-0.978650872281146,-0.475173741295484],[-0.978650872281146,-0.16731840170996437],[-0.978650872281146,-0.5035838318460881],[-0.978650872281146,-0.17931490097192396],[-0.978650872281146,-0.9705787194103165],[-0.978650872281146,-0.8231182186166354],[-0.41735145176077226,-0.9513291768256397],[-0.41735145176077226,-0.8781546497109901],[-0.41735145176077226,-0.4401808823117566],[-0.41735145176077226,-0.7982277808101652],[-0.41735145176077226,-0.6902653317438958],[-0.41735145176077226,-0.017652418992829683],[-0.41735145176077226,-0.3559447852943061],[-0.41735145176077226,-0.13739657166226996],[-0.41735145176077226,-0.40412653280868205],[-0.41735145176077226,-0.475173741295484],[-0.41735145176077226,-0.16731840170996437],[-0.41735145176077226,-0.5035838318460881],[-0.41735145176077226,-0.17931490097192396],[-0.41735145176077226,-0.9705787194103165],[-0.41735145176077226,-0.8231182186166354],[-0.9513291768256397,-0.8781546497109901],[-0.9513291768256397,-0.4401808823117566],[-0.9513291768256397,-0.7982277808101652],[-0.9513291768256397,-0.6902653317438958],[-0.9513291768256397,-0.017652418992829683],[-0.9513291768256397,-0.3559447852943061],[-0.9513291768256397,-0.13739657166226996],[-0.9513291768256397,-0.40412653280868205],[-0.9513291768256397,-0.475173741295484],[-0.9513291768256397,-0.16731840170996437],[-0.9513291768256397,-0.5035838318460881],[-0.9513291768256397,-0.17931490097192396],[-0.9513291768256397,-0.9705787194103165],[-0.9513291768256397,-0.8231182186166354],[-0.8781546497109901,-0.4401808823117566],[-0.8781546497109901,-0.7982277808101652],[-0.8781546497109901,-0.6902653317438958],[-0.8781546497109901,-0.017652418992829683],[-0.8781546497109901,-0.3559447852943061],[-0.8781546497109901,-0.13739657166226996],[-0.8781546497109901,-0.40412653280868205],[-0.8781546497109901,-0.475173741295484],[-0.8781546497109901,-0.16731840170996437],[-0.8781546497109901,-0.5035838318460881],[-0.8781546497109901,-0.17931490097192396],[-0.8781546497109901,-0.9705787194103165],[-0.8781546497109901,-0.8231182186166354],[-0.4401808823117566,-0.7982277808101652],[-0.4401808823117566,-0.6902653317438958],[-0.4401808823117566,-0.017652418992829683],[-0.4401808823117566,-0.3559447852943061],[-0.4401808823117566,-0.13739657166226996],[-0.4401808823117566,-0.40412653280868205],[-0.4401808823117566,-0.475173741295484],[-0.4401808823117566,-0.16731840170996437],[-0.4401808823117566,-0.5035838318460881],[-0.4401808823117566,-0.17931490097192396],[-0.4401808823117566,-0.9705787194103165],[-0.4401808823117566,-0.8231182186166354],[-0.7982277808101652,-0.6902653317438958],[-0.7982277808101652,-0.017652418992829683],[-0.7982277808101652,-0.3559447852943061],[-0.7982277808101652,-0.13739657166226996],[-0.7982277808101652,-0.40412653280868205],[-0.7982277808101652,-0.475173741295484],[-0.7982277808101652,-0.16731840170996437],[-0.7982277808101652,-0.5035838318460881],[-0.7982277808101652,-0.17931490097192396],[-0.7982277808101652,-0.9705787194103165],[-0.7982277808101652,-0.8231182186166354],[-0.6902653317438958,-0.017652418992829683],[-0.6902653317438958,-0.3559447852943061],[-0.6902653317438958,-0.13739657166226996],[-0.6902653317438958,-0.40412653280868205],[-0.6902653317438958,-0.475173741295484],[-0.6902653317438958,-0.16731840170996437],[-0.6902653317438958,-0.5035838318460881],[-0.6902653317438958,-0.17931490097192396],[-0.6902653317438958,-0.9705787194103165],[-0.6902653317438958,-0.8231182186166354],[-0.017652418992829683,-0.3559447852943061],[-0.017652418992829683,-0.13739657166226996],[-0.017652418992829683,-0.40412653280868205],[-0.017652418992829683,-0.475173741295484],[-0.017652418992829683,-0.16731840170996437],[-0.017652418992829683,-0.5035838318460881],[-0.017652418992829683,-0.17931490097192396],[-0.017652418992829683,-0.9705787194103165],[-0.017652418992829683,-0.8231182186166354],[-0.3559447852943061,-0.13739657166226996],[-0.3559447852943061,-0.40412653280868205],[-0.3559447852943061,-0.475173741295484],[-0.3559447852943061,-0.16731840170996437],[-0.3559447852943061,-0.5035838318460881],[-0.3559447852943061,-0.17931490097192396],[-0.3559447852943061,-0.9705787194103165],[-0.3559447852943061,-0.8231182186166354],[-0.13739657166226996,-0.40412653280868205],[-0.13739657166226996,-0.475173741295484],[-0.13739657166226996,-0.16731840170996437],[-0.13739657166226996,-0.5035838318460881],[-0.13739657166226996,-0.17931490097192396],[-0.13739657166226996,-0.9705787194103165],[-0.13739657166226996,-0.8231182186166354],[-0.40412653280868205,-0.475173741295484],[-0.40412653280868205,-0.16731840170996437],[-0.40412653280868205,-0.5035838318460881],[-0.40412653280868205,-0.17931490097192396],[-0.40412653280868205,-0.9705787194103165],[-0.40412653280868205,-0.8231182186166354],[-0.475173741295484,-0.16731840170996437],[-0.475173741295484,-0.5035838318460881],[-0.475173741295484,-0.17931490097192396],[-0.475173741295484,-0.9705787194103165],[-0.475173741295484,-0.8231182186166354],[-0.16731840170996437,-0.5035838318460881],[-0.16731840170996437,-0.17931490097192396],[-0.16731840170996437,-0.9705787194103165],[-0.16731840170996437,-0.8231182186166354],[-0.5035838318460881,-0.17931490097192396],[-0.5035838318460881,-0.9705787194103165],[-0.5035838318460881,-0.8231182186166354],[-0.17931490097192396,-0.9705787194103165],[-0.17931490097192396,-0.8231182186166354],[-0.9705787194103165,-0.8231182186166354]]],[\"ys\",[[-0.00684344331545901,0.25080116619123854],[-0.00684344331545901,-0.2265579023102622],[-0.00684344331545901,0.18184500685436944],[-0.00684344331545901,-0.1742683770805826],[-0.00684344331545901,-0.5012038419840704],[-0.00684344331545901,-0.37829280172878466],[-0.00684344331545901,0.16344024432583254],[-0.00684344331545901,0.05550598492308583],[-0.00684344331545901,-0.400701303717838],[-0.00684344331545901,-0.050225089272651194],[-0.00684344331545901,-0.504790022730873],[-0.00684344331545901,-0.6326153484169841],[-0.00684344331545901,-0.21958071751782435],[-0.00684344331545901,-0.48361056996942675],[-0.00684344331545901,-0.17684847501989112],[-0.00684344331545901,-0.3039523192272113],[-0.00684344331545901,-0.49710338185207303],[-0.00684344331545901,-0.342576038936764],[-0.00684344331545901,-0.1091843119626576],[-0.00684344331545901,-0.2839811937150856],[0.25080116619123854,-0.2265579023102622],[0.25080116619123854,0.18184500685436944],[0.25080116619123854,-0.1742683770805826],[0.25080116619123854,-0.5012038419840704],[0.25080116619123854,-0.37829280172878466],[0.25080116619123854,0.16344024432583254],[0.25080116619123854,0.05550598492308583],[0.25080116619123854,-0.400701303717838],[0.25080116619123854,-0.050225089272651194],[0.25080116619123854,-0.504790022730873],[0.25080116619123854,-0.6326153484169841],[0.25080116619123854,-0.21958071751782435],[0.25080116619123854,-0.48361056996942675],[0.25080116619123854,-0.17684847501989112],[0.25080116619123854,-0.3039523192272113],[0.25080116619123854,-0.49710338185207303],[0.25080116619123854,-0.342576038936764],[0.25080116619123854,-0.1091843119626576],[0.25080116619123854,-0.2839811937150856],[0.25080116619123854,0.37452714393243236],[0.25080116619123854,0.5070265280897942],[-0.2265579023102622,0.18184500685436944],[-0.2265579023102622,-0.1742683770805826],[-0.2265579023102622,-0.5012038419840704],[-0.2265579023102622,-0.37829280172878466],[-0.2265579023102622,0.16344024432583254],[-0.2265579023102622,0.05550598492308583],[-0.2265579023102622,-0.400701303717838],[-0.2265579023102622,-0.050225089272651194],[-0.2265579023102622,-0.504790022730873],[-0.2265579023102622,-0.6326153484169841],[-0.2265579023102622,-0.21958071751782435],[-0.2265579023102622,-0.48361056996942675],[-0.2265579023102622,-0.17684847501989112],[-0.2265579023102622,-0.3039523192272113],[-0.2265579023102622,-0.49710338185207303],[-0.2265579023102622,-0.342576038936764],[-0.2265579023102622,-0.1091843119626576],[-0.2265579023102622,-0.2839811937150856],[-0.2265579023102622,0.1952435556643285],[0.18184500685436944,-0.1742683770805826],[0.18184500685436944,-0.5012038419840704],[0.18184500685436944,-0.37829280172878466],[0.18184500685436944,0.16344024432583254],[0.18184500685436944,0.05550598492308583],[0.18184500685436944,-0.400701303717838],[0.18184500685436944,-0.050225089272651194],[0.18184500685436944,-0.504790022730873],[0.18184500685436944,-0.6326153484169841],[0.18184500685436944,-0.21958071751782435],[0.18184500685436944,-0.48361056996942675],[0.18184500685436944,-0.17684847501989112],[0.18184500685436944,-0.3039523192272113],[0.18184500685436944,-0.49710338185207303],[0.18184500685436944,-0.342576038936764],[0.18184500685436944,-0.1091843119626576],[0.18184500685436944,-0.2839811937150856],[0.18184500685436944,0.47822094967746537],[0.18184500685436944,0.581861698714085],[0.18184500685436944,0.33519417492432785],[-0.1742683770805826,-0.5012038419840704],[-0.1742683770805826,-0.37829280172878466],[-0.1742683770805826,0.16344024432583254],[-0.1742683770805826,0.05550598492308583],[-0.1742683770805826,-0.400701303717838],[-0.1742683770805826,-0.050225089272651194],[-0.1742683770805826,-0.504790022730873],[-0.1742683770805826,-0.6326153484169841],[-0.1742683770805826,-0.21958071751782435],[-0.1742683770805826,-0.48361056996942675],[-0.1742683770805826,-0.17684847501989112],[-0.1742683770805826,-0.3039523192272113],[-0.1742683770805826,-0.49710338185207303],[-0.1742683770805826,-0.342576038936764],[-0.1742683770805826,-0.1091843119626576],[-0.1742683770805826,-0.2839811937150856],[-0.5012038419840704,-0.37829280172878466],[-0.5012038419840704,0.16344024432583254],[-0.5012038419840704,0.05550598492308583],[-0.5012038419840704,-0.400701303717838],[-0.5012038419840704,-0.050225089272651194],[-0.5012038419840704,-0.504790022730873],[-0.5012038419840704,-0.6326153484169841],[-0.5012038419840704,-0.21958071751782435],[-0.5012038419840704,-0.48361056996942675],[-0.5012038419840704,-0.17684847501989112],[-0.5012038419840704,-0.3039523192272113],[-0.5012038419840704,-0.49710338185207303],[-0.5012038419840704,-0.342576038936764],[-0.5012038419840704,-0.1091843119626576],[-0.5012038419840704,-0.2839811937150856],[-0.5012038419840704,-0.01638841601328627],[-0.37829280172878466,0.16344024432583254],[-0.37829280172878466,0.05550598492308583],[-0.37829280172878466,-0.400701303717838],[-0.37829280172878466,-0.050225089272651194],[-0.37829280172878466,-0.504790022730873],[-0.37829280172878466,-0.6326153484169841],[-0.37829280172878466,-0.21958071751782435],[-0.37829280172878466,-0.48361056996942675],[-0.37829280172878466,-0.17684847501989112],[-0.37829280172878466,-0.3039523192272113],[-0.37829280172878466,-0.49710338185207303],[-0.37829280172878466,-0.342576038936764],[-0.37829280172878466,-0.1091843119626576],[-0.37829280172878466,-0.2839811937150856],[-0.37829280172878466,-0.01638841601328627],[0.16344024432583254,0.05550598492308583],[0.16344024432583254,-0.400701303717838],[0.16344024432583254,-0.050225089272651194],[0.16344024432583254,-0.504790022730873],[0.16344024432583254,-0.6326153484169841],[0.16344024432583254,-0.21958071751782435],[0.16344024432583254,-0.48361056996942675],[0.16344024432583254,-0.17684847501989112],[0.16344024432583254,-0.3039523192272113],[0.16344024432583254,-0.49710338185207303],[0.16344024432583254,-0.342576038936764],[0.16344024432583254,-0.1091843119626576],[0.16344024432583254,-0.2839811937150856],[0.16344024432583254,0.37452714393243236],[0.16344024432583254,0.5070265280897942],[0.05550598492308583,-0.400701303717838],[0.05550598492308583,-0.050225089272651194],[0.05550598492308583,-0.504790022730873],[0.05550598492308583,-0.6326153484169841],[0.05550598492308583,-0.21958071751782435],[0.05550598492308583,-0.48361056996942675],[0.05550598492308583,-0.17684847501989112],[0.05550598492308583,-0.3039523192272113],[0.05550598492308583,-0.49710338185207303],[0.05550598492308583,-0.342576038936764],[0.05550598492308583,-0.1091843119626576],[0.05550598492308583,-0.2839811937150856],[0.05550598492308583,0.1952435556643285],[-0.400701303717838,-0.050225089272651194],[-0.400701303717838,-0.504790022730873],[-0.400701303717838,-0.6326153484169841],[-0.400701303717838,-0.21958071751782435],[-0.400701303717838,-0.48361056996942675],[-0.400701303717838,-0.17684847501989112],[-0.400701303717838,-0.3039523192272113],[-0.400701303717838,-0.49710338185207303],[-0.400701303717838,-0.342576038936764],[-0.400701303717838,-0.1091843119626576],[-0.400701303717838,-0.2839811937150856],[-0.400701303717838,-0.24961362112630772],[-0.400701303717838,-0.15345715863288],[-0.050225089272651194,-0.504790022730873],[-0.050225089272651194,-0.6326153484169841],[-0.050225089272651194,-0.21958071751782435],[-0.050225089272651194,-0.48361056996942675],[-0.050225089272651194,-0.17684847501989112],[-0.050225089272651194,-0.3039523192272113],[-0.050225089272651194,-0.49710338185207303],[-0.050225089272651194,-0.342576038936764],[-0.050225089272651194,-0.1091843119626576],[-0.050225089272651194,-0.2839811937150856],[-0.050225089272651194,0.1952435556643285],[-0.504790022730873,-0.6326153484169841],[-0.504790022730873,-0.21958071751782435],[-0.504790022730873,-0.48361056996942675],[-0.504790022730873,-0.17684847501989112],[-0.504790022730873,-0.3039523192272113],[-0.504790022730873,-0.49710338185207303],[-0.504790022730873,-0.342576038936764],[-0.504790022730873,-0.1091843119626576],[-0.504790022730873,-0.2839811937150856],[-0.504790022730873,-0.24961362112630772],[-0.504790022730873,-0.15345715863288],[-0.6326153484169841,-0.21958071751782435],[-0.6326153484169841,-0.48361056996942675],[-0.6326153484169841,-0.17684847501989112],[-0.6326153484169841,-0.3039523192272113],[-0.6326153484169841,-0.49710338185207303],[-0.6326153484169841,-0.342576038936764],[-0.6326153484169841,-0.1091843119626576],[-0.6326153484169841,-0.2839811937150856],[-0.21958071751782435,-0.48361056996942675],[-0.21958071751782435,-0.17684847501989112],[-0.21958071751782435,-0.3039523192272113],[-0.21958071751782435,-0.49710338185207303],[-0.21958071751782435,-0.342576038936764],[-0.21958071751782435,-0.1091843119626576],[-0.21958071751782435,-0.2839811937150856],[-0.21958071751782435,-0.01638841601328627],[-0.48361056996942675,-0.17684847501989112],[-0.48361056996942675,-0.3039523192272113],[-0.48361056996942675,-0.49710338185207303],[-0.48361056996942675,-0.342576038936764],[-0.48361056996942675,-0.1091843119626576],[-0.48361056996942675,-0.2839811937150856],[-0.48361056996942675,-0.008318697412629026],[-0.17684847501989112,-0.3039523192272113],[-0.17684847501989112,-0.49710338185207303],[-0.17684847501989112,-0.342576038936764],[-0.17684847501989112,-0.1091843119626576],[-0.17684847501989112,-0.2839811937150856],[-0.17684847501989112,0.048814514148707286],[-0.17684847501989112,-0.07518797604659257],[-0.3039523192272113,-0.49710338185207303],[-0.3039523192272113,-0.342576038936764],[-0.3039523192272113,-0.1091843119626576],[-0.3039523192272113,-0.2839811937150856],[-0.3039523192272113,0.048814514148707286],[-0.3039523192272113,-0.07518797604659257],[-0.49710338185207303,-0.342576038936764],[-0.49710338185207303,-0.1091843119626576],[-0.49710338185207303,-0.2839811937150856],[-0.342576038936764,-0.1091843119626576],[-0.342576038936764,-0.2839811937150856],[-0.1091843119626576,-0.2839811937150856],[-0.1091843119626576,-0.008318697412629026],[-0.2839811937150856,-0.008318697412629026],[0.47822094967746537,-0.07111764586076998],[0.47822094967746537,0.32941539556009797],[0.47822094967746537,0.37452714393243236],[0.47822094967746537,0.0932031194115373],[0.47822094967746537,0.048814514148707286],[0.47822094967746537,0.46982177543792375],[0.47822094967746537,0.29855387225812413],[0.47822094967746537,-0.24961362112630772],[0.47822094967746537,0.5349088241476326],[0.47822094967746537,0.6398391814107152],[0.47822094967746537,-0.01638841601328627],[0.47822094967746537,-0.15345715863288],[0.47822094967746537,0.1952435556643285],[0.47822094967746537,0.581861698714085],[0.47822094967746537,0.33519417492432785],[0.47822094967746537,-0.008318697412629026],[0.47822094967746537,-0.07518797604659257],[0.47822094967746537,0.5070265280897942],[0.47822094967746537,0.2287498927731412],[0.47822094967746537,0.09944562540605426],[-0.07111764586076998,0.32941539556009797],[-0.07111764586076998,0.37452714393243236],[-0.07111764586076998,0.0932031194115373],[-0.07111764586076998,0.048814514148707286],[-0.07111764586076998,0.46982177543792375],[-0.07111764586076998,0.29855387225812413],[-0.07111764586076998,-0.24961362112630772],[-0.07111764586076998,0.5349088241476326],[-0.07111764586076998,0.6398391814107152],[-0.07111764586076998,-0.01638841601328627],[-0.07111764586076998,-0.15345715863288],[-0.07111764586076998,0.1952435556643285],[-0.07111764586076998,0.581861698714085],[-0.07111764586076998,0.33519417492432785],[-0.07111764586076998,-0.008318697412629026],[-0.07111764586076998,-0.07518797604659257],[-0.07111764586076998,0.5070265280897942],[-0.07111764586076998,0.2287498927731412],[-0.07111764586076998,0.09944562540605426],[0.32941539556009797,0.37452714393243236],[0.32941539556009797,0.0932031194115373],[0.32941539556009797,0.048814514148707286],[0.32941539556009797,0.46982177543792375],[0.32941539556009797,0.29855387225812413],[0.32941539556009797,-0.24961362112630772],[0.32941539556009797,0.5349088241476326],[0.32941539556009797,0.6398391814107152],[0.32941539556009797,-0.01638841601328627],[0.32941539556009797,-0.15345715863288],[0.32941539556009797,0.1952435556643285],[0.32941539556009797,0.581861698714085],[0.32941539556009797,0.33519417492432785],[0.32941539556009797,-0.008318697412629026],[0.32941539556009797,-0.07518797604659257],[0.32941539556009797,0.5070265280897942],[0.32941539556009797,0.2287498927731412],[0.32941539556009797,0.09944562540605426],[0.37452714393243236,0.0932031194115373],[0.37452714393243236,0.048814514148707286],[0.37452714393243236,0.46982177543792375],[0.37452714393243236,0.29855387225812413],[0.37452714393243236,-0.24961362112630772],[0.37452714393243236,0.5349088241476326],[0.37452714393243236,0.6398391814107152],[0.37452714393243236,-0.01638841601328627],[0.37452714393243236,-0.15345715863288],[0.37452714393243236,0.1952435556643285],[0.37452714393243236,0.581861698714085],[0.37452714393243236,0.33519417492432785],[0.37452714393243236,-0.008318697412629026],[0.37452714393243236,-0.07518797604659257],[0.37452714393243236,0.5070265280897942],[0.37452714393243236,0.2287498927731412],[0.37452714393243236,0.09944562540605426],[0.0932031194115373,0.048814514148707286],[0.0932031194115373,0.46982177543792375],[0.0932031194115373,0.29855387225812413],[0.0932031194115373,-0.24961362112630772],[0.0932031194115373,0.5349088241476326],[0.0932031194115373,0.6398391814107152],[0.0932031194115373,-0.01638841601328627],[0.0932031194115373,-0.15345715863288],[0.0932031194115373,0.1952435556643285],[0.0932031194115373,0.581861698714085],[0.0932031194115373,0.33519417492432785],[0.0932031194115373,-0.008318697412629026],[0.0932031194115373,-0.07518797604659257],[0.0932031194115373,0.5070265280897942],[0.0932031194115373,0.2287498927731412],[0.0932031194115373,0.09944562540605426],[0.048814514148707286,0.46982177543792375],[0.048814514148707286,0.29855387225812413],[0.048814514148707286,-0.24961362112630772],[0.048814514148707286,0.5349088241476326],[0.048814514148707286,0.6398391814107152],[0.048814514148707286,-0.01638841601328627],[0.048814514148707286,-0.15345715863288],[0.048814514148707286,0.1952435556643285],[0.048814514148707286,0.581861698714085],[0.048814514148707286,0.33519417492432785],[0.048814514148707286,-0.008318697412629026],[0.048814514148707286,-0.07518797604659257],[0.048814514148707286,0.5070265280897942],[0.048814514148707286,0.2287498927731412],[0.048814514148707286,0.09944562540605426],[0.46982177543792375,0.29855387225812413],[0.46982177543792375,-0.24961362112630772],[0.46982177543792375,0.5349088241476326],[0.46982177543792375,0.6398391814107152],[0.46982177543792375,-0.01638841601328627],[0.46982177543792375,-0.15345715863288],[0.46982177543792375,0.1952435556643285],[0.46982177543792375,0.581861698714085],[0.46982177543792375,0.33519417492432785],[0.46982177543792375,-0.008318697412629026],[0.46982177543792375,-0.07518797604659257],[0.46982177543792375,0.5070265280897942],[0.46982177543792375,0.2287498927731412],[0.46982177543792375,0.09944562540605426],[0.29855387225812413,-0.24961362112630772],[0.29855387225812413,0.5349088241476326],[0.29855387225812413,0.6398391814107152],[0.29855387225812413,-0.01638841601328627],[0.29855387225812413,-0.15345715863288],[0.29855387225812413,0.1952435556643285],[0.29855387225812413,0.581861698714085],[0.29855387225812413,0.33519417492432785],[0.29855387225812413,-0.008318697412629026],[0.29855387225812413,-0.07518797604659257],[0.29855387225812413,0.5070265280897942],[0.29855387225812413,0.2287498927731412],[0.29855387225812413,0.09944562540605426],[-0.24961362112630772,0.5349088241476326],[-0.24961362112630772,0.6398391814107152],[-0.24961362112630772,-0.01638841601328627],[-0.24961362112630772,-0.15345715863288],[-0.24961362112630772,0.1952435556643285],[-0.24961362112630772,0.581861698714085],[-0.24961362112630772,0.33519417492432785],[-0.24961362112630772,-0.008318697412629026],[-0.24961362112630772,-0.07518797604659257],[-0.24961362112630772,0.5070265280897942],[-0.24961362112630772,0.2287498927731412],[-0.24961362112630772,0.09944562540605426],[0.5349088241476326,0.6398391814107152],[0.5349088241476326,-0.01638841601328627],[0.5349088241476326,-0.15345715863288],[0.5349088241476326,0.1952435556643285],[0.5349088241476326,0.581861698714085],[0.5349088241476326,0.33519417492432785],[0.5349088241476326,-0.008318697412629026],[0.5349088241476326,-0.07518797604659257],[0.5349088241476326,0.5070265280897942],[0.5349088241476326,0.2287498927731412],[0.5349088241476326,0.09944562540605426],[0.6398391814107152,-0.01638841601328627],[0.6398391814107152,-0.15345715863288],[0.6398391814107152,0.1952435556643285],[0.6398391814107152,0.581861698714085],[0.6398391814107152,0.33519417492432785],[0.6398391814107152,-0.008318697412629026],[0.6398391814107152,-0.07518797604659257],[0.6398391814107152,0.5070265280897942],[0.6398391814107152,0.2287498927731412],[0.6398391814107152,0.09944562540605426],[-0.01638841601328627,-0.15345715863288],[-0.01638841601328627,0.1952435556643285],[-0.01638841601328627,0.581861698714085],[-0.01638841601328627,0.33519417492432785],[-0.01638841601328627,-0.008318697412629026],[-0.01638841601328627,-0.07518797604659257],[-0.01638841601328627,0.5070265280897942],[-0.01638841601328627,0.2287498927731412],[-0.01638841601328627,0.09944562540605426],[-0.15345715863288,0.1952435556643285],[-0.15345715863288,0.581861698714085],[-0.15345715863288,0.33519417492432785],[-0.15345715863288,-0.008318697412629026],[-0.15345715863288,-0.07518797604659257],[-0.15345715863288,0.5070265280897942],[-0.15345715863288,0.2287498927731412],[-0.15345715863288,0.09944562540605426],[0.1952435556643285,0.581861698714085],[0.1952435556643285,0.33519417492432785],[0.1952435556643285,-0.008318697412629026],[0.1952435556643285,-0.07518797604659257],[0.1952435556643285,0.5070265280897942],[0.1952435556643285,0.2287498927731412],[0.1952435556643285,0.09944562540605426],[0.581861698714085,0.33519417492432785],[0.581861698714085,-0.008318697412629026],[0.581861698714085,-0.07518797604659257],[0.581861698714085,0.5070265280897942],[0.581861698714085,0.2287498927731412],[0.581861698714085,0.09944562540605426],[0.33519417492432785,-0.008318697412629026],[0.33519417492432785,-0.07518797604659257],[0.33519417492432785,0.5070265280897942],[0.33519417492432785,0.2287498927731412],[0.33519417492432785,0.09944562540605426],[-0.008318697412629026,-0.07518797604659257],[-0.008318697412629026,0.5070265280897942],[-0.008318697412629026,0.2287498927731412],[-0.008318697412629026,0.09944562540605426],[-0.07518797604659257,0.5070265280897942],[-0.07518797604659257,0.2287498927731412],[-0.07518797604659257,0.09944562540605426],[0.5070265280897942,0.2287498927731412],[0.5070265280897942,0.09944562540605426],[0.2287498927731412,0.09944562540605426]]],[\"_u\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,16,16,16,16,16,16,16,17,17,17,17,17,17,18,18,18,19,19,20,20,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,30,30,30,30,30,30,30,30,30,30,30,30,31,31,31,31,31,31,31,31,31,31,31,32,32,32,32,32,32,32,32,32,32,33,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,35,35,35,35,35,35,35,36,36,36,36,36,36,37,37,37,37,37,38,38,38,38,39,39,39,40,40,41]],[\"_v\",[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,25,40,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,35,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,36,37,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,33,8,9,10,11,12,13,14,15,16,17,18,19,20,21,33,9,10,11,12,13,14,15,16,17,18,19,20,21,25,40,10,11,12,13,14,15,16,17,18,19,20,21,35,11,12,13,14,15,16,17,18,19,20,21,30,34,12,13,14,15,16,17,18,19,20,21,35,13,14,15,16,17,18,19,20,21,30,34,14,15,16,17,18,19,20,21,15,16,17,18,19,20,21,33,16,17,18,19,20,21,38,17,18,19,20,21,27,39,18,19,20,21,27,39,19,20,21,20,21,21,38,38,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,29,30,31,32,33,34,35,36,37,38,39,40,41,42,30,31,32,33,34,35,36,37,38,39,40,41,42,31,32,33,34,35,36,37,38,39,40,41,42,32,33,34,35,36,37,38,39,40,41,42,33,34,35,36,37,38,39,40,41,42,34,35,36,37,38,39,40,41,42,35,36,37,38,39,40,41,42,36,37,38,39,40,41,42,37,38,39,40,41,42,38,39,40,41,42,39,40,41,42,40,41,42,41,42,42]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,1,1,1,1,1,5,1,5,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,1,1,1,1,1,1,6,1,1,1,1,1,1,1,5,1,1,1,1,1,1,6,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,1,5,1,1,1,1,1,1,1,1,1,1,4,1,7,1,1,1,1,1,1,1,1,1,6,6,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,5,5,4,7,1,1,1,1,6,6,1,1,1,1,6,6,1,1,1,1,1,5,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,6,1,1,1,1,1,1,1,1,1,1,1,6,6,1,1,1,1,1,1,1,1,1,1,1,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,6,1,1,1,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6]],[\"_edge_alpha\",[0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.4,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.4,0.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.4,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.2,1.0,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.6000000000000001,0.6000000000000001,0.4,1.0,0.2,0.2,0.2,0.2,0.8,0.8,0.2,0.2,0.2,0.2,0.8,0.8,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.4,0.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,1.0,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.8,0.2,0.2,0.2,1.0,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p18550\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p18551\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p18546\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p18547\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p18548\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p18563\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p18554\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p18555\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p18556\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.9485988504677338,0.509189080932809,0.4201485057520295,0.2027170785099571,1.0,0.5813891798436758,0.6661346754860231,0.4205436046248604,0.6173679272410241,0.18956692793026067,0.48276686548378495,0.15115201273420617,0.7786235775672412,0.7357630406051834,0.4376869468534856,0.15746432973906035,0.08853221502539267,0.9130354259530823,0.9940809559758583,0.6488867820751395,0.5463091072457464,-0.495769382719925,-0.8588669679483394,-0.7188324909603548,-0.22811998036506737,-0.978650872281146,-0.41735145176077226,-0.9513291768256397,-0.8781546497109901,-0.4401808823117566,-0.7982277808101652,-0.6902653317438958,-0.017652418992829683,-0.3559447852943061,-0.13739657166226996,-0.40412653280868205,-0.475173741295484,-0.16731840170996437,-0.5035838318460881,-0.17931490097192396,-0.9705787194103165,-0.8231182186166354]],[\"ys\",[-0.00684344331545901,0.25080116619123854,-0.2265579023102622,0.18184500685436944,-0.1742683770805826,-0.5012038419840704,-0.37829280172878466,0.16344024432583254,0.05550598492308583,-0.400701303717838,-0.050225089272651194,-0.504790022730873,-0.6326153484169841,-0.21958071751782435,-0.48361056996942675,-0.17684847501989112,-0.3039523192272113,-0.49710338185207303,-0.342576038936764,-0.1091843119626576,-0.2839811937150856,0.47822094967746537,-0.07111764586076998,0.32941539556009797,0.37452714393243236,0.0932031194115373,0.048814514148707286,0.46982177543792375,0.29855387225812413,-0.24961362112630772,0.5349088241476326,0.6398391814107152,-0.01638841601328627,-0.15345715863288,0.1952435556643285,0.581861698714085,0.33519417492432785,-0.008318697412629026,-0.07518797604659257,0.5070265280897942,0.2287498927731412,0.09944562540605426]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[0,10,2,11,0,5,13,9,1,15,2,7,0,5,3,8,16,0,0,3,3,11,0,0,9,14,16,0,14,15,0,0,13,7,1,12,12,4,8,10,6,6]],[\"gender\",[\"w\",\"m\",\"m\",\"m\",\"w\",\"m\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\",\"m\",\"w\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"m\",\"w\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\"]],[\"grade\",[{\"type\":\"number\",\"value\":\"nan\"},1.0,1.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,3.0,1.0,1.0,4.0,1.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,2.0,4.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},2.0,2.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},1.0,3.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},3.0,4.0,1.0,2.0,2.0,2.0,4.0,1.0,3.0,3.0]],[\"hours\",[9,4,4,4,5,5,5,4,4,6,4,6,9,5,4,6,6,6,10,4,4,4,6,9,4,5,6,11,5,6,4,6,5,6,4,4,4,4,6,4,5,5]],[\"status\",[\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"social_worker\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\"]],[\"_colormap\",[\"rgb(172, 89, 24)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(172, 89, 24)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(172, 89, 24)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(172, 253, 160)\",\"rgb(172, 89, 24)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(172, 89, 24)\",\"rgb(172, 89, 24)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(172, 89, 24)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(172, 253, 160)\",\"rgb(172, 89, 24)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\",\"rgb(15, 144, 64)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p18564\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p18565\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p18560\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p18561\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p18562\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p18505\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p18528\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p18529\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p18530\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p18531\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p18532\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p18552\",\"attributes\":{\"renderers\":[{\"id\":\"p18549\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p18566\",\"attributes\":{\"renderers\":[{\"id\":\"p18563\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p18521\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p18522\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p18523\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p18524\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p18514\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p18515\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p18516\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p18517\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p18520\",\"attributes\":{\"axis\":{\"id\":\"p18514\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p18527\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p18521\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"4e93df85-abe9-422a-ab11-58c704ea5bc1\",\"roots\":{\"p18497\":\"e0f04f10-8f74-4716-a2c2-6ff5d9ec607c\"},\"root_ids\":[\"p18497\"],\"notebook_comms_target\":\"p19270\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p18497"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"status\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "41102e8a",
   "metadata": {},
   "source": [
    "### Nesting locations\n",
    "The plot above shows two big clusters.\n",
    "Each of those clusters represents one school.\n",
    "The plot above also shows something unrealistic: The schools are connected because members of one class are not always in the same school.\n",
    "We can use the `School`-method `stick_together()` to fix this issue.\n",
    "This works because whenever an agent is assigned to a location instance, the agent gets a new attribute named after the location class.\n",
    "This new attribute is set to a location instance identifier value."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 90,
   "id": "6e79e420",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(AgentList (42 objects), LocationList (10 objects))"
      ]
     },
     "execution_count": 90,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.friend_group\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return agent.hours\n",
    "\n",
    "    def project_weights(self, agent1, agent2) -> float:\n",
    "        return min([self.get_weight(agent1), self.get_weight(agent2)])\n",
    "\n",
    "\n",
    "class School(popy.MagicLocation):\n",
    "    n_locations = 2\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.ClassRoom\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom, School])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 91,
   "id": "24a422da",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"fbaa7ba8-543c-4500-8282-0346af7e2566\" data-root-id=\"p19366\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"b1db16c5-7368-42d3-8780-4b5764793812\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p19366\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p19368\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p19367\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p19379\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p19381\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p19373\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p19418\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p19409\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p19410\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p19411\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.7223577248344115,0.6824044837175403],[-0.45334878820754637,-0.374555612621687],[-0.45334878820754637,-0.685109557138471],[0.6343785351726059,0.7040414088978884],[0.6343785351726059,0.6824044837175403],[0.4724134557475581,0.37701705558462223],[0.4724134557475581,0.6824044837175403],[-0.9125941314074868,-0.9561511646432863],[-0.9125941314074868,-0.685109557138471],[0.9792603735394706,1.0],[0.9792603735394706,0.6824044837175403],[-0.8727511204727665,-0.9561511646432863],[-0.8727511204727665,-0.685109557138471],[-0.758193594823717,-0.685109557138471],[0.5177964960068646,0.6824044837175403],[0.7769124210256948,0.7040414088978884],[0.7769124210256948,0.6824044837175403],[0.5214523899845406,0.5715045814799213],[0.5214523899845406,0.6824044837175403],[0.4566050850921005,0.37701705558462223],[0.4566050850921005,0.6824044837175403],[0.9607199159373,1.0],[0.9607199159373,0.6824044837175403],[0.9225336564567489,1.0],[0.9225336564567489,0.6824044837175403],[0.6390767104058328,0.5715045814799213],[0.6390767104058328,0.6824044837175403],[0.8263021245465055,0.6824044837175403],[0.4386277218079042,0.37701705558462223],[0.4386277218079042,0.6824044837175403],[-0.8474797630307975,-0.685109557138471],[-0.45669893489433466,-0.374555612621687],[-0.45669893489433466,-0.685109557138471],[0.6790719984045362,0.7040414088978884],[0.6790719984045362,0.6824044837175403],[0.9220860723982451,1.0],[0.9220860723982451,0.6824044837175403],[-0.9236693727939274,-0.685109557138471],[-0.614639443718249,-0.529096197042108],[-0.614639443718249,-0.685109557138471],[-0.5861850918021202,-0.529096197042108],[-0.5861850918021202,-0.685109557138471],[-0.5032550012080848,-0.529096197042108],[-0.5032550012080848,-0.685109557138471],[-0.7623568970940262,-0.6828007042539043],[-0.7623568970940262,-0.685109557138471],[-0.6086394191790341,-0.6828007042539043],[-0.6086394191790341,-0.685109557138471],[-0.9723414435704728,-0.9561511646432863],[-0.9723414435704728,-0.685109557138471],[-0.5510565511217378,-0.529096197042108],[-0.5510565511217378,-0.685109557138471],[-0.9471221709590618,-0.685109557138471],[0.8983629021231438,0.6824044837175403],[0.3985135210215225,0.37701705558462223],[0.3985135210215225,0.6824044837175403],[0.6608461508936999,0.5715045814799213],[0.6608461508936999,0.6824044837175403],[-0.41301422546524486,-0.374555612621687],[-0.41301422546524486,-0.685109557138471],[0.8381500192796605,0.6824044837175403],[0.5763793514621404,0.5715045814799213],[0.5763793514621404,0.6824044837175403],[-0.4040350665935106,-0.374555612621687],[-0.4040350665935106,-0.685109557138471],[-0.905201996106863,-0.9561511646432863],[-0.905201996106863,-0.685109557138471],[0.7457457479776388,0.7040414088978884],[0.7457457479776388,0.6824044837175403],[-0.8272261045087169,-0.685109557138471],[-0.7209958424724574,-0.6828007042539043],[-0.7209958424724574,-0.685109557138471],[-0.654041708668484,-0.6828007042539043],[-0.654041708668484,-0.685109557138471]]],[\"ys\",[[0.6921007357091239,0.5770083895237451],[-0.5938296628529125,-0.5555457239091334],[-0.5938296628529125,-0.581999279108301],[0.30183884622605583,0.2589087908127979],[0.30183884622605583,0.5770083895237451],[0.5004572679627594,0.5092443325578653],[0.5004572679627594,0.5770083895237451],[-0.40035216613671476,-0.44562212245913646],[-0.40035216613671476,-0.581999279108301],[0.620888007369094,0.5400888769214433],[0.620888007369094,0.5770083895237451],[-0.45632688167334995,-0.44562212245913646],[-0.45632688167334995,-0.581999279108301],[-0.8452037461205872,-0.581999279108301],[0.6953444465441985,0.5770083895237451],[0.2926847469446542,0.2589087908127979],[0.2926847469446542,0.5770083895237451],[0.8336740523333587,0.8923965070891712],[0.8336740523333587,0.5770083895237451],[0.5674050221770581,0.5092443325578653],[0.5674050221770581,0.5770083895237451],[0.4725307718134653,0.5400888769214433],[0.4725307718134653,0.5770083895237451],[0.5338315291025433,0.5400888769214433],[0.5338315291025433,0.5770083895237451],[0.8242035759660902,0.8923965070891712],[0.8242035759660902,0.5770083895237451],[0.817640703786439,0.5770083895237451],[0.4465402500930345,0.5092443325578653],[0.4465402500930345,0.5770083895237451],[-0.8274769131400111,-0.581999279108301],[-0.5311929526539314,-0.5555457239091334],[-0.5311929526539314,-0.581999279108301],[0.3422230861419781,0.2589087908127979],[0.3422230861419781,0.5770083895237451],[0.600869235403485,0.5400888769214433],[0.600869235403485,0.5770083895237451],[-0.7584278826945526,-0.581999279108301],[-0.8303485707422034,-0.8189324944928738],[-0.8303485707422034,-0.581999279108301],[-0.765514448890202,-0.8189324944928738],[-0.765514448890202,-0.581999279108301],[-0.7510429940161955,-0.8189324944928738],[-0.7510429940161955,-0.581999279108301],[-0.306549716368483,-0.2623942364212798],[-0.306549716368483,-0.581999279108301],[-0.3154377083023582,-0.2623942364212798],[-0.3154377083023582,-0.581999279108301],[-0.5225434943510748,-0.44562212245913646],[-0.5225434943510748,-0.581999279108301],[-0.8597207041048095,-0.8189324944928738],[-0.8597207041048095,-0.581999279108301],[-0.6689200747359261,-0.581999279108301],[0.7578394931641386,0.5770083895237451],[0.5951230383789062,0.5092443325578653],[0.5951230383789062,0.5770083895237451],[0.8798591755986219,0.8923965070891712],[0.8798591755986219,0.5770083895237451],[-0.49171824120330176,-0.5555457239091334],[-0.49171824120330176,-0.581999279108301],[0.4603597446262541,0.5770083895237451],[0.8028001000289448,0.8923965070891712],[0.8028001000289448,0.5770083895237451],[-0.6292043372917384,-0.5555457239091334],[-0.6292043372917384,-0.581999279108301],[-0.5158870262913149,-0.44562212245913646],[-0.5158870262913149,-0.581999279108301],[0.3425470911438804,0.2589087908127979],[0.3425470911438804,0.5770083895237451],[-0.7234514774962626,-0.581999279108301],[-0.35613838528851294,-0.2623942364212798],[-0.35613838528851294,-0.581999279108301],[-0.3446265766739366,-0.2623942364212798],[-0.3446265766739366,-0.581999279108301]]],[\"_u\",[1,2,2,3,3,4,4,5,5,6,6,7,7,8,9,10,10,11,11,12,12,13,13,14,14,15,15,16,17,17,18,19,19,20,20,21,21,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,30,31,32,32,33,33,34,34,35,36,36,37,37,38,38,39,39,40,41,41,42,42]],[\"_v\",[51,44,52,46,51,47,51,45,52,50,51,45,52,52,51,46,51,48,51,47,51,50,51,50,51,48,51,51,47,51,52,44,52,46,51,50,51,52,43,52,43,52,43,52,49,52,49,52,45,52,43,52,52,51,47,51,48,51,44,52,51,48,51,44,52,45,52,46,51,52,49,52,49,52]],[\"weight\",[1,6,1,5,1,4,1,5,1,4,1,5,1,1,1,5,1,4,1,4,1,4,1,4,1,4,1,1,4,1,1,6,1,5,1,4,1,1,6,1,6,1,6,1,4,1,4,1,5,1,6,1,1,1,4,1,4,1,6,1,1,4,1,6,1,5,1,5,1,1,4,1,4,1]],[\"_edge_alpha\",[0.25,1.0,0.25,0.75,0.25,0.5,0.25,0.75,0.25,0.5,0.25,0.75,0.25,0.25,0.25,0.75,0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.25,0.5,0.25,0.25,1.0,0.25,0.75,0.25,0.5,0.25,0.25,1.0,0.25,1.0,0.25,1.0,0.25,0.5,0.25,0.5,0.25,0.75,0.25,1.0,0.25,0.25,0.25,0.5,0.25,0.5,0.25,1.0,0.25,0.25,0.5,0.25,1.0,0.25,0.75,0.25,0.75,0.25,0.25,0.5,0.25,0.5,0.25]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p19419\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p19420\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p19415\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p19416\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p19417\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p19432\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p19423\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p19424\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p19425\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.7223577248344115,-0.45334878820754637,0.6343785351726059,0.4724134557475581,-0.9125941314074868,0.9792603735394706,-0.8727511204727665,-0.758193594823717,0.5177964960068646,0.7769124210256948,0.5214523899845406,0.4566050850921005,0.9607199159373,0.9225336564567489,0.6390767104058328,0.8263021245465055,0.4386277218079042,-0.8474797630307975,-0.45669893489433466,0.6790719984045362,0.9220860723982451,-0.9236693727939274,-0.614639443718249,-0.5861850918021202,-0.5032550012080848,-0.7623568970940262,-0.6086394191790341,-0.9723414435704728,-0.5510565511217378,-0.9471221709590618,0.8983629021231438,0.3985135210215225,0.6608461508936999,-0.41301422546524486,0.8381500192796605,0.5763793514621404,-0.4040350665935106,-0.905201996106863,0.7457457479776388,-0.8272261045087169,-0.7209958424724574,-0.654041708668484]],[\"ys\",[0.6921007357091239,-0.5938296628529125,0.30183884622605583,0.5004572679627594,-0.40035216613671476,0.620888007369094,-0.45632688167334995,-0.8452037461205872,0.6953444465441985,0.2926847469446542,0.8336740523333587,0.5674050221770581,0.4725307718134653,0.5338315291025433,0.8242035759660902,0.817640703786439,0.4465402500930345,-0.8274769131400111,-0.5311929526539314,0.3422230861419781,0.600869235403485,-0.7584278826945526,-0.8303485707422034,-0.765514448890202,-0.7510429940161955,-0.306549716368483,-0.3154377083023582,-0.5225434943510748,-0.8597207041048095,-0.6689200747359261,0.7578394931641386,0.5951230383789062,0.8798591755986219,-0.49171824120330176,0.4603597446262541,0.8028001000289448,-0.6292043372917384,-0.5158870262913149,0.3425470911438804,-0.7234514774962626,-0.35613838528851294,-0.3446265766739366]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\",\"rgb(102, 52, 193)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p19433\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p19434\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p19429\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p19430\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p19431\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p19444\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p19435\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p19436\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p19437\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.529096197042108,-0.374555612621687,-0.9561511646432863,0.7040414088978884,0.37701705558462223,0.5715045814799213,-0.6828007042539043,1.0,0.6824044837175403,-0.685109557138471]],[\"ys\",[-0.8189324944928738,-0.5555457239091334,-0.44562212245913646,0.2589087908127979,0.5092443325578653,0.8923965070891712,-0.2623942364212798,0.5400888769214433,0.5770083895237451,-0.581999279108301]],[\"_node\",[43,44,45,46,47,48,49,50,51,52]],[\"bipartite\",[1,1,1,1,1,1,1,1,1,1]],[\"type\",[\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"School\",\"School\"]],[\"_colormap\",[\"rgb(182, 25, 171)\",\"rgb(182, 25, 171)\",\"rgb(182, 25, 171)\",\"rgb(182, 25, 171)\",\"rgb(182, 25, 171)\",\"rgb(182, 25, 171)\",\"rgb(182, 25, 171)\",\"rgb(182, 25, 171)\",\"rgb(7, 167, 56)\",\"rgb(7, 167, 56)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p19445\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p19446\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p19441\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p19442\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p19443\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p19374\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p19397\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p19398\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p19399\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p19400\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p19401\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p19421\",\"attributes\":{\"renderers\":[{\"id\":\"p19418\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p19447\",\"attributes\":{\"renderers\":[{\"id\":\"p19432\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p19449\",\"attributes\":{\"renderers\":[{\"id\":\"p19444\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p19390\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p19391\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p19392\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p19393\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p19383\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p19384\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p19385\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p19386\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p19389\",\"attributes\":{\"axis\":{\"id\":\"p19383\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p19396\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p19390\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"b1db16c5-7368-42d3-8780-4b5764793812\",\"roots\":{\"p19366\":\"fbaa7ba8-543c-4500-8282-0346af7e2566\"},\"root_ids\":[\"p19366\"],\"notebook_comms_target\":\"p20177\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p19366"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 92,
   "id": "4084d9ed",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"c87f25cd-95d3-48dd-9af0-86c9d83eaeb9\" data-root-id=\"p20298\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"6ee20784-6531-456f-b3df-e64185177798\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p20298\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p20300\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p20299\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p20311\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p20313\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p20305\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p20350\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p20341\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p20342\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p20343\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.7382036372926796,0.8858815344437709],[0.7382036372926796,0.8145434524866949],[0.7382036372926796,0.777572768452139],[0.7382036372926796,0.8609041021439034],[0.7382036372926796,0.9817048550987124],[0.7382036372926796,0.6449459663975541],[0.7382036372926796,0.8902979450875566],[0.7382036372926796,0.6627460257011338],[0.7382036372926796,0.7143570443106514],[0.7382036372926796,0.5991255174833026],[0.7382036372926796,0.7202165682407217],[0.7382036372926796,0.806457461714491],[0.7382036372926796,0.9222310624961335],[0.7382036372926796,0.7891212510565112],[0.7382036372926796,0.8754749273835334],[0.7382036372926796,0.7470559204816302],[0.7382036372926796,0.6780048852078865],[0.7382036372926796,0.9693876191130083],[0.7382036372926796,0.6164275649959695],[0.7382036372926796,0.9398896904546514],[-0.9413986273547786,-0.5987242098300981],[-0.9413986273547786,-0.6412780976870552],[-0.9413986273547786,-0.8204230953726874],[-0.9413986273547786,-1.0],[-0.9413986273547786,-0.9338614126208482],[-0.9413986273547786,-0.9194408484524002],[-0.9413986273547786,-0.8066373785761017],[-0.9413986273547786,-0.6787809853191064],[-0.9413986273547786,-0.7309336759874387],[-0.9413986273547786,-0.7693451030148502],[-0.9413986273547786,-0.8399717354989915],[-0.9413986273547786,-0.6234662568333559],[-0.9413986273547786,-0.7494190062017364],[-0.9413986273547786,-0.6695866810009917],[-0.9413986273547786,-0.8689415373571918],[-0.9413986273547786,-0.8404739182341255],[-0.9413986273547786,-0.6803575603185142],[-0.9413986273547786,-0.7475746882262588],[-0.9413986273547786,-0.8512306946847447],[-0.9413986273547786,-0.9227042874713532],[0.8858815344437709,0.8145434524866949],[0.8858815344437709,0.777572768452139],[0.8858815344437709,0.8609041021439034],[0.8858815344437709,0.9817048550987124],[0.8858815344437709,0.6449459663975541],[0.8858815344437709,0.8902979450875566],[0.8858815344437709,0.6627460257011338],[0.8858815344437709,0.7143570443106514],[0.8858815344437709,0.5991255174833026],[0.8858815344437709,0.7202165682407217],[0.8858815344437709,0.806457461714491],[0.8858815344437709,0.9222310624961335],[0.8858815344437709,0.7891212510565112],[0.8858815344437709,0.8754749273835334],[0.8858815344437709,0.7470559204816302],[0.8858815344437709,0.6780048852078865],[0.8858815344437709,0.9693876191130083],[0.8858815344437709,0.6164275649959695],[0.8858815344437709,0.9398896904546514],[0.8145434524866949,0.777572768452139],[0.8145434524866949,0.8609041021439034],[0.8145434524866949,0.9817048550987124],[0.8145434524866949,0.6449459663975541],[0.8145434524866949,0.8902979450875566],[0.8145434524866949,0.6627460257011338],[0.8145434524866949,0.7143570443106514],[0.8145434524866949,0.5991255174833026],[0.8145434524866949,0.7202165682407217],[0.8145434524866949,0.806457461714491],[0.8145434524866949,0.9222310624961335],[0.8145434524866949,0.7891212510565112],[0.8145434524866949,0.8754749273835334],[0.8145434524866949,0.7470559204816302],[0.8145434524866949,0.6780048852078865],[0.8145434524866949,0.9693876191130083],[0.8145434524866949,0.6164275649959695],[0.8145434524866949,0.9398896904546514],[-0.5987242098300981,-0.6412780976870552],[-0.5987242098300981,-0.8204230953726874],[-0.5987242098300981,-1.0],[-0.5987242098300981,-0.9338614126208482],[-0.5987242098300981,-0.9194408484524002],[-0.5987242098300981,-0.8066373785761017],[-0.5987242098300981,-0.6787809853191064],[-0.5987242098300981,-0.7309336759874387],[-0.5987242098300981,-0.7693451030148502],[-0.5987242098300981,-0.8399717354989915],[-0.5987242098300981,-0.6234662568333559],[-0.5987242098300981,-0.7494190062017364],[-0.5987242098300981,-0.6695866810009917],[-0.5987242098300981,-0.8689415373571918],[-0.5987242098300981,-0.8404739182341255],[-0.5987242098300981,-0.6803575603185142],[-0.5987242098300981,-0.7475746882262588],[-0.5987242098300981,-0.8512306946847447],[-0.5987242098300981,-0.9227042874713532],[0.777572768452139,0.8609041021439034],[0.777572768452139,0.9817048550987124],[0.777572768452139,0.6449459663975541],[0.777572768452139,0.8902979450875566],[0.777572768452139,0.6627460257011338],[0.777572768452139,0.7143570443106514],[0.777572768452139,0.5991255174833026],[0.777572768452139,0.7202165682407217],[0.777572768452139,0.806457461714491],[0.777572768452139,0.9222310624961335],[0.777572768452139,0.7891212510565112],[0.777572768452139,0.8754749273835334],[0.777572768452139,0.7470559204816302],[0.777572768452139,0.6780048852078865],[0.777572768452139,0.9693876191130083],[0.777572768452139,0.6164275649959695],[0.777572768452139,0.9398896904546514],[-0.6412780976870552,-0.8204230953726874],[-0.6412780976870552,-1.0],[-0.6412780976870552,-0.9338614126208482],[-0.6412780976870552,-0.9194408484524002],[-0.6412780976870552,-0.8066373785761017],[-0.6412780976870552,-0.6787809853191064],[-0.6412780976870552,-0.7309336759874387],[-0.6412780976870552,-0.7693451030148502],[-0.6412780976870552,-0.8399717354989915],[-0.6412780976870552,-0.6234662568333559],[-0.6412780976870552,-0.7494190062017364],[-0.6412780976870552,-0.6695866810009917],[-0.6412780976870552,-0.8689415373571918],[-0.6412780976870552,-0.8404739182341255],[-0.6412780976870552,-0.6803575603185142],[-0.6412780976870552,-0.7475746882262588],[-0.6412780976870552,-0.8512306946847447],[-0.6412780976870552,-0.9227042874713532],[-0.8204230953726874,-1.0],[-0.8204230953726874,-0.9338614126208482],[-0.8204230953726874,-0.9194408484524002],[-0.8204230953726874,-0.8066373785761017],[-0.8204230953726874,-0.6787809853191064],[-0.8204230953726874,-0.7309336759874387],[-0.8204230953726874,-0.7693451030148502],[-0.8204230953726874,-0.8399717354989915],[-0.8204230953726874,-0.6234662568333559],[-0.8204230953726874,-0.7494190062017364],[-0.8204230953726874,-0.6695866810009917],[-0.8204230953726874,-0.8689415373571918],[-0.8204230953726874,-0.8404739182341255],[-0.8204230953726874,-0.6803575603185142],[-0.8204230953726874,-0.7475746882262588],[-0.8204230953726874,-0.8512306946847447],[-0.8204230953726874,-0.9227042874713532],[0.8609041021439034,0.9817048550987124],[0.8609041021439034,0.6449459663975541],[0.8609041021439034,0.8902979450875566],[0.8609041021439034,0.6627460257011338],[0.8609041021439034,0.7143570443106514],[0.8609041021439034,0.5991255174833026],[0.8609041021439034,0.7202165682407217],[0.8609041021439034,0.806457461714491],[0.8609041021439034,0.9222310624961335],[0.8609041021439034,0.7891212510565112],[0.8609041021439034,0.8754749273835334],[0.8609041021439034,0.7470559204816302],[0.8609041021439034,0.6780048852078865],[0.8609041021439034,0.9693876191130083],[0.8609041021439034,0.6164275649959695],[0.8609041021439034,0.9398896904546514],[0.9817048550987124,0.6449459663975541],[0.9817048550987124,0.8902979450875566],[0.9817048550987124,0.6627460257011338],[0.9817048550987124,0.7143570443106514],[0.9817048550987124,0.5991255174833026],[0.9817048550987124,0.7202165682407217],[0.9817048550987124,0.806457461714491],[0.9817048550987124,0.9222310624961335],[0.9817048550987124,0.7891212510565112],[0.9817048550987124,0.8754749273835334],[0.9817048550987124,0.7470559204816302],[0.9817048550987124,0.6780048852078865],[0.9817048550987124,0.9693876191130083],[0.9817048550987124,0.6164275649959695],[0.9817048550987124,0.9398896904546514],[0.6449459663975541,0.8902979450875566],[0.6449459663975541,0.6627460257011338],[0.6449459663975541,0.7143570443106514],[0.6449459663975541,0.5991255174833026],[0.6449459663975541,0.7202165682407217],[0.6449459663975541,0.806457461714491],[0.6449459663975541,0.9222310624961335],[0.6449459663975541,0.7891212510565112],[0.6449459663975541,0.8754749273835334],[0.6449459663975541,0.7470559204816302],[0.6449459663975541,0.6780048852078865],[0.6449459663975541,0.9693876191130083],[0.6449459663975541,0.6164275649959695],[0.6449459663975541,0.9398896904546514],[0.8902979450875566,0.6627460257011338],[0.8902979450875566,0.7143570443106514],[0.8902979450875566,0.5991255174833026],[0.8902979450875566,0.7202165682407217],[0.8902979450875566,0.806457461714491],[0.8902979450875566,0.9222310624961335],[0.8902979450875566,0.7891212510565112],[0.8902979450875566,0.8754749273835334],[0.8902979450875566,0.7470559204816302],[0.8902979450875566,0.6780048852078865],[0.8902979450875566,0.9693876191130083],[0.8902979450875566,0.6164275649959695],[0.8902979450875566,0.9398896904546514],[0.6627460257011338,0.7143570443106514],[0.6627460257011338,0.5991255174833026],[0.6627460257011338,0.7202165682407217],[0.6627460257011338,0.806457461714491],[0.6627460257011338,0.9222310624961335],[0.6627460257011338,0.7891212510565112],[0.6627460257011338,0.8754749273835334],[0.6627460257011338,0.7470559204816302],[0.6627460257011338,0.6780048852078865],[0.6627460257011338,0.9693876191130083],[0.6627460257011338,0.6164275649959695],[0.6627460257011338,0.9398896904546514],[0.7143570443106514,0.5991255174833026],[0.7143570443106514,0.7202165682407217],[0.7143570443106514,0.806457461714491],[0.7143570443106514,0.9222310624961335],[0.7143570443106514,0.7891212510565112],[0.7143570443106514,0.8754749273835334],[0.7143570443106514,0.7470559204816302],[0.7143570443106514,0.6780048852078865],[0.7143570443106514,0.9693876191130083],[0.7143570443106514,0.6164275649959695],[0.7143570443106514,0.9398896904546514],[0.5991255174833026,0.7202165682407217],[0.5991255174833026,0.806457461714491],[0.5991255174833026,0.9222310624961335],[0.5991255174833026,0.7891212510565112],[0.5991255174833026,0.8754749273835334],[0.5991255174833026,0.7470559204816302],[0.5991255174833026,0.6780048852078865],[0.5991255174833026,0.9693876191130083],[0.5991255174833026,0.6164275649959695],[0.5991255174833026,0.9398896904546514],[0.7202165682407217,0.806457461714491],[0.7202165682407217,0.9222310624961335],[0.7202165682407217,0.7891212510565112],[0.7202165682407217,0.8754749273835334],[0.7202165682407217,0.7470559204816302],[0.7202165682407217,0.6780048852078865],[0.7202165682407217,0.9693876191130083],[0.7202165682407217,0.6164275649959695],[0.7202165682407217,0.9398896904546514],[0.806457461714491,0.9222310624961335],[0.806457461714491,0.7891212510565112],[0.806457461714491,0.8754749273835334],[0.806457461714491,0.7470559204816302],[0.806457461714491,0.6780048852078865],[0.806457461714491,0.9693876191130083],[0.806457461714491,0.6164275649959695],[0.806457461714491,0.9398896904546514],[-1.0,-0.9338614126208482],[-1.0,-0.9194408484524002],[-1.0,-0.8066373785761017],[-1.0,-0.6787809853191064],[-1.0,-0.7309336759874387],[-1.0,-0.7693451030148502],[-1.0,-0.8399717354989915],[-1.0,-0.6234662568333559],[-1.0,-0.7494190062017364],[-1.0,-0.6695866810009917],[-1.0,-0.8689415373571918],[-1.0,-0.8404739182341255],[-1.0,-0.6803575603185142],[-1.0,-0.7475746882262588],[-1.0,-0.8512306946847447],[-1.0,-0.9227042874713532],[-0.9338614126208482,-0.9194408484524002],[-0.9338614126208482,-0.8066373785761017],[-0.9338614126208482,-0.6787809853191064],[-0.9338614126208482,-0.7309336759874387],[-0.9338614126208482,-0.7693451030148502],[-0.9338614126208482,-0.8399717354989915],[-0.9338614126208482,-0.6234662568333559],[-0.9338614126208482,-0.7494190062017364],[-0.9338614126208482,-0.6695866810009917],[-0.9338614126208482,-0.8689415373571918],[-0.9338614126208482,-0.8404739182341255],[-0.9338614126208482,-0.6803575603185142],[-0.9338614126208482,-0.7475746882262588],[-0.9338614126208482,-0.8512306946847447],[-0.9338614126208482,-0.9227042874713532],[0.9222310624961335,0.7891212510565112],[0.9222310624961335,0.8754749273835334],[0.9222310624961335,0.7470559204816302],[0.9222310624961335,0.6780048852078865],[0.9222310624961335,0.9693876191130083],[0.9222310624961335,0.6164275649959695],[0.9222310624961335,0.9398896904546514],[0.7891212510565112,0.8754749273835334],[0.7891212510565112,0.7470559204816302],[0.7891212510565112,0.6780048852078865],[0.7891212510565112,0.9693876191130083],[0.7891212510565112,0.6164275649959695],[0.7891212510565112,0.9398896904546514],[-0.9194408484524002,-0.8066373785761017],[-0.9194408484524002,-0.6787809853191064],[-0.9194408484524002,-0.7309336759874387],[-0.9194408484524002,-0.7693451030148502],[-0.9194408484524002,-0.8399717354989915],[-0.9194408484524002,-0.6234662568333559],[-0.9194408484524002,-0.7494190062017364],[-0.9194408484524002,-0.6695866810009917],[-0.9194408484524002,-0.8689415373571918],[-0.9194408484524002,-0.8404739182341255],[-0.9194408484524002,-0.6803575603185142],[-0.9194408484524002,-0.7475746882262588],[-0.9194408484524002,-0.8512306946847447],[-0.9194408484524002,-0.9227042874713532],[-0.8066373785761017,-0.6787809853191064],[-0.8066373785761017,-0.7309336759874387],[-0.8066373785761017,-0.7693451030148502],[-0.8066373785761017,-0.8399717354989915],[-0.8066373785761017,-0.6234662568333559],[-0.8066373785761017,-0.7494190062017364],[-0.8066373785761017,-0.6695866810009917],[-0.8066373785761017,-0.8689415373571918],[-0.8066373785761017,-0.8404739182341255],[-0.8066373785761017,-0.6803575603185142],[-0.8066373785761017,-0.7475746882262588],[-0.8066373785761017,-0.8512306946847447],[-0.8066373785761017,-0.9227042874713532],[-0.6787809853191064,-0.7309336759874387],[-0.6787809853191064,-0.7693451030148502],[-0.6787809853191064,-0.8399717354989915],[-0.6787809853191064,-0.6234662568333559],[-0.6787809853191064,-0.7494190062017364],[-0.6787809853191064,-0.6695866810009917],[-0.6787809853191064,-0.8689415373571918],[-0.6787809853191064,-0.8404739182341255],[-0.6787809853191064,-0.6803575603185142],[-0.6787809853191064,-0.7475746882262588],[-0.6787809853191064,-0.8512306946847447],[-0.6787809853191064,-0.9227042874713532],[-0.7309336759874387,-0.7693451030148502],[-0.7309336759874387,-0.8399717354989915],[-0.7309336759874387,-0.6234662568333559],[-0.7309336759874387,-0.7494190062017364],[-0.7309336759874387,-0.6695866810009917],[-0.7309336759874387,-0.8689415373571918],[-0.7309336759874387,-0.8404739182341255],[-0.7309336759874387,-0.6803575603185142],[-0.7309336759874387,-0.7475746882262588],[-0.7309336759874387,-0.8512306946847447],[-0.7309336759874387,-0.9227042874713532],[-0.7693451030148502,-0.8399717354989915],[-0.7693451030148502,-0.6234662568333559],[-0.7693451030148502,-0.7494190062017364],[-0.7693451030148502,-0.6695866810009917],[-0.7693451030148502,-0.8689415373571918],[-0.7693451030148502,-0.8404739182341255],[-0.7693451030148502,-0.6803575603185142],[-0.7693451030148502,-0.7475746882262588],[-0.7693451030148502,-0.8512306946847447],[-0.7693451030148502,-0.9227042874713532],[-0.8399717354989915,-0.6234662568333559],[-0.8399717354989915,-0.7494190062017364],[-0.8399717354989915,-0.6695866810009917],[-0.8399717354989915,-0.8689415373571918],[-0.8399717354989915,-0.8404739182341255],[-0.8399717354989915,-0.6803575603185142],[-0.8399717354989915,-0.7475746882262588],[-0.8399717354989915,-0.8512306946847447],[-0.8399717354989915,-0.9227042874713532],[-0.6234662568333559,-0.7494190062017364],[-0.6234662568333559,-0.6695866810009917],[-0.6234662568333559,-0.8689415373571918],[-0.6234662568333559,-0.8404739182341255],[-0.6234662568333559,-0.6803575603185142],[-0.6234662568333559,-0.7475746882262588],[-0.6234662568333559,-0.8512306946847447],[-0.6234662568333559,-0.9227042874713532],[-0.7494190062017364,-0.6695866810009917],[-0.7494190062017364,-0.8689415373571918],[-0.7494190062017364,-0.8404739182341255],[-0.7494190062017364,-0.6803575603185142],[-0.7494190062017364,-0.7475746882262588],[-0.7494190062017364,-0.8512306946847447],[-0.7494190062017364,-0.9227042874713532],[-0.6695866810009917,-0.8689415373571918],[-0.6695866810009917,-0.8404739182341255],[-0.6695866810009917,-0.6803575603185142],[-0.6695866810009917,-0.7475746882262588],[-0.6695866810009917,-0.8512306946847447],[-0.6695866810009917,-0.9227042874713532],[0.8754749273835334,0.7470559204816302],[0.8754749273835334,0.6780048852078865],[0.8754749273835334,0.9693876191130083],[0.8754749273835334,0.6164275649959695],[0.8754749273835334,0.9398896904546514],[0.7470559204816302,0.6780048852078865],[0.7470559204816302,0.9693876191130083],[0.7470559204816302,0.6164275649959695],[0.7470559204816302,0.9398896904546514],[0.6780048852078865,0.9693876191130083],[0.6780048852078865,0.6164275649959695],[0.6780048852078865,0.9398896904546514],[-0.8689415373571918,-0.8404739182341255],[-0.8689415373571918,-0.6803575603185142],[-0.8689415373571918,-0.7475746882262588],[-0.8689415373571918,-0.8512306946847447],[-0.8689415373571918,-0.9227042874713532],[0.9693876191130083,0.6164275649959695],[0.9693876191130083,0.9398896904546514],[0.6164275649959695,0.9398896904546514],[-0.8404739182341255,-0.6803575603185142],[-0.8404739182341255,-0.7475746882262588],[-0.8404739182341255,-0.8512306946847447],[-0.8404739182341255,-0.9227042874713532],[-0.6803575603185142,-0.7475746882262588],[-0.6803575603185142,-0.8512306946847447],[-0.6803575603185142,-0.9227042874713532],[-0.7475746882262588,-0.8512306946847447],[-0.7475746882262588,-0.9227042874713532],[-0.8512306946847447,-0.9227042874713532]]],[\"ys\",[[-0.9501085622692856,-0.6947218219606988],[-0.9501085622692856,-0.885039819778678],[-0.9501085622692856,-0.6678585658140882],[-0.9501085622692856,-0.9488803761519896],[-0.9501085622692856,-0.7198553219061727],[-0.9501085622692856,-0.8724455193995484],[-0.9501085622692856,-0.867520720076078],[-0.9501085622692856,-0.631355117449394],[-0.9501085622692856,-0.7005787901464902],[-0.9501085622692856,-0.8024051071292808],[-0.9501085622692856,-0.5692171020334486],[-0.9501085622692856,-0.7854724056345285],[-0.9501085622692856,-0.7609437034923148],[-0.9501085622692856,-0.598014341430854],[-0.9501085622692856,-0.5823459103262929],[-0.9501085622692856,-0.8564208474483058],[-0.9501085622692856,-0.7956774553948714],[-0.9501085622692856,-0.8403969237211399],[-0.9501085622692856,-0.727936345389953],[-0.9501085622692856,-0.6443693545650269],[0.7197435976808659,0.7519381357725082],[0.7197435976808659,0.6899947250254337],[0.7197435976808659,0.9587805023800715],[0.7197435976808659,0.7700336535369171],[0.7197435976808659,0.8103976089488751],[0.7197435976808659,0.9039622267390502],[0.7197435976808659,0.8929444636674563],[0.7197435976808659,0.9102907980159843],[0.7197435976808659,0.89120458433629],[0.7197435976808659,0.5870151932596329],[0.7197435976808659,0.5619165613413785],[0.7197435976808659,0.8232881939539625],[0.7197435976808659,0.8204408537344401],[0.7197435976808659,0.5972905877966665],[0.7197435976808659,0.7973900165273686],[0.7197435976808659,0.7200653035337246],[0.7197435976808659,0.7593921566295244],[0.7197435976808659,0.6822637650413409],[0.7197435976808659,0.6347307869515117],[0.7197435976808659,0.6184803966454371],[-0.6947218219606988,-0.885039819778678],[-0.6947218219606988,-0.6678585658140882],[-0.6947218219606988,-0.9488803761519896],[-0.6947218219606988,-0.7198553219061727],[-0.6947218219606988,-0.8724455193995484],[-0.6947218219606988,-0.867520720076078],[-0.6947218219606988,-0.631355117449394],[-0.6947218219606988,-0.7005787901464902],[-0.6947218219606988,-0.8024051071292808],[-0.6947218219606988,-0.5692171020334486],[-0.6947218219606988,-0.7854724056345285],[-0.6947218219606988,-0.7609437034923148],[-0.6947218219606988,-0.598014341430854],[-0.6947218219606988,-0.5823459103262929],[-0.6947218219606988,-0.8564208474483058],[-0.6947218219606988,-0.7956774553948714],[-0.6947218219606988,-0.8403969237211399],[-0.6947218219606988,-0.727936345389953],[-0.6947218219606988,-0.6443693545650269],[-0.885039819778678,-0.6678585658140882],[-0.885039819778678,-0.9488803761519896],[-0.885039819778678,-0.7198553219061727],[-0.885039819778678,-0.8724455193995484],[-0.885039819778678,-0.867520720076078],[-0.885039819778678,-0.631355117449394],[-0.885039819778678,-0.7005787901464902],[-0.885039819778678,-0.8024051071292808],[-0.885039819778678,-0.5692171020334486],[-0.885039819778678,-0.7854724056345285],[-0.885039819778678,-0.7609437034923148],[-0.885039819778678,-0.598014341430854],[-0.885039819778678,-0.5823459103262929],[-0.885039819778678,-0.8564208474483058],[-0.885039819778678,-0.7956774553948714],[-0.885039819778678,-0.8403969237211399],[-0.885039819778678,-0.727936345389953],[-0.885039819778678,-0.6443693545650269],[0.7519381357725082,0.6899947250254337],[0.7519381357725082,0.9587805023800715],[0.7519381357725082,0.7700336535369171],[0.7519381357725082,0.8103976089488751],[0.7519381357725082,0.9039622267390502],[0.7519381357725082,0.8929444636674563],[0.7519381357725082,0.9102907980159843],[0.7519381357725082,0.89120458433629],[0.7519381357725082,0.5870151932596329],[0.7519381357725082,0.5619165613413785],[0.7519381357725082,0.8232881939539625],[0.7519381357725082,0.8204408537344401],[0.7519381357725082,0.5972905877966665],[0.7519381357725082,0.7973900165273686],[0.7519381357725082,0.7200653035337246],[0.7519381357725082,0.7593921566295244],[0.7519381357725082,0.6822637650413409],[0.7519381357725082,0.6347307869515117],[0.7519381357725082,0.6184803966454371],[-0.6678585658140882,-0.9488803761519896],[-0.6678585658140882,-0.7198553219061727],[-0.6678585658140882,-0.8724455193995484],[-0.6678585658140882,-0.867520720076078],[-0.6678585658140882,-0.631355117449394],[-0.6678585658140882,-0.7005787901464902],[-0.6678585658140882,-0.8024051071292808],[-0.6678585658140882,-0.5692171020334486],[-0.6678585658140882,-0.7854724056345285],[-0.6678585658140882,-0.7609437034923148],[-0.6678585658140882,-0.598014341430854],[-0.6678585658140882,-0.5823459103262929],[-0.6678585658140882,-0.8564208474483058],[-0.6678585658140882,-0.7956774553948714],[-0.6678585658140882,-0.8403969237211399],[-0.6678585658140882,-0.727936345389953],[-0.6678585658140882,-0.6443693545650269],[0.6899947250254337,0.9587805023800715],[0.6899947250254337,0.7700336535369171],[0.6899947250254337,0.8103976089488751],[0.6899947250254337,0.9039622267390502],[0.6899947250254337,0.8929444636674563],[0.6899947250254337,0.9102907980159843],[0.6899947250254337,0.89120458433629],[0.6899947250254337,0.5870151932596329],[0.6899947250254337,0.5619165613413785],[0.6899947250254337,0.8232881939539625],[0.6899947250254337,0.8204408537344401],[0.6899947250254337,0.5972905877966665],[0.6899947250254337,0.7973900165273686],[0.6899947250254337,0.7200653035337246],[0.6899947250254337,0.7593921566295244],[0.6899947250254337,0.6822637650413409],[0.6899947250254337,0.6347307869515117],[0.6899947250254337,0.6184803966454371],[0.9587805023800715,0.7700336535369171],[0.9587805023800715,0.8103976089488751],[0.9587805023800715,0.9039622267390502],[0.9587805023800715,0.8929444636674563],[0.9587805023800715,0.9102907980159843],[0.9587805023800715,0.89120458433629],[0.9587805023800715,0.5870151932596329],[0.9587805023800715,0.5619165613413785],[0.9587805023800715,0.8232881939539625],[0.9587805023800715,0.8204408537344401],[0.9587805023800715,0.5972905877966665],[0.9587805023800715,0.7973900165273686],[0.9587805023800715,0.7200653035337246],[0.9587805023800715,0.7593921566295244],[0.9587805023800715,0.6822637650413409],[0.9587805023800715,0.6347307869515117],[0.9587805023800715,0.6184803966454371],[-0.9488803761519896,-0.7198553219061727],[-0.9488803761519896,-0.8724455193995484],[-0.9488803761519896,-0.867520720076078],[-0.9488803761519896,-0.631355117449394],[-0.9488803761519896,-0.7005787901464902],[-0.9488803761519896,-0.8024051071292808],[-0.9488803761519896,-0.5692171020334486],[-0.9488803761519896,-0.7854724056345285],[-0.9488803761519896,-0.7609437034923148],[-0.9488803761519896,-0.598014341430854],[-0.9488803761519896,-0.5823459103262929],[-0.9488803761519896,-0.8564208474483058],[-0.9488803761519896,-0.7956774553948714],[-0.9488803761519896,-0.8403969237211399],[-0.9488803761519896,-0.727936345389953],[-0.9488803761519896,-0.6443693545650269],[-0.7198553219061727,-0.8724455193995484],[-0.7198553219061727,-0.867520720076078],[-0.7198553219061727,-0.631355117449394],[-0.7198553219061727,-0.7005787901464902],[-0.7198553219061727,-0.8024051071292808],[-0.7198553219061727,-0.5692171020334486],[-0.7198553219061727,-0.7854724056345285],[-0.7198553219061727,-0.7609437034923148],[-0.7198553219061727,-0.598014341430854],[-0.7198553219061727,-0.5823459103262929],[-0.7198553219061727,-0.8564208474483058],[-0.7198553219061727,-0.7956774553948714],[-0.7198553219061727,-0.8403969237211399],[-0.7198553219061727,-0.727936345389953],[-0.7198553219061727,-0.6443693545650269],[-0.8724455193995484,-0.867520720076078],[-0.8724455193995484,-0.631355117449394],[-0.8724455193995484,-0.7005787901464902],[-0.8724455193995484,-0.8024051071292808],[-0.8724455193995484,-0.5692171020334486],[-0.8724455193995484,-0.7854724056345285],[-0.8724455193995484,-0.7609437034923148],[-0.8724455193995484,-0.598014341430854],[-0.8724455193995484,-0.5823459103262929],[-0.8724455193995484,-0.8564208474483058],[-0.8724455193995484,-0.7956774553948714],[-0.8724455193995484,-0.8403969237211399],[-0.8724455193995484,-0.727936345389953],[-0.8724455193995484,-0.6443693545650269],[-0.867520720076078,-0.631355117449394],[-0.867520720076078,-0.7005787901464902],[-0.867520720076078,-0.8024051071292808],[-0.867520720076078,-0.5692171020334486],[-0.867520720076078,-0.7854724056345285],[-0.867520720076078,-0.7609437034923148],[-0.867520720076078,-0.598014341430854],[-0.867520720076078,-0.5823459103262929],[-0.867520720076078,-0.8564208474483058],[-0.867520720076078,-0.7956774553948714],[-0.867520720076078,-0.8403969237211399],[-0.867520720076078,-0.727936345389953],[-0.867520720076078,-0.6443693545650269],[-0.631355117449394,-0.7005787901464902],[-0.631355117449394,-0.8024051071292808],[-0.631355117449394,-0.5692171020334486],[-0.631355117449394,-0.7854724056345285],[-0.631355117449394,-0.7609437034923148],[-0.631355117449394,-0.598014341430854],[-0.631355117449394,-0.5823459103262929],[-0.631355117449394,-0.8564208474483058],[-0.631355117449394,-0.7956774553948714],[-0.631355117449394,-0.8403969237211399],[-0.631355117449394,-0.727936345389953],[-0.631355117449394,-0.6443693545650269],[-0.7005787901464902,-0.8024051071292808],[-0.7005787901464902,-0.5692171020334486],[-0.7005787901464902,-0.7854724056345285],[-0.7005787901464902,-0.7609437034923148],[-0.7005787901464902,-0.598014341430854],[-0.7005787901464902,-0.5823459103262929],[-0.7005787901464902,-0.8564208474483058],[-0.7005787901464902,-0.7956774553948714],[-0.7005787901464902,-0.8403969237211399],[-0.7005787901464902,-0.727936345389953],[-0.7005787901464902,-0.6443693545650269],[-0.8024051071292808,-0.5692171020334486],[-0.8024051071292808,-0.7854724056345285],[-0.8024051071292808,-0.7609437034923148],[-0.8024051071292808,-0.598014341430854],[-0.8024051071292808,-0.5823459103262929],[-0.8024051071292808,-0.8564208474483058],[-0.8024051071292808,-0.7956774553948714],[-0.8024051071292808,-0.8403969237211399],[-0.8024051071292808,-0.727936345389953],[-0.8024051071292808,-0.6443693545650269],[-0.5692171020334486,-0.7854724056345285],[-0.5692171020334486,-0.7609437034923148],[-0.5692171020334486,-0.598014341430854],[-0.5692171020334486,-0.5823459103262929],[-0.5692171020334486,-0.8564208474483058],[-0.5692171020334486,-0.7956774553948714],[-0.5692171020334486,-0.8403969237211399],[-0.5692171020334486,-0.727936345389953],[-0.5692171020334486,-0.6443693545650269],[-0.7854724056345285,-0.7609437034923148],[-0.7854724056345285,-0.598014341430854],[-0.7854724056345285,-0.5823459103262929],[-0.7854724056345285,-0.8564208474483058],[-0.7854724056345285,-0.7956774553948714],[-0.7854724056345285,-0.8403969237211399],[-0.7854724056345285,-0.727936345389953],[-0.7854724056345285,-0.6443693545650269],[0.7700336535369171,0.8103976089488751],[0.7700336535369171,0.9039622267390502],[0.7700336535369171,0.8929444636674563],[0.7700336535369171,0.9102907980159843],[0.7700336535369171,0.89120458433629],[0.7700336535369171,0.5870151932596329],[0.7700336535369171,0.5619165613413785],[0.7700336535369171,0.8232881939539625],[0.7700336535369171,0.8204408537344401],[0.7700336535369171,0.5972905877966665],[0.7700336535369171,0.7973900165273686],[0.7700336535369171,0.7200653035337246],[0.7700336535369171,0.7593921566295244],[0.7700336535369171,0.6822637650413409],[0.7700336535369171,0.6347307869515117],[0.7700336535369171,0.6184803966454371],[0.8103976089488751,0.9039622267390502],[0.8103976089488751,0.8929444636674563],[0.8103976089488751,0.9102907980159843],[0.8103976089488751,0.89120458433629],[0.8103976089488751,0.5870151932596329],[0.8103976089488751,0.5619165613413785],[0.8103976089488751,0.8232881939539625],[0.8103976089488751,0.8204408537344401],[0.8103976089488751,0.5972905877966665],[0.8103976089488751,0.7973900165273686],[0.8103976089488751,0.7200653035337246],[0.8103976089488751,0.7593921566295244],[0.8103976089488751,0.6822637650413409],[0.8103976089488751,0.6347307869515117],[0.8103976089488751,0.6184803966454371],[-0.7609437034923148,-0.598014341430854],[-0.7609437034923148,-0.5823459103262929],[-0.7609437034923148,-0.8564208474483058],[-0.7609437034923148,-0.7956774553948714],[-0.7609437034923148,-0.8403969237211399],[-0.7609437034923148,-0.727936345389953],[-0.7609437034923148,-0.6443693545650269],[-0.598014341430854,-0.5823459103262929],[-0.598014341430854,-0.8564208474483058],[-0.598014341430854,-0.7956774553948714],[-0.598014341430854,-0.8403969237211399],[-0.598014341430854,-0.727936345389953],[-0.598014341430854,-0.6443693545650269],[0.9039622267390502,0.8929444636674563],[0.9039622267390502,0.9102907980159843],[0.9039622267390502,0.89120458433629],[0.9039622267390502,0.5870151932596329],[0.9039622267390502,0.5619165613413785],[0.9039622267390502,0.8232881939539625],[0.9039622267390502,0.8204408537344401],[0.9039622267390502,0.5972905877966665],[0.9039622267390502,0.7973900165273686],[0.9039622267390502,0.7200653035337246],[0.9039622267390502,0.7593921566295244],[0.9039622267390502,0.6822637650413409],[0.9039622267390502,0.6347307869515117],[0.9039622267390502,0.6184803966454371],[0.8929444636674563,0.9102907980159843],[0.8929444636674563,0.89120458433629],[0.8929444636674563,0.5870151932596329],[0.8929444636674563,0.5619165613413785],[0.8929444636674563,0.8232881939539625],[0.8929444636674563,0.8204408537344401],[0.8929444636674563,0.5972905877966665],[0.8929444636674563,0.7973900165273686],[0.8929444636674563,0.7200653035337246],[0.8929444636674563,0.7593921566295244],[0.8929444636674563,0.6822637650413409],[0.8929444636674563,0.6347307869515117],[0.8929444636674563,0.6184803966454371],[0.9102907980159843,0.89120458433629],[0.9102907980159843,0.5870151932596329],[0.9102907980159843,0.5619165613413785],[0.9102907980159843,0.8232881939539625],[0.9102907980159843,0.8204408537344401],[0.9102907980159843,0.5972905877966665],[0.9102907980159843,0.7973900165273686],[0.9102907980159843,0.7200653035337246],[0.9102907980159843,0.7593921566295244],[0.9102907980159843,0.6822637650413409],[0.9102907980159843,0.6347307869515117],[0.9102907980159843,0.6184803966454371],[0.89120458433629,0.5870151932596329],[0.89120458433629,0.5619165613413785],[0.89120458433629,0.8232881939539625],[0.89120458433629,0.8204408537344401],[0.89120458433629,0.5972905877966665],[0.89120458433629,0.7973900165273686],[0.89120458433629,0.7200653035337246],[0.89120458433629,0.7593921566295244],[0.89120458433629,0.6822637650413409],[0.89120458433629,0.6347307869515117],[0.89120458433629,0.6184803966454371],[0.5870151932596329,0.5619165613413785],[0.5870151932596329,0.8232881939539625],[0.5870151932596329,0.8204408537344401],[0.5870151932596329,0.5972905877966665],[0.5870151932596329,0.7973900165273686],[0.5870151932596329,0.7200653035337246],[0.5870151932596329,0.7593921566295244],[0.5870151932596329,0.6822637650413409],[0.5870151932596329,0.6347307869515117],[0.5870151932596329,0.6184803966454371],[0.5619165613413785,0.8232881939539625],[0.5619165613413785,0.8204408537344401],[0.5619165613413785,0.5972905877966665],[0.5619165613413785,0.7973900165273686],[0.5619165613413785,0.7200653035337246],[0.5619165613413785,0.7593921566295244],[0.5619165613413785,0.6822637650413409],[0.5619165613413785,0.6347307869515117],[0.5619165613413785,0.6184803966454371],[0.8232881939539625,0.8204408537344401],[0.8232881939539625,0.5972905877966665],[0.8232881939539625,0.7973900165273686],[0.8232881939539625,0.7200653035337246],[0.8232881939539625,0.7593921566295244],[0.8232881939539625,0.6822637650413409],[0.8232881939539625,0.6347307869515117],[0.8232881939539625,0.6184803966454371],[0.8204408537344401,0.5972905877966665],[0.8204408537344401,0.7973900165273686],[0.8204408537344401,0.7200653035337246],[0.8204408537344401,0.7593921566295244],[0.8204408537344401,0.6822637650413409],[0.8204408537344401,0.6347307869515117],[0.8204408537344401,0.6184803966454371],[0.5972905877966665,0.7973900165273686],[0.5972905877966665,0.7200653035337246],[0.5972905877966665,0.7593921566295244],[0.5972905877966665,0.6822637650413409],[0.5972905877966665,0.6347307869515117],[0.5972905877966665,0.6184803966454371],[-0.5823459103262929,-0.8564208474483058],[-0.5823459103262929,-0.7956774553948714],[-0.5823459103262929,-0.8403969237211399],[-0.5823459103262929,-0.727936345389953],[-0.5823459103262929,-0.6443693545650269],[-0.8564208474483058,-0.7956774553948714],[-0.8564208474483058,-0.8403969237211399],[-0.8564208474483058,-0.727936345389953],[-0.8564208474483058,-0.6443693545650269],[-0.7956774553948714,-0.8403969237211399],[-0.7956774553948714,-0.727936345389953],[-0.7956774553948714,-0.6443693545650269],[0.7973900165273686,0.7200653035337246],[0.7973900165273686,0.7593921566295244],[0.7973900165273686,0.6822637650413409],[0.7973900165273686,0.6347307869515117],[0.7973900165273686,0.6184803966454371],[-0.8403969237211399,-0.727936345389953],[-0.8403969237211399,-0.6443693545650269],[-0.727936345389953,-0.6443693545650269],[0.7200653035337246,0.7593921566295244],[0.7200653035337246,0.6822637650413409],[0.7200653035337246,0.6347307869515117],[0.7200653035337246,0.6184803966454371],[0.7593921566295244,0.6822637650413409],[0.7593921566295244,0.6347307869515117],[0.7593921566295244,0.6184803966454371],[0.6822637650413409,0.6347307869515117],[0.6822637650413409,0.6184803966454371],[0.6347307869515117,0.6184803966454371]]],[\"_u\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,30,30,30,30,30,30,31,31,31,31,31,32,32,32,32,33,33,33,34,34,34,34,34,35,35,36,37,37,37,37,38,38,38,40,40,41]],[\"_v\",[3,4,6,9,10,11,12,13,14,15,16,17,20,21,31,32,33,35,36,39,5,7,8,18,19,22,23,24,25,26,27,28,29,30,34,37,38,40,41,42,4,6,9,10,11,12,13,14,15,16,17,20,21,31,32,33,35,36,39,6,9,10,11,12,13,14,15,16,17,20,21,31,32,33,35,36,39,7,8,18,19,22,23,24,25,26,27,28,29,30,34,37,38,40,41,42,9,10,11,12,13,14,15,16,17,20,21,31,32,33,35,36,39,8,18,19,22,23,24,25,26,27,28,29,30,34,37,38,40,41,42,18,19,22,23,24,25,26,27,28,29,30,34,37,38,40,41,42,10,11,12,13,14,15,16,17,20,21,31,32,33,35,36,39,11,12,13,14,15,16,17,20,21,31,32,33,35,36,39,12,13,14,15,16,17,20,21,31,32,33,35,36,39,13,14,15,16,17,20,21,31,32,33,35,36,39,14,15,16,17,20,21,31,32,33,35,36,39,15,16,17,20,21,31,32,33,35,36,39,16,17,20,21,31,32,33,35,36,39,17,20,21,31,32,33,35,36,39,20,21,31,32,33,35,36,39,19,22,23,24,25,26,27,28,29,30,34,37,38,40,41,42,22,23,24,25,26,27,28,29,30,34,37,38,40,41,42,21,31,32,33,35,36,39,31,32,33,35,36,39,23,24,25,26,27,28,29,30,34,37,38,40,41,42,24,25,26,27,28,29,30,34,37,38,40,41,42,25,26,27,28,29,30,34,37,38,40,41,42,26,27,28,29,30,34,37,38,40,41,42,27,28,29,30,34,37,38,40,41,42,28,29,30,34,37,38,40,41,42,29,30,34,37,38,40,41,42,30,34,37,38,40,41,42,34,37,38,40,41,42,32,33,35,36,39,33,35,36,39,35,36,39,37,38,40,41,42,36,39,39,38,40,41,42,40,41,42,41,42,42]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,1,1,1,1,1,1,1,1,1,7,7,1,1,1,1,1,1,1,6,1,1,1,1,1,1,1,6,1,1,1,1,1,1,6,1,1,1,1,5,1,1,1,1,5,1,1,1,5,1,1,1,1,6,1,1,1,1,1,1,1,1,1,6,1,1,1,1,6,1,1,1,1,1,1,1,5,5,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,1,1,1,1,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,1,1,1,1,1,1,6,1,1,1,5,1,1,1,1,1,1,5,1,5,1,1,1,1,1,5,1,1,1,5,1,1,1,1,5,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,5,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,7,1,1,1,1,1,1,1,1,1,1,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,7,1,1,1,7,1,1,1,1,1,1,1,7,1,1,1,7,1,1,1,1,1,1,1,1,1,1,7,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,5,1,1,1,1,1,1,1,5,5,1,1,1,1,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5]],[\"_edge_alpha\",[0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,1.0,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.5,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,1.0,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,1.0,1.0,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.5,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p20351\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p20352\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p20347\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p20348\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p20349\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p20364\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p20355\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p20356\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p20357\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.7382036372926796,-0.9413986273547786,0.8858815344437709,0.8145434524866949,-0.5987242098300981,0.777572768452139,-0.6412780976870552,-0.8204230953726874,0.8609041021439034,0.9817048550987124,0.6449459663975541,0.8902979450875566,0.6627460257011338,0.7143570443106514,0.5991255174833026,0.7202165682407217,0.806457461714491,-1.0,-0.9338614126208482,0.9222310624961335,0.7891212510565112,-0.9194408484524002,-0.8066373785761017,-0.6787809853191064,-0.7309336759874387,-0.7693451030148502,-0.8399717354989915,-0.6234662568333559,-0.7494190062017364,-0.6695866810009917,0.8754749273835334,0.7470559204816302,0.6780048852078865,-0.8689415373571918,0.9693876191130083,0.6164275649959695,-0.8404739182341255,-0.6803575603185142,0.9398896904546514,-0.7475746882262588,-0.8512306946847447,-0.9227042874713532]],[\"ys\",[-0.9501085622692856,0.7197435976808659,-0.6947218219606988,-0.885039819778678,0.7519381357725082,-0.6678585658140882,0.6899947250254337,0.9587805023800715,-0.9488803761519896,-0.7198553219061727,-0.8724455193995484,-0.867520720076078,-0.631355117449394,-0.7005787901464902,-0.8024051071292808,-0.5692171020334486,-0.7854724056345285,0.7700336535369171,0.8103976089488751,-0.7609437034923148,-0.598014341430854,0.9039622267390502,0.8929444636674563,0.9102907980159843,0.89120458433629,0.5870151932596329,0.5619165613413785,0.8232881939539625,0.8204408537344401,0.5972905877966665,-0.5823459103262929,-0.8564208474483058,-0.7956774553948714,0.7973900165273686,-0.8403969237211399,-0.727936345389953,0.7200653035337246,0.7593921566295244,-0.6443693545650269,0.6822637650413409,0.6347307869515117,0.6184803966454371]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[0,15,14,2,13,11,5,0,0,6,10,1,12,12,9,0,1,0,7,14,11,0,8,16,8,4,3,5,16,0,0,2,10,15,0,9,7,13,6,0,3,3]],[\"gender\",[\"w\",\"w\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"m\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"m\",\"m\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\",\"m\"]],[\"grade\",[{\"type\":\"number\",\"value\":\"nan\"},4.0,3.0,1.0,3.0,2.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},3.0,1.0,1.0,2.0,2.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,3.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,4.0,4.0,2.0,2.0,3.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},1.0,1.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,4.0,3.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,2.0]],[\"hours\",[5,6,5,4,5,4,5,4,6,5,4,4,4,4,4,9,4,6,6,5,4,6,6,6,6,4,4,5,6,9,9,4,4,6,10,4,6,5,5,11,4,4]],[\"status\",[\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\"]],[\"_colormap\",[\"rgb(42, 209, 2)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(217, 213, 145)\",\"rgb(42, 209, 2)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(42, 209, 2)\",\"rgb(206, 110, 141)\",\"rgb(217, 213, 145)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(42, 209, 2)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(42, 209, 2)\",\"rgb(42, 209, 2)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(42, 209, 2)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\",\"rgb(42, 209, 2)\",\"rgb(206, 110, 141)\",\"rgb(206, 110, 141)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p20365\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p20366\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p20361\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p20362\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p20363\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p20306\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p20329\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p20330\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p20331\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p20332\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p20333\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p20353\",\"attributes\":{\"renderers\":[{\"id\":\"p20350\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p20367\",\"attributes\":{\"renderers\":[{\"id\":\"p20364\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p20322\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p20323\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p20324\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p20325\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p20315\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p20316\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p20317\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p20318\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p20321\",\"attributes\":{\"axis\":{\"id\":\"p20315\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p20328\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p20322\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"6ee20784-6531-456f-b3df-e64185177798\",\"roots\":{\"p20298\":\"c87f25cd-95d3-48dd-9af0-86c9d83eaeb9\"},\"root_ids\":[\"p20298\"],\"notebook_comms_target\":\"p21114\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p20298"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"status\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "182a1032",
   "metadata": {},
   "source": [
    "Note that it is very important that the agents get assigned to classrooms before getting assigned to schools.\n",
    "This means that the order of the creation of the locations is important and, hence, the order of the location classes given to the `location_classes` argument.\n",
    "\n",
    "If we build schools before classrooms, the above method does not work the way intended:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 93,
   "id": "6092e278",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"c86ddd43-8b6d-4ca6-918f-940a4e56896a\" data-root-id=\"p21210\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"9201e596-b8f9-4a92-af93-3ba047b65574\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p21210\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p21212\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p21211\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p21223\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p21225\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p21217\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p21262\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p21253\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p21254\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p21255\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.20235940578143155,0.5672489509809674],[0.20235940578143155,0.4382738167648234],[0.20235940578143155,0.7102431643533289],[0.20235940578143155,0.39821536268870045],[0.20235940578143155,0.12479464271661882],[0.20235940578143155,0.4566643404167408],[0.20235940578143155,0.6403635649135958],[0.20235940578143155,0.02428790436313911],[0.20235940578143155,-0.14242397060771134],[0.20235940578143155,0.04269912892614062],[0.20235940578143155,0.3053317962675701],[0.20235940578143155,0.6245533942182199],[0.20235940578143155,0.09048024510621697],[0.20235940578143155,-0.15235843482148012],[0.20235940578143155,0.18403609568116186],[0.20235940578143155,0.7589622183053982],[0.20235940578143155,-0.24313748033084936],[0.20235940578143155,0.27533398482638866],[0.20235940578143155,0.824480641309177],[0.20235940578143155,0.41544307943669256],[0.20235940578143155,0.4896134739616439],[0.20235940578143155,0.5457022511095821],[-0.199331563256417,-0.15919634162338936],[-0.199331563256417,-0.47083684815535076],[-0.199331563256417,-0.32155149597585153],[-0.199331563256417,-0.6491887765278649],[-0.199331563256417,-0.6573464626933272],[-0.199331563256417,-0.2676369943130887],[-0.199331563256417,-0.7747280035822112],[-0.199331563256417,-0.8078901548934632],[-0.199331563256417,-0.5791327712371521],[-0.199331563256417,0.0747653032452827],[-0.199331563256417,-0.48633485595751885],[-0.199331563256417,-0.4103005899884604],[-0.199331563256417,-0.15235843482148012],[-0.199331563256417,0.005632218781306183],[-0.199331563256417,-0.5483195903161062],[-0.199331563256417,-0.24313748033084936],[-0.199331563256417,-0.7227821798435221],[-0.199331563256417,0.10431294233008484],[-0.199331563256417,-0.3308939104703908],[-0.199331563256417,-0.38040750189005984],[0.5672489509809674,0.4382738167648234],[0.5672489509809674,0.7102431643533289],[0.5672489509809674,0.39821536268870045],[0.5672489509809674,0.12479464271661882],[0.5672489509809674,0.4566643404167408],[0.5672489509809674,0.6403635649135958],[0.5672489509809674,0.02428790436313911],[0.5672489509809674,-0.14242397060771134],[0.5672489509809674,0.04269912892614062],[0.5672489509809674,0.3053317962675701],[0.5672489509809674,0.6245533942182199],[0.5672489509809674,0.09048024510621697],[0.5672489509809674,0.18403609568116186],[0.5672489509809674,0.7589622183053982],[0.5672489509809674,0.27533398482638866],[0.5672489509809674,0.824480641309177],[0.5672489509809674,0.41544307943669256],[0.5672489509809674,0.4896134739616439],[0.5672489509809674,0.5457022511095821],[-0.15919634162338936,-0.47083684815535076],[-0.15919634162338936,-0.32155149597585153],[-0.15919634162338936,-0.6491887765278649],[-0.15919634162338936,-0.6573464626933272],[-0.15919634162338936,-0.2676369943130887],[-0.15919634162338936,-0.7747280035822112],[-0.15919634162338936,-0.8078901548934632],[-0.15919634162338936,-0.5791327712371521],[-0.15919634162338936,0.12479464271661882],[-0.15919634162338936,0.0747653032452827],[-0.15919634162338936,-0.48633485595751885],[-0.15919634162338936,-0.4103005899884604],[-0.15919634162338936,-0.15235843482148012],[-0.15919634162338936,0.005632218781306183],[-0.15919634162338936,-0.5483195903161062],[-0.15919634162338936,-0.24313748033084936],[-0.15919634162338936,-0.7227821798435221],[-0.15919634162338936,0.10431294233008484],[-0.15919634162338936,-0.3308939104703908],[-0.15919634162338936,-0.38040750189005984],[0.4382738167648234,0.7102431643533289],[0.4382738167648234,0.39821536268870045],[0.4382738167648234,0.12479464271661882],[0.4382738167648234,0.4566643404167408],[0.4382738167648234,0.6403635649135958],[0.4382738167648234,0.02428790436313911],[0.4382738167648234,-0.14242397060771134],[0.4382738167648234,0.04269912892614062],[0.4382738167648234,0.3053317962675701],[0.4382738167648234,0.6245533942182199],[0.4382738167648234,0.09048024510621697],[0.4382738167648234,0.18403609568116186],[0.4382738167648234,0.7589622183053982],[0.4382738167648234,0.27533398482638866],[0.4382738167648234,0.824480641309177],[0.4382738167648234,0.41544307943669256],[0.4382738167648234,0.10431294233008484],[0.4382738167648234,0.4896134739616439],[0.4382738167648234,0.5457022511095821],[-0.47083684815535076,-0.32155149597585153],[-0.47083684815535076,-0.6491887765278649],[-0.47083684815535076,-0.6573464626933272],[-0.47083684815535076,-0.2676369943130887],[-0.47083684815535076,-0.7747280035822112],[-0.47083684815535076,-0.8078901548934632],[-0.47083684815535076,-0.5791327712371521],[-0.47083684815535076,0.0747653032452827],[-0.47083684815535076,-0.48633485595751885],[-0.47083684815535076,-0.4103005899884604],[-0.47083684815535076,-0.15235843482148012],[-0.47083684815535076,0.005632218781306183],[-0.47083684815535076,-0.5483195903161062],[-0.47083684815535076,-0.24313748033084936],[-0.47083684815535076,-0.7227821798435221],[-0.47083684815535076,0.10431294233008484],[-0.47083684815535076,-0.3308939104703908],[-0.47083684815535076,-0.38040750189005984],[-0.32155149597585153,-0.6491887765278649],[-0.32155149597585153,-0.6573464626933272],[-0.32155149597585153,-0.2676369943130887],[-0.32155149597585153,-0.7747280035822112],[-0.32155149597585153,-0.8078901548934632],[-0.32155149597585153,-0.5791327712371521],[-0.32155149597585153,0.0747653032452827],[-0.32155149597585153,-0.48633485595751885],[-0.32155149597585153,-0.4103005899884604],[-0.32155149597585153,-0.15235843482148012],[-0.32155149597585153,0.005632218781306183],[-0.32155149597585153,-0.5483195903161062],[-0.32155149597585153,-0.24313748033084936],[-0.32155149597585153,-0.7227821798435221],[-0.32155149597585153,0.10431294233008484],[-0.32155149597585153,-0.3308939104703908],[-0.32155149597585153,-0.38040750189005984],[-0.6491887765278649,-0.6573464626933272],[-0.6491887765278649,-0.2676369943130887],[-0.6491887765278649,-0.7747280035822112],[-0.6491887765278649,-0.8078901548934632],[-0.6491887765278649,-0.5791327712371521],[-0.6491887765278649,0.0747653032452827],[-0.6491887765278649,-0.48633485595751885],[-0.6491887765278649,-0.4103005899884604],[-0.6491887765278649,-0.15235843482148012],[-0.6491887765278649,0.005632218781306183],[-0.6491887765278649,-0.5483195903161062],[-0.6491887765278649,-0.24313748033084936],[-0.6491887765278649,-0.7227821798435221],[-0.6491887765278649,0.10431294233008484],[-0.6491887765278649,-0.3308939104703908],[-0.6491887765278649,-0.38040750189005984],[-0.6573464626933272,-0.2676369943130887],[-0.6573464626933272,-0.7747280035822112],[-0.6573464626933272,-0.8078901548934632],[-0.6573464626933272,-0.5791327712371521],[-0.6573464626933272,-0.14242397060771134],[-0.6573464626933272,0.0747653032452827],[-0.6573464626933272,-0.48633485595751885],[-0.6573464626933272,-0.4103005899884604],[-0.6573464626933272,-0.15235843482148012],[-0.6573464626933272,0.005632218781306183],[-0.6573464626933272,-0.5483195903161062],[-0.6573464626933272,-0.24313748033084936],[-0.6573464626933272,-0.7227821798435221],[-0.6573464626933272,0.10431294233008484],[-0.6573464626933272,-0.3308939104703908],[-0.6573464626933272,-0.38040750189005984],[0.7102431643533289,0.39821536268870045],[0.7102431643533289,0.12479464271661882],[0.7102431643533289,0.4566643404167408],[0.7102431643533289,0.6403635649135958],[0.7102431643533289,0.02428790436313911],[0.7102431643533289,-0.14242397060771134],[0.7102431643533289,0.04269912892614062],[0.7102431643533289,0.3053317962675701],[0.7102431643533289,0.6245533942182199],[0.7102431643533289,0.09048024510621697],[0.7102431643533289,0.18403609568116186],[0.7102431643533289,0.7589622183053982],[0.7102431643533289,0.27533398482638866],[0.7102431643533289,0.824480641309177],[0.7102431643533289,0.41544307943669256],[0.7102431643533289,0.4896134739616439],[0.7102431643533289,0.5457022511095821],[-0.2676369943130887,-0.7747280035822112],[-0.2676369943130887,-0.8078901548934632],[-0.2676369943130887,-0.5791327712371521],[-0.2676369943130887,0.12479464271661882],[-0.2676369943130887,0.0747653032452827],[-0.2676369943130887,-0.48633485595751885],[-0.2676369943130887,-0.4103005899884604],[-0.2676369943130887,-0.15235843482148012],[-0.2676369943130887,0.005632218781306183],[-0.2676369943130887,-0.5483195903161062],[-0.2676369943130887,-0.24313748033084936],[-0.2676369943130887,-0.7227821798435221],[-0.2676369943130887,0.10431294233008484],[-0.2676369943130887,-0.3308939104703908],[-0.2676369943130887,-0.38040750189005984],[-0.7747280035822112,-0.8078901548934632],[-0.7747280035822112,-0.5791327712371521],[-0.7747280035822112,0.0747653032452827],[-0.7747280035822112,-0.48633485595751885],[-0.7747280035822112,-0.4103005899884604],[-0.7747280035822112,-0.15235843482148012],[-0.7747280035822112,0.005632218781306183],[-0.7747280035822112,-0.5483195903161062],[-0.7747280035822112,-0.24313748033084936],[-0.7747280035822112,-0.7227821798435221],[-0.7747280035822112,0.10431294233008484],[-0.7747280035822112,-0.3308939104703908],[-0.7747280035822112,-0.38040750189005984],[0.39821536268870045,0.12479464271661882],[0.39821536268870045,0.4566643404167408],[0.39821536268870045,0.6403635649135958],[0.39821536268870045,0.02428790436313911],[0.39821536268870045,-0.14242397060771134],[0.39821536268870045,0.0747653032452827],[0.39821536268870045,0.04269912892614062],[0.39821536268870045,0.3053317962675701],[0.39821536268870045,0.6245533942182199],[0.39821536268870045,0.09048024510621697],[0.39821536268870045,0.18403609568116186],[0.39821536268870045,0.005632218781306183],[0.39821536268870045,0.7589622183053982],[0.39821536268870045,0.27533398482638866],[0.39821536268870045,0.824480641309177],[0.39821536268870045,0.41544307943669256],[0.39821536268870045,0.4896134739616439],[0.39821536268870045,0.5457022511095821],[-0.8078901548934632,-0.5791327712371521],[-0.8078901548934632,0.0747653032452827],[-0.8078901548934632,-0.48633485595751885],[-0.8078901548934632,-0.4103005899884604],[-0.8078901548934632,-0.15235843482148012],[-0.8078901548934632,0.005632218781306183],[-0.8078901548934632,-0.5483195903161062],[-0.8078901548934632,-0.24313748033084936],[-0.8078901548934632,-0.7227821798435221],[-0.8078901548934632,0.10431294233008484],[-0.8078901548934632,-0.3308939104703908],[-0.8078901548934632,-0.38040750189005984],[-0.5791327712371521,0.0747653032452827],[-0.5791327712371521,-0.48633485595751885],[-0.5791327712371521,-0.4103005899884604],[-0.5791327712371521,-0.15235843482148012],[-0.5791327712371521,0.005632218781306183],[-0.5791327712371521,-0.5483195903161062],[-0.5791327712371521,-0.24313748033084936],[-0.5791327712371521,-0.7227821798435221],[-0.5791327712371521,0.10431294233008484],[-0.5791327712371521,-0.3308939104703908],[-0.5791327712371521,-0.38040750189005984],[0.12479464271661882,0.4566643404167408],[0.12479464271661882,0.6403635649135958],[0.12479464271661882,0.02428790436313911],[0.12479464271661882,-0.14242397060771134],[0.12479464271661882,-0.4103005899884604],[0.12479464271661882,0.04269912892614062],[0.12479464271661882,0.3053317962675701],[0.12479464271661882,0.6245533942182199],[0.12479464271661882,0.09048024510621697],[0.12479464271661882,0.18403609568116186],[0.12479464271661882,0.7589622183053982],[0.12479464271661882,0.27533398482638866],[0.12479464271661882,0.824480641309177],[0.12479464271661882,0.41544307943669256],[0.12479464271661882,0.4896134739616439],[0.12479464271661882,0.5457022511095821],[0.4566643404167408,0.6403635649135958],[0.4566643404167408,0.02428790436313911],[0.4566643404167408,-0.14242397060771134],[0.4566643404167408,0.04269912892614062],[0.4566643404167408,0.3053317962675701],[0.4566643404167408,0.6245533942182199],[0.4566643404167408,0.09048024510621697],[0.4566643404167408,0.18403609568116186],[0.4566643404167408,0.7589622183053982],[0.4566643404167408,0.27533398482638866],[0.4566643404167408,0.824480641309177],[0.4566643404167408,0.41544307943669256],[0.4566643404167408,0.4896134739616439],[0.4566643404167408,0.5457022511095821],[0.6403635649135958,0.02428790436313911],[0.6403635649135958,-0.14242397060771134],[0.6403635649135958,0.04269912892614062],[0.6403635649135958,0.3053317962675701],[0.6403635649135958,0.6245533942182199],[0.6403635649135958,0.09048024510621697],[0.6403635649135958,0.18403609568116186],[0.6403635649135958,0.7589622183053982],[0.6403635649135958,0.27533398482638866],[0.6403635649135958,0.824480641309177],[0.6403635649135958,0.41544307943669256],[0.6403635649135958,0.10431294233008484],[0.6403635649135958,0.4896134739616439],[0.6403635649135958,0.5457022511095821],[0.02428790436313911,-0.14242397060771134],[0.02428790436313911,0.04269912892614062],[0.02428790436313911,0.3053317962675701],[0.02428790436313911,0.6245533942182199],[0.02428790436313911,0.09048024510621697],[0.02428790436313911,0.18403609568116186],[0.02428790436313911,0.7589622183053982],[0.02428790436313911,0.27533398482638866],[0.02428790436313911,0.824480641309177],[0.02428790436313911,0.41544307943669256],[0.02428790436313911,-0.3308939104703908],[0.02428790436313911,0.4896134739616439],[0.02428790436313911,0.5457022511095821],[-0.14242397060771134,-0.48633485595751885],[-0.14242397060771134,0.04269912892614062],[-0.14242397060771134,0.3053317962675701],[-0.14242397060771134,0.6245533942182199],[-0.14242397060771134,0.09048024510621697],[-0.14242397060771134,0.18403609568116186],[-0.14242397060771134,0.7589622183053982],[-0.14242397060771134,-0.5483195903161062],[-0.14242397060771134,0.27533398482638866],[-0.14242397060771134,0.824480641309177],[-0.14242397060771134,0.41544307943669256],[-0.14242397060771134,0.4896134739616439],[-0.14242397060771134,0.5457022511095821],[0.0747653032452827,-0.48633485595751885],[0.0747653032452827,-0.4103005899884604],[0.0747653032452827,-0.15235843482148012],[0.0747653032452827,0.005632218781306183],[0.0747653032452827,-0.5483195903161062],[0.0747653032452827,-0.24313748033084936],[0.0747653032452827,-0.7227821798435221],[0.0747653032452827,0.10431294233008484],[0.0747653032452827,-0.3308939104703908],[0.0747653032452827,0.4896134739616439],[0.0747653032452827,-0.38040750189005984],[-0.48633485595751885,-0.4103005899884604],[-0.48633485595751885,-0.15235843482148012],[-0.48633485595751885,0.005632218781306183],[-0.48633485595751885,-0.5483195903161062],[-0.48633485595751885,-0.24313748033084936],[-0.48633485595751885,-0.7227821798435221],[-0.48633485595751885,0.10431294233008484],[-0.48633485595751885,-0.3308939104703908],[-0.48633485595751885,-0.38040750189005984],[-0.4103005899884604,-0.15235843482148012],[-0.4103005899884604,0.005632218781306183],[-0.4103005899884604,-0.5483195903161062],[-0.4103005899884604,-0.24313748033084936],[-0.4103005899884604,-0.7227821798435221],[-0.4103005899884604,0.10431294233008484],[-0.4103005899884604,-0.3308939104703908],[-0.4103005899884604,-0.38040750189005984],[0.04269912892614062,0.3053317962675701],[0.04269912892614062,0.6245533942182199],[0.04269912892614062,0.09048024510621697],[0.04269912892614062,0.18403609568116186],[0.04269912892614062,0.7589622183053982],[0.04269912892614062,0.27533398482638866],[0.04269912892614062,0.824480641309177],[0.04269912892614062,0.41544307943669256],[0.04269912892614062,-0.3308939104703908],[0.04269912892614062,0.4896134739616439],[0.04269912892614062,0.5457022511095821],[0.3053317962675701,0.6245533942182199],[0.3053317962675701,0.09048024510621697],[0.3053317962675701,0.18403609568116186],[0.3053317962675701,0.7589622183053982],[0.3053317962675701,0.27533398482638866],[0.3053317962675701,0.824480641309177],[0.3053317962675701,0.41544307943669256],[0.3053317962675701,0.4896134739616439],[0.3053317962675701,0.5457022511095821],[0.6245533942182199,0.09048024510621697],[0.6245533942182199,0.18403609568116186],[0.6245533942182199,0.7589622183053982],[0.6245533942182199,0.27533398482638866],[0.6245533942182199,0.824480641309177],[0.6245533942182199,0.41544307943669256],[0.6245533942182199,0.4896134739616439],[0.6245533942182199,0.5457022511095821],[0.09048024510621697,-0.15235843482148012],[0.09048024510621697,0.18403609568116186],[0.09048024510621697,0.7589622183053982],[0.09048024510621697,-0.24313748033084936],[0.09048024510621697,0.27533398482638866],[0.09048024510621697,0.824480641309177],[0.09048024510621697,0.41544307943669256],[0.09048024510621697,0.4896134739616439],[0.09048024510621697,0.5457022511095821],[-0.15235843482148012,0.005632218781306183],[-0.15235843482148012,-0.5483195903161062],[-0.15235843482148012,-0.24313748033084936],[-0.15235843482148012,-0.7227821798435221],[-0.15235843482148012,0.10431294233008484],[-0.15235843482148012,-0.3308939104703908],[-0.15235843482148012,-0.38040750189005984],[0.18403609568116186,0.7589622183053982],[0.18403609568116186,0.27533398482638866],[0.18403609568116186,0.824480641309177],[0.18403609568116186,0.41544307943669256],[0.18403609568116186,-0.3308939104703908],[0.18403609568116186,0.4896134739616439],[0.18403609568116186,0.5457022511095821],[0.005632218781306183,-0.5483195903161062],[0.005632218781306183,-0.24313748033084936],[0.005632218781306183,-0.7227821798435221],[0.005632218781306183,0.10431294233008484],[0.005632218781306183,-0.3308939104703908],[0.005632218781306183,0.4896134739616439],[0.005632218781306183,-0.38040750189005984],[0.7589622183053982,0.27533398482638866],[0.7589622183053982,0.824480641309177],[0.7589622183053982,0.41544307943669256],[0.7589622183053982,0.4896134739616439],[0.7589622183053982,0.5457022511095821],[-0.5483195903161062,-0.24313748033084936],[-0.5483195903161062,-0.7227821798435221],[-0.5483195903161062,0.10431294233008484],[-0.5483195903161062,-0.3308939104703908],[-0.5483195903161062,-0.38040750189005984],[-0.24313748033084936,-0.7227821798435221],[-0.24313748033084936,0.10431294233008484],[-0.24313748033084936,-0.3308939104703908],[-0.24313748033084936,-0.38040750189005984],[0.27533398482638866,0.824480641309177],[0.27533398482638866,0.41544307943669256],[0.27533398482638866,0.4896134739616439],[0.27533398482638866,0.5457022511095821],[0.824480641309177,0.41544307943669256],[0.824480641309177,0.4896134739616439],[0.824480641309177,0.5457022511095821],[-0.7227821798435221,0.10431294233008484],[-0.7227821798435221,-0.3308939104703908],[-0.7227821798435221,-0.38040750189005984],[0.41544307943669256,0.4896134739616439],[0.41544307943669256,0.5457022511095821],[0.10431294233008484,-0.3308939104703908],[0.10431294233008484,0.5457022511095821],[0.10431294233008484,-0.38040750189005984],[-0.3308939104703908,-0.38040750189005984],[0.4896134739616439,0.5457022511095821]]],[\"ys\",[[-0.2542130630697059,-0.7765936892230205],[-0.2542130630697059,-0.43038576034303244],[-0.2542130630697059,-0.626224515094565],[-0.2542130630697059,-0.15982301845479843],[-0.2542130630697059,-0.07963669515044426],[-0.2542130630697059,-0.9366509732518504],[-0.2542130630697059,-0.2828947937515344],[-0.2542130630697059,-0.594562899939171],[-0.2542130630697059,-0.272686423461173],[-0.2542130630697059,-0.7288695199531661],[-0.2542130630697059,-0.8583884972832616],[-0.2542130630697059,-0.9379070205121319],[-0.2542130630697059,-0.3273988365226668],[-0.2542130630697059,0.2725703463159717],[-0.2542130630697059,-0.6008418569829014],[-0.2542130630697059,-0.7746062007068919],[-0.2542130630697059,0.18718667107705486],[-0.2542130630697059,-0.9976936649565801],[-0.2542130630697059,-0.5365222936094493],[-0.2542130630697059,-0.7507879911040078],[-0.2542130630697059,-0.08699204352003835],[-0.2542130630697059,-0.35829292041027433],[0.9312850653863645,0.6454445814654631],[0.9312850653863645,0.8942165075429368],[0.9312850653863645,0.8453976127290022],[0.9312850653863645,0.907605351049244],[0.9312850653863645,0.26787374407119996],[0.9312850653863645,0.5428145661633212],[0.9312850653863645,0.7696594177598001],[0.9312850653863645,0.5118105557509789],[0.9312850653863645,0.7336155882843204],[0.9312850653863645,0.5374573585550917],[0.9312850653863645,0.3269866203705047],[0.9312850653863645,0.5101949383659847],[0.9312850653863645,0.2725703463159717],[0.9312850653863645,0.4416195050842619],[0.9312850653863645,0.1996366612965068],[0.9312850653863645,0.18718667107705486],[0.9312850653863645,0.6225378382801111],[0.9312850653863645,0.21401948545107422],[0.9312850653863645,0.010040262301469665],[0.9312850653863645,1.0],[-0.7765936892230205,-0.43038576034303244],[-0.7765936892230205,-0.626224515094565],[-0.7765936892230205,-0.15982301845479843],[-0.7765936892230205,-0.07963669515044426],[-0.7765936892230205,-0.9366509732518504],[-0.7765936892230205,-0.2828947937515344],[-0.7765936892230205,-0.594562899939171],[-0.7765936892230205,-0.272686423461173],[-0.7765936892230205,-0.7288695199531661],[-0.7765936892230205,-0.8583884972832616],[-0.7765936892230205,-0.9379070205121319],[-0.7765936892230205,-0.3273988365226668],[-0.7765936892230205,-0.6008418569829014],[-0.7765936892230205,-0.7746062007068919],[-0.7765936892230205,-0.9976936649565801],[-0.7765936892230205,-0.5365222936094493],[-0.7765936892230205,-0.7507879911040078],[-0.7765936892230205,-0.08699204352003835],[-0.7765936892230205,-0.35829292041027433],[0.6454445814654631,0.8942165075429368],[0.6454445814654631,0.8453976127290022],[0.6454445814654631,0.907605351049244],[0.6454445814654631,0.26787374407119996],[0.6454445814654631,0.5428145661633212],[0.6454445814654631,0.7696594177598001],[0.6454445814654631,0.5118105557509789],[0.6454445814654631,0.7336155882843204],[0.6454445814654631,-0.07963669515044426],[0.6454445814654631,0.5374573585550917],[0.6454445814654631,0.3269866203705047],[0.6454445814654631,0.5101949383659847],[0.6454445814654631,0.2725703463159717],[0.6454445814654631,0.4416195050842619],[0.6454445814654631,0.1996366612965068],[0.6454445814654631,0.18718667107705486],[0.6454445814654631,0.6225378382801111],[0.6454445814654631,0.21401948545107422],[0.6454445814654631,0.010040262301469665],[0.6454445814654631,1.0],[-0.43038576034303244,-0.626224515094565],[-0.43038576034303244,-0.15982301845479843],[-0.43038576034303244,-0.07963669515044426],[-0.43038576034303244,-0.9366509732518504],[-0.43038576034303244,-0.2828947937515344],[-0.43038576034303244,-0.594562899939171],[-0.43038576034303244,-0.272686423461173],[-0.43038576034303244,-0.7288695199531661],[-0.43038576034303244,-0.8583884972832616],[-0.43038576034303244,-0.9379070205121319],[-0.43038576034303244,-0.3273988365226668],[-0.43038576034303244,-0.6008418569829014],[-0.43038576034303244,-0.7746062007068919],[-0.43038576034303244,-0.9976936649565801],[-0.43038576034303244,-0.5365222936094493],[-0.43038576034303244,-0.7507879911040078],[-0.43038576034303244,0.21401948545107422],[-0.43038576034303244,-0.08699204352003835],[-0.43038576034303244,-0.35829292041027433],[0.8942165075429368,0.8453976127290022],[0.8942165075429368,0.907605351049244],[0.8942165075429368,0.26787374407119996],[0.8942165075429368,0.5428145661633212],[0.8942165075429368,0.7696594177598001],[0.8942165075429368,0.5118105557509789],[0.8942165075429368,0.7336155882843204],[0.8942165075429368,0.5374573585550917],[0.8942165075429368,0.3269866203705047],[0.8942165075429368,0.5101949383659847],[0.8942165075429368,0.2725703463159717],[0.8942165075429368,0.4416195050842619],[0.8942165075429368,0.1996366612965068],[0.8942165075429368,0.18718667107705486],[0.8942165075429368,0.6225378382801111],[0.8942165075429368,0.21401948545107422],[0.8942165075429368,0.010040262301469665],[0.8942165075429368,1.0],[0.8453976127290022,0.907605351049244],[0.8453976127290022,0.26787374407119996],[0.8453976127290022,0.5428145661633212],[0.8453976127290022,0.7696594177598001],[0.8453976127290022,0.5118105557509789],[0.8453976127290022,0.7336155882843204],[0.8453976127290022,0.5374573585550917],[0.8453976127290022,0.3269866203705047],[0.8453976127290022,0.5101949383659847],[0.8453976127290022,0.2725703463159717],[0.8453976127290022,0.4416195050842619],[0.8453976127290022,0.1996366612965068],[0.8453976127290022,0.18718667107705486],[0.8453976127290022,0.6225378382801111],[0.8453976127290022,0.21401948545107422],[0.8453976127290022,0.010040262301469665],[0.8453976127290022,1.0],[0.907605351049244,0.26787374407119996],[0.907605351049244,0.5428145661633212],[0.907605351049244,0.7696594177598001],[0.907605351049244,0.5118105557509789],[0.907605351049244,0.7336155882843204],[0.907605351049244,0.5374573585550917],[0.907605351049244,0.3269866203705047],[0.907605351049244,0.5101949383659847],[0.907605351049244,0.2725703463159717],[0.907605351049244,0.4416195050842619],[0.907605351049244,0.1996366612965068],[0.907605351049244,0.18718667107705486],[0.907605351049244,0.6225378382801111],[0.907605351049244,0.21401948545107422],[0.907605351049244,0.010040262301469665],[0.907605351049244,1.0],[0.26787374407119996,0.5428145661633212],[0.26787374407119996,0.7696594177598001],[0.26787374407119996,0.5118105557509789],[0.26787374407119996,0.7336155882843204],[0.26787374407119996,-0.272686423461173],[0.26787374407119996,0.5374573585550917],[0.26787374407119996,0.3269866203705047],[0.26787374407119996,0.5101949383659847],[0.26787374407119996,0.2725703463159717],[0.26787374407119996,0.4416195050842619],[0.26787374407119996,0.1996366612965068],[0.26787374407119996,0.18718667107705486],[0.26787374407119996,0.6225378382801111],[0.26787374407119996,0.21401948545107422],[0.26787374407119996,0.010040262301469665],[0.26787374407119996,1.0],[-0.626224515094565,-0.15982301845479843],[-0.626224515094565,-0.07963669515044426],[-0.626224515094565,-0.9366509732518504],[-0.626224515094565,-0.2828947937515344],[-0.626224515094565,-0.594562899939171],[-0.626224515094565,-0.272686423461173],[-0.626224515094565,-0.7288695199531661],[-0.626224515094565,-0.8583884972832616],[-0.626224515094565,-0.9379070205121319],[-0.626224515094565,-0.3273988365226668],[-0.626224515094565,-0.6008418569829014],[-0.626224515094565,-0.7746062007068919],[-0.626224515094565,-0.9976936649565801],[-0.626224515094565,-0.5365222936094493],[-0.626224515094565,-0.7507879911040078],[-0.626224515094565,-0.08699204352003835],[-0.626224515094565,-0.35829292041027433],[0.5428145661633212,0.7696594177598001],[0.5428145661633212,0.5118105557509789],[0.5428145661633212,0.7336155882843204],[0.5428145661633212,-0.07963669515044426],[0.5428145661633212,0.5374573585550917],[0.5428145661633212,0.3269866203705047],[0.5428145661633212,0.5101949383659847],[0.5428145661633212,0.2725703463159717],[0.5428145661633212,0.4416195050842619],[0.5428145661633212,0.1996366612965068],[0.5428145661633212,0.18718667107705486],[0.5428145661633212,0.6225378382801111],[0.5428145661633212,0.21401948545107422],[0.5428145661633212,0.010040262301469665],[0.5428145661633212,1.0],[0.7696594177598001,0.5118105557509789],[0.7696594177598001,0.7336155882843204],[0.7696594177598001,0.5374573585550917],[0.7696594177598001,0.3269866203705047],[0.7696594177598001,0.5101949383659847],[0.7696594177598001,0.2725703463159717],[0.7696594177598001,0.4416195050842619],[0.7696594177598001,0.1996366612965068],[0.7696594177598001,0.18718667107705486],[0.7696594177598001,0.6225378382801111],[0.7696594177598001,0.21401948545107422],[0.7696594177598001,0.010040262301469665],[0.7696594177598001,1.0],[-0.15982301845479843,-0.07963669515044426],[-0.15982301845479843,-0.9366509732518504],[-0.15982301845479843,-0.2828947937515344],[-0.15982301845479843,-0.594562899939171],[-0.15982301845479843,-0.272686423461173],[-0.15982301845479843,0.5374573585550917],[-0.15982301845479843,-0.7288695199531661],[-0.15982301845479843,-0.8583884972832616],[-0.15982301845479843,-0.9379070205121319],[-0.15982301845479843,-0.3273988365226668],[-0.15982301845479843,-0.6008418569829014],[-0.15982301845479843,0.4416195050842619],[-0.15982301845479843,-0.7746062007068919],[-0.15982301845479843,-0.9976936649565801],[-0.15982301845479843,-0.5365222936094493],[-0.15982301845479843,-0.7507879911040078],[-0.15982301845479843,-0.08699204352003835],[-0.15982301845479843,-0.35829292041027433],[0.5118105557509789,0.7336155882843204],[0.5118105557509789,0.5374573585550917],[0.5118105557509789,0.3269866203705047],[0.5118105557509789,0.5101949383659847],[0.5118105557509789,0.2725703463159717],[0.5118105557509789,0.4416195050842619],[0.5118105557509789,0.1996366612965068],[0.5118105557509789,0.18718667107705486],[0.5118105557509789,0.6225378382801111],[0.5118105557509789,0.21401948545107422],[0.5118105557509789,0.010040262301469665],[0.5118105557509789,1.0],[0.7336155882843204,0.5374573585550917],[0.7336155882843204,0.3269866203705047],[0.7336155882843204,0.5101949383659847],[0.7336155882843204,0.2725703463159717],[0.7336155882843204,0.4416195050842619],[0.7336155882843204,0.1996366612965068],[0.7336155882843204,0.18718667107705486],[0.7336155882843204,0.6225378382801111],[0.7336155882843204,0.21401948545107422],[0.7336155882843204,0.010040262301469665],[0.7336155882843204,1.0],[-0.07963669515044426,-0.9366509732518504],[-0.07963669515044426,-0.2828947937515344],[-0.07963669515044426,-0.594562899939171],[-0.07963669515044426,-0.272686423461173],[-0.07963669515044426,0.5101949383659847],[-0.07963669515044426,-0.7288695199531661],[-0.07963669515044426,-0.8583884972832616],[-0.07963669515044426,-0.9379070205121319],[-0.07963669515044426,-0.3273988365226668],[-0.07963669515044426,-0.6008418569829014],[-0.07963669515044426,-0.7746062007068919],[-0.07963669515044426,-0.9976936649565801],[-0.07963669515044426,-0.5365222936094493],[-0.07963669515044426,-0.7507879911040078],[-0.07963669515044426,-0.08699204352003835],[-0.07963669515044426,-0.35829292041027433],[-0.9366509732518504,-0.2828947937515344],[-0.9366509732518504,-0.594562899939171],[-0.9366509732518504,-0.272686423461173],[-0.9366509732518504,-0.7288695199531661],[-0.9366509732518504,-0.8583884972832616],[-0.9366509732518504,-0.9379070205121319],[-0.9366509732518504,-0.3273988365226668],[-0.9366509732518504,-0.6008418569829014],[-0.9366509732518504,-0.7746062007068919],[-0.9366509732518504,-0.9976936649565801],[-0.9366509732518504,-0.5365222936094493],[-0.9366509732518504,-0.7507879911040078],[-0.9366509732518504,-0.08699204352003835],[-0.9366509732518504,-0.35829292041027433],[-0.2828947937515344,-0.594562899939171],[-0.2828947937515344,-0.272686423461173],[-0.2828947937515344,-0.7288695199531661],[-0.2828947937515344,-0.8583884972832616],[-0.2828947937515344,-0.9379070205121319],[-0.2828947937515344,-0.3273988365226668],[-0.2828947937515344,-0.6008418569829014],[-0.2828947937515344,-0.7746062007068919],[-0.2828947937515344,-0.9976936649565801],[-0.2828947937515344,-0.5365222936094493],[-0.2828947937515344,-0.7507879911040078],[-0.2828947937515344,0.21401948545107422],[-0.2828947937515344,-0.08699204352003835],[-0.2828947937515344,-0.35829292041027433],[-0.594562899939171,-0.272686423461173],[-0.594562899939171,-0.7288695199531661],[-0.594562899939171,-0.8583884972832616],[-0.594562899939171,-0.9379070205121319],[-0.594562899939171,-0.3273988365226668],[-0.594562899939171,-0.6008418569829014],[-0.594562899939171,-0.7746062007068919],[-0.594562899939171,-0.9976936649565801],[-0.594562899939171,-0.5365222936094493],[-0.594562899939171,-0.7507879911040078],[-0.594562899939171,0.010040262301469665],[-0.594562899939171,-0.08699204352003835],[-0.594562899939171,-0.35829292041027433],[-0.272686423461173,0.3269866203705047],[-0.272686423461173,-0.7288695199531661],[-0.272686423461173,-0.8583884972832616],[-0.272686423461173,-0.9379070205121319],[-0.272686423461173,-0.3273988365226668],[-0.272686423461173,-0.6008418569829014],[-0.272686423461173,-0.7746062007068919],[-0.272686423461173,0.1996366612965068],[-0.272686423461173,-0.9976936649565801],[-0.272686423461173,-0.5365222936094493],[-0.272686423461173,-0.7507879911040078],[-0.272686423461173,-0.08699204352003835],[-0.272686423461173,-0.35829292041027433],[0.5374573585550917,0.3269866203705047],[0.5374573585550917,0.5101949383659847],[0.5374573585550917,0.2725703463159717],[0.5374573585550917,0.4416195050842619],[0.5374573585550917,0.1996366612965068],[0.5374573585550917,0.18718667107705486],[0.5374573585550917,0.6225378382801111],[0.5374573585550917,0.21401948545107422],[0.5374573585550917,0.010040262301469665],[0.5374573585550917,-0.08699204352003835],[0.5374573585550917,1.0],[0.3269866203705047,0.5101949383659847],[0.3269866203705047,0.2725703463159717],[0.3269866203705047,0.4416195050842619],[0.3269866203705047,0.1996366612965068],[0.3269866203705047,0.18718667107705486],[0.3269866203705047,0.6225378382801111],[0.3269866203705047,0.21401948545107422],[0.3269866203705047,0.010040262301469665],[0.3269866203705047,1.0],[0.5101949383659847,0.2725703463159717],[0.5101949383659847,0.4416195050842619],[0.5101949383659847,0.1996366612965068],[0.5101949383659847,0.18718667107705486],[0.5101949383659847,0.6225378382801111],[0.5101949383659847,0.21401948545107422],[0.5101949383659847,0.010040262301469665],[0.5101949383659847,1.0],[-0.7288695199531661,-0.8583884972832616],[-0.7288695199531661,-0.9379070205121319],[-0.7288695199531661,-0.3273988365226668],[-0.7288695199531661,-0.6008418569829014],[-0.7288695199531661,-0.7746062007068919],[-0.7288695199531661,-0.9976936649565801],[-0.7288695199531661,-0.5365222936094493],[-0.7288695199531661,-0.7507879911040078],[-0.7288695199531661,0.010040262301469665],[-0.7288695199531661,-0.08699204352003835],[-0.7288695199531661,-0.35829292041027433],[-0.8583884972832616,-0.9379070205121319],[-0.8583884972832616,-0.3273988365226668],[-0.8583884972832616,-0.6008418569829014],[-0.8583884972832616,-0.7746062007068919],[-0.8583884972832616,-0.9976936649565801],[-0.8583884972832616,-0.5365222936094493],[-0.8583884972832616,-0.7507879911040078],[-0.8583884972832616,-0.08699204352003835],[-0.8583884972832616,-0.35829292041027433],[-0.9379070205121319,-0.3273988365226668],[-0.9379070205121319,-0.6008418569829014],[-0.9379070205121319,-0.7746062007068919],[-0.9379070205121319,-0.9976936649565801],[-0.9379070205121319,-0.5365222936094493],[-0.9379070205121319,-0.7507879911040078],[-0.9379070205121319,-0.08699204352003835],[-0.9379070205121319,-0.35829292041027433],[-0.3273988365226668,0.2725703463159717],[-0.3273988365226668,-0.6008418569829014],[-0.3273988365226668,-0.7746062007068919],[-0.3273988365226668,0.18718667107705486],[-0.3273988365226668,-0.9976936649565801],[-0.3273988365226668,-0.5365222936094493],[-0.3273988365226668,-0.7507879911040078],[-0.3273988365226668,-0.08699204352003835],[-0.3273988365226668,-0.35829292041027433],[0.2725703463159717,0.4416195050842619],[0.2725703463159717,0.1996366612965068],[0.2725703463159717,0.18718667107705486],[0.2725703463159717,0.6225378382801111],[0.2725703463159717,0.21401948545107422],[0.2725703463159717,0.010040262301469665],[0.2725703463159717,1.0],[-0.6008418569829014,-0.7746062007068919],[-0.6008418569829014,-0.9976936649565801],[-0.6008418569829014,-0.5365222936094493],[-0.6008418569829014,-0.7507879911040078],[-0.6008418569829014,0.010040262301469665],[-0.6008418569829014,-0.08699204352003835],[-0.6008418569829014,-0.35829292041027433],[0.4416195050842619,0.1996366612965068],[0.4416195050842619,0.18718667107705486],[0.4416195050842619,0.6225378382801111],[0.4416195050842619,0.21401948545107422],[0.4416195050842619,0.010040262301469665],[0.4416195050842619,-0.08699204352003835],[0.4416195050842619,1.0],[-0.7746062007068919,-0.9976936649565801],[-0.7746062007068919,-0.5365222936094493],[-0.7746062007068919,-0.7507879911040078],[-0.7746062007068919,-0.08699204352003835],[-0.7746062007068919,-0.35829292041027433],[0.1996366612965068,0.18718667107705486],[0.1996366612965068,0.6225378382801111],[0.1996366612965068,0.21401948545107422],[0.1996366612965068,0.010040262301469665],[0.1996366612965068,1.0],[0.18718667107705486,0.6225378382801111],[0.18718667107705486,0.21401948545107422],[0.18718667107705486,0.010040262301469665],[0.18718667107705486,1.0],[-0.9976936649565801,-0.5365222936094493],[-0.9976936649565801,-0.7507879911040078],[-0.9976936649565801,-0.08699204352003835],[-0.9976936649565801,-0.35829292041027433],[-0.5365222936094493,-0.7507879911040078],[-0.5365222936094493,-0.08699204352003835],[-0.5365222936094493,-0.35829292041027433],[0.6225378382801111,0.21401948545107422],[0.6225378382801111,0.010040262301469665],[0.6225378382801111,1.0],[-0.7507879911040078,-0.08699204352003835],[-0.7507879911040078,-0.35829292041027433],[0.21401948545107422,0.010040262301469665],[0.21401948545107422,-0.35829292041027433],[0.21401948545107422,1.0],[0.010040262301469665,1.0],[-0.08699204352003835,-0.35829292041027433]]],[\"_u\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,29,29,29,29,29,29,29,30,30,30,30,30,30,30,31,31,31,31,31,32,32,32,32,32,33,33,33,33,34,34,34,34,35,35,35,36,36,36,37,37,38,38,38,39,40]],[\"_v\",[3,5,10,13,16,17,18,19,20,24,25,26,27,28,29,31,33,34,35,37,40,41,4,6,7,8,9,11,12,14,15,21,22,23,28,30,32,33,36,38,39,42,5,10,13,16,17,18,19,20,24,25,26,27,29,31,34,35,37,40,41,6,7,8,9,11,12,14,15,16,21,22,23,28,30,32,33,36,38,39,42,10,13,16,17,18,19,20,24,25,26,27,29,31,34,35,37,38,40,41,7,8,9,11,12,14,15,21,22,23,28,30,32,33,36,38,39,42,8,9,11,12,14,15,21,22,23,28,30,32,33,36,38,39,42,9,11,12,14,15,21,22,23,28,30,32,33,36,38,39,42,11,12,14,15,20,21,22,23,28,30,32,33,36,38,39,42,13,16,17,18,19,20,24,25,26,27,29,31,34,35,37,40,41,12,14,15,16,21,22,23,28,30,32,33,36,38,39,42,14,15,21,22,23,28,30,32,33,36,38,39,42,16,17,18,19,20,21,24,25,26,27,29,30,31,34,35,37,40,41,15,21,22,23,28,30,32,33,36,38,39,42,21,22,23,28,30,32,33,36,38,39,42,17,18,19,20,23,24,25,26,27,29,31,34,35,37,40,41,18,19,20,24,25,26,27,29,31,34,35,37,40,41,19,20,24,25,26,27,29,31,34,35,37,38,40,41,20,24,25,26,27,29,31,34,35,37,39,40,41,22,24,25,26,27,29,31,32,34,35,37,40,41,22,23,28,30,32,33,36,38,39,40,42,23,28,30,32,33,36,38,39,42,28,30,32,33,36,38,39,42,25,26,27,29,31,34,35,37,39,40,41,26,27,29,31,34,35,37,40,41,27,29,31,34,35,37,40,41,28,29,31,33,34,35,37,40,41,30,32,33,36,38,39,42,31,34,35,37,39,40,41,32,33,36,38,39,40,42,34,35,37,40,41,33,36,38,39,42,36,38,39,42,35,37,40,41,37,40,41,38,39,42,40,41,39,41,42,42,41]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1,1,7,6,1,1,6,1,1,1,1,1,1,5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,6,1,1,1,1,6,1,1,1,1,1,1,6,1,1,1,1,1,1,5,1,1,1,4,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,6,1,1,1,1,1,1,1,1,1,1,1,5,1,6,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,1,7,1,1,1,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,1,1,1,1,1,1,6,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,6,1,5,1,1,1,5,1,1,1,1,4,1,1,6,1,1,1,1,1,1,6,1,1,1,1,1,1,1,1,5,1,1,1,1,1,4,1,1,1,1,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,4,1,1,1,1,1,1,1,1,6,1,1,1,1,1,1,1,1,1,1,6,1,1,6,1,1,1,1,1,1,1,7,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1]],[\"_edge_alpha\",[0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,1.0,0.8,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.4,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.8,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,1.0,0.2,0.2,0.2,1.0,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.8,0.2,0.6000000000000001,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.2,0.2,1.0,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.8,0.2,0.2,0.8,0.2,0.2,0.2,0.2,0.2,0.2,0.2,1.0,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.6000000000000001,0.2,0.2,0.2]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p21263\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p21264\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p21259\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p21260\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p21261\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p21276\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p21267\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p21268\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p21269\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.20235940578143155,-0.199331563256417,0.5672489509809674,-0.15919634162338936,0.4382738167648234,-0.47083684815535076,-0.32155149597585153,-0.6491887765278649,-0.6573464626933272,0.7102431643533289,-0.2676369943130887,-0.7747280035822112,0.39821536268870045,-0.8078901548934632,-0.5791327712371521,0.12479464271661882,0.4566643404167408,0.6403635649135958,0.02428790436313911,-0.14242397060771134,0.0747653032452827,-0.48633485595751885,-0.4103005899884604,0.04269912892614062,0.3053317962675701,0.6245533942182199,0.09048024510621697,-0.15235843482148012,0.18403609568116186,0.005632218781306183,0.7589622183053982,-0.5483195903161062,-0.24313748033084936,0.27533398482638866,0.824480641309177,-0.7227821798435221,0.41544307943669256,0.10431294233008484,-0.3308939104703908,0.4896134739616439,0.5457022511095821,-0.38040750189005984]],[\"ys\",[-0.2542130630697059,0.9312850653863645,-0.7765936892230205,0.6454445814654631,-0.43038576034303244,0.8942165075429368,0.8453976127290022,0.907605351049244,0.26787374407119996,-0.626224515094565,0.5428145661633212,0.7696594177598001,-0.15982301845479843,0.5118105557509789,0.7336155882843204,-0.07963669515044426,-0.9366509732518504,-0.2828947937515344,-0.594562899939171,-0.272686423461173,0.5374573585550917,0.3269866203705047,0.5101949383659847,-0.7288695199531661,-0.8583884972832616,-0.9379070205121319,-0.3273988365226668,0.2725703463159717,-0.6008418569829014,0.4416195050842619,-0.7746062007068919,0.1996366612965068,0.18718667107705486,-0.9976936649565801,-0.5365222936094493,0.6225378382801111,-0.7507879911040078,0.21401948545107422,0.010040262301469665,-0.08699204352003835,-0.35829292041027433,1.0]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[15,1,14,12,5,2,2,0,8,0,11,0,9,0,0,11,14,13,4,16,10,8,12,3,6,0,7,7,3,10,0,16,15,0,0,0,6,13,3,9,5,1]],[\"gender\",[\"m\",\"m\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"w\",\"w\",\"m\",\"m\",\"m\",\"w\",\"w\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\",\"w\",\"w\",\"m\",\"m\",\"m\",\"m\",\"m\",\"m\",\"w\"]],[\"grade\",[4.0,1.0,3.0,2.0,3.0,1.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},2.0,3.0,3.0,2.0,4.0,1.0,4.0,2.0,2.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,4.0,2.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},3.0,3.0,2.0,1.0,3.0,1.0]],[\"hours\",[6,4,5,4,5,4,4,6,6,5,4,11,4,10,9,4,5,5,4,6,4,6,4,4,5,9,6,6,4,4,6,6,6,9,4,6,5,5,4,4,5,4]],[\"status\",[\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"teacher\",\"pupil\",\"teacher\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"teacher\",\"social_worker\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\"]],[\"_colormap\",[\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(211, 154, 108)\",\"rgb(39, 189, 97)\",\"rgb(211, 154, 108)\",\"rgb(39, 189, 97)\",\"rgb(211, 154, 108)\",\"rgb(39, 189, 97)\",\"rgb(211, 154, 108)\",\"rgb(211, 154, 108)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(211, 154, 108)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(122, 13, 66)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(211, 154, 108)\",\"rgb(122, 13, 66)\",\"rgb(211, 154, 108)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\",\"rgb(39, 189, 97)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p21277\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p21278\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p21273\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p21274\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p21275\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p21218\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p21241\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p21242\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p21243\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p21244\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p21245\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p21265\",\"attributes\":{\"renderers\":[{\"id\":\"p21262\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p21279\",\"attributes\":{\"renderers\":[{\"id\":\"p21276\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p21234\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p21235\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p21236\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p21237\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p21227\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p21228\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p21229\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p21230\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p21233\",\"attributes\":{\"axis\":{\"id\":\"p21227\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p21240\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p21234\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"9201e596-b8f9-4a92-af93-3ba047b65574\",\"roots\":{\"p21210\":\"c86ddd43-8b6d-4ca6-918f-940a4e56896a\"},\"root_ids\":[\"p21210\"],\"notebook_comms_target\":\"p22045\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p21210"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[School, ClassRoom])\n",
    "\n",
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"status\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 94,
   "id": "36b1ba15",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"e8a6ee62-cac9-45ba-9ad5-3324a161bd3b\" data-root-id=\"p22141\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"657f9057-eaf5-4f1e-b2fc-6357fa475a64\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p22141\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p22143\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p22142\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p22154\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p22156\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p22148\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p22193\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p22184\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p22185\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p22186\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.08531274236093736,-0.45436702927158645],[-0.08531274236093736,0.1303666424389355],[0.4233280482638264,0.489008292358103],[0.4233280482638264,0.2443909338161945],[-0.7249116713459508,-0.45436702927158645],[-0.7249116713459508,-0.7186258110971921],[0.6961503035423651,0.489008292358103],[0.6961503035423651,0.58688436249416],[-0.2987460680101662,-0.45436702927158645],[-0.2987460680101662,-0.10759472185552836],[0.2175541088477859,0.489008292358103],[0.2175541088477859,0.2443909338161945],[0.3623394167519394,0.489008292358103],[0.3623394167519394,0.2443909338161945],[0.966304741063357,0.489008292358103],[0.5154958126632613,0.489008292358103],[0.5154958126632613,0.40949810457046176],[-0.7617596419685344,-0.45436702927158645],[0.7703498381850746,0.489008292358103],[0.7703498381850746,0.58688436249416],[0.887559249348088,0.489008292358103],[-0.3376379564259438,-0.45436702927158645],[-0.3376379564259438,-0.14289521777080144],[0.7849322427186587,0.489008292358103],[1.0,0.489008292358103],[0.2548597660278315,-0.45436702927158645],[0.2548597660278315,0.58688436249416],[-0.6482539138585017,-0.45436702927158645],[-0.6482539138585017,-0.7186258110971921],[-0.20407581914017836,-0.45436702927158645],[-0.20407581914017836,-0.10759472185552836],[-0.6679453457661696,-0.45436702927158645],[-0.6679453457661696,-0.5280154538818309],[0.15170174787865848,-0.45436702927158645],[0.15170174787865848,0.40949810457046176],[0.06626130037862034,0.489008292358103],[0.06626130037862034,-0.14289521777080144],[0.5365535137520556,0.489008292358103],[0.5365535137520556,0.40949810457046176],[0.7542061475804286,0.489008292358103],[0.7542061475804286,0.58688436249416],[-0.7120020844750209,-0.45436702927158645],[-0.7120020844750209,-0.5280154538818309],[-0.5834954368279657,-0.45436702927158645],[-0.5834954368279657,-0.7186258110971921],[-0.9664412809557937,-0.45436702927158645],[-0.06293940437872597,-0.45436702927158645],[-0.06293940437872597,0.1303666424389355],[0.3516771686280759,0.489008292358103],[0.3516771686280759,0.1303666424389355],[-0.6582710232625422,-0.45436702927158645],[-0.6582710232625422,-0.5280154538818309],[0.1038932886744471,0.489008292358103],[0.1038932886744471,-0.14289521777080144],[-0.930600648845018,-0.45436702927158645],[0.6013122952865506,0.489008292358103],[0.6013122952865506,0.40949810457046176],[0.3048468251178094,0.489008292358103],[0.3048468251178094,0.1303666424389355],[-0.8685959457849887,-0.45436702927158645],[-0.9354662167042568,-0.45436702927158645],[0.969799256642295,0.489008292358103],[-0.8025831780609302,-0.45436702927158645],[-0.8025831780609302,-0.7186258110971921],[0.13679451687227065,0.489008292358103],[0.13679451687227065,-0.10759472185552836],[-0.20166236236226245,0.489008292358103],[-0.20166236236226245,-0.5280154538818309],[-0.3774760480232604,-0.45436702927158645],[-0.3774760480232604,-0.14289521777080144],[-0.264407452756755,-0.45436702927158645],[-0.264407452756755,-0.10759472185552836],[0.32801455128959767,0.489008292358103],[0.32801455128959767,0.2443909338161945]]],[\"ys\",[[-0.505237440611085,0.02104091736934859],[-0.505237440611085,-0.5612274004835388],[-0.3390458033708802,-0.0023737880623749767],[-0.3390458033708802,-0.35476605960456314],[-0.37168360621128943,0.02104091736934859],[-0.37168360621128943,-0.5207020559944384],[0.3522562021351703,-0.0023737880623749767],[0.3522562021351703,0.2761658973684102],[0.5882623286512364,0.02104091736934859],[0.5882623286512364,0.6029175185907006],[-0.22934608986091817,-0.0023737880623749767],[-0.22934608986091817,-0.35476605960456314],[-0.4006535748527916,-0.0023737880623749767],[-0.4006535748527916,-0.35476605960456314],[-0.16716462651779845,-0.0023737880623749767],[0.09703515103146744,-0.0023737880623749767],[0.09703515103146744,-0.018654200382364126],[0.3914498070667452,0.02104091736934859],[0.26553332389027373,-0.0023737880623749767],[0.26553332389027373,0.2761658973684102],[-0.30337839385261994,-0.0023737880623749767],[0.305023802030395,0.02104091736934859],[0.305023802030395,0.35187653160871607],[0.44724450720066616,-0.0023737880623749767],[-0.016622446952387845,-0.0023737880623749767],[0.23600221362860732,0.02104091736934859],[0.23600221362860732,0.2761658973684102],[-0.4117220207754934,0.02104091736934859],[-0.4117220207754934,-0.5207020559944384],[0.4821872823749578,0.02104091736934859],[0.4821872823749578,0.6029175185907006],[0.07457130561837982,0.02104091736934859],[0.07457130561837982,-0.044319946770913034],[-0.0031295421822178458,0.02104091736934859],[-0.0031295421822178458,-0.018654200382364126],[0.25836768806186683,-0.0023737880623749767],[0.25836768806186683,0.35187653160871607],[-0.13059222730417638,-0.0023737880623749767],[-0.13059222730417638,-0.018654200382364126],[0.17512568379135757,-0.0023737880623749767],[0.17512568379135757,0.2761658973684102],[-0.029556424969035083,0.02104091736934859],[-0.029556424969035083,-0.044319946770913034],[-0.4730736551808268,0.02104091736934859],[-0.4730736551808268,-0.5207020559944384],[0.036587914680289255,0.02104091736934859],[-0.43741343432277646,0.02104091736934859],[-0.43741343432277646,-0.5612274004835388],[-0.5673660911694278,-0.0023737880623749767],[-0.5673660911694278,-0.5612274004835388],[-0.13019608974015662,0.02104091736934859],[-0.13019608974015662,-0.044319946770913034],[0.34324312221125347,-0.0023737880623749767],[0.34324312221125347,0.35187653160871607],[-0.1415775281048826,0.02104091736934859],[-0.04310663074480285,-0.0023737880623749767],[-0.04310663074480285,-0.018654200382364126],[-0.5207826681397005,-0.0023737880623749767],[-0.5207826681397005,-0.5612274004835388],[0.2978364208748538,0.02104091736934859],[0.17759158578960008,0.02104091736934859],[0.2157677864598801,-0.0023737880623749767],[-0.40866867014975705,0.02104091736934859],[-0.40866867014975705,-0.5207020559944384],[0.5245736903576417,-0.0023737880623749767],[0.5245736903576417,0.6029175185907006],[-0.049857383198628924,-0.0023737880623749767],[-0.049857383198628924,-0.044319946770913034],[0.39427740829038327,0.02104091736934859],[0.39427740829038327,0.35187653160871607],[0.5250536453611925,0.02104091736934859],[0.5250536453611925,0.6029175185907006],[-0.25777393493353323,-0.0023737880623749767],[-0.25777393493353323,-0.35476605960456314]]],[\"_u\",[1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,9,9,10,11,11,12,13,13,14,15,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,27,27,28,28,29,29,30,30,31,32,32,33,33,34,35,36,37,37,38,38,39,39,40,40,41,41,42,42]],[\"_v\",[43,46,44,47,43,50,44,52,43,49,44,47,44,47,44,44,45,43,44,52,44,43,48,44,44,43,52,43,50,43,49,43,51,43,45,44,48,44,45,44,52,43,51,43,50,43,43,46,44,46,43,51,44,48,43,44,45,44,46,43,43,44,43,50,44,49,44,51,43,48,43,49,44,47]],[\"weight\",[1,6,1,4,1,5,1,4,1,5,1,4,1,4,1,1,6,1,1,4,1,1,4,1,1,1,4,1,5,1,5,1,4,1,6,1,4,1,6,1,4,1,4,1,5,1,1,6,1,6,1,4,1,4,1,1,6,1,6,1,1,1,1,5,1,5,1,4,1,4,1,5,1,4]],[\"_edge_alpha\",[0.25,1.0,0.25,0.5,0.25,0.75,0.25,0.5,0.25,0.75,0.25,0.5,0.25,0.5,0.25,0.25,1.0,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.75,0.25,0.75,0.25,0.5,0.25,1.0,0.25,0.5,0.25,1.0,0.25,0.5,0.25,0.5,0.25,0.75,0.25,0.25,1.0,0.25,1.0,0.25,0.5,0.25,0.5,0.25,0.25,1.0,0.25,1.0,0.25,0.25,0.25,0.25,0.75,0.25,0.75,0.25,0.5,0.25,0.5,0.25,0.75,0.25,0.5]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p22194\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p22195\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p22190\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p22191\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p22192\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p22207\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p22198\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p22199\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p22200\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.45436702927158645,0.489008292358103,0.40949810457046176,0.1303666424389355,0.2443909338161945,-0.14289521777080144,-0.10759472185552836,-0.7186258110971921,-0.5280154538818309,0.58688436249416]],[\"ys\",[0.02104091736934859,-0.0023737880623749767,-0.018654200382364126,-0.5612274004835388,-0.35476605960456314,0.35187653160871607,0.6029175185907006,-0.5207020559944384,-0.044319946770913034,0.2761658973684102]],[\"_node\",[43,44,45,46,47,48,49,50,51,52]],[\"bipartite\",[1,1,1,1,1,1,1,1,1,1]],[\"type\",[\"School\",\"School\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\"]],[\"_colormap\",[\"rgb(34, 164, 130)\",\"rgb(34, 164, 130)\",\"rgb(139, 86, 43)\",\"rgb(139, 86, 43)\",\"rgb(139, 86, 43)\",\"rgb(139, 86, 43)\",\"rgb(139, 86, 43)\",\"rgb(139, 86, 43)\",\"rgb(139, 86, 43)\",\"rgb(139, 86, 43)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p22208\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p22209\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p22204\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p22205\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p22206\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p22219\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p22210\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p22211\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p22212\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.08531274236093736,0.4233280482638264,-0.7249116713459508,0.6961503035423651,-0.2987460680101662,0.2175541088477859,0.3623394167519394,0.966304741063357,0.5154958126632613,-0.7617596419685344,0.7703498381850746,0.887559249348088,-0.3376379564259438,0.7849322427186587,1.0,0.2548597660278315,-0.6482539138585017,-0.20407581914017836,-0.6679453457661696,0.15170174787865848,0.06626130037862034,0.5365535137520556,0.7542061475804286,-0.7120020844750209,-0.5834954368279657,-0.9664412809557937,-0.06293940437872597,0.3516771686280759,-0.6582710232625422,0.1038932886744471,-0.930600648845018,0.6013122952865506,0.3048468251178094,-0.8685959457849887,-0.9354662167042568,0.969799256642295,-0.8025831780609302,0.13679451687227065,-0.20166236236226245,-0.3774760480232604,-0.264407452756755,0.32801455128959767]],[\"ys\",[-0.505237440611085,-0.3390458033708802,-0.37168360621128943,0.3522562021351703,0.5882623286512364,-0.22934608986091817,-0.4006535748527916,-0.16716462651779845,0.09703515103146744,0.3914498070667452,0.26553332389027373,-0.30337839385261994,0.305023802030395,0.44724450720066616,-0.016622446952387845,0.23600221362860732,-0.4117220207754934,0.4821872823749578,0.07457130561837982,-0.0031295421822178458,0.25836768806186683,-0.13059222730417638,0.17512568379135757,-0.029556424969035083,-0.4730736551808268,0.036587914680289255,-0.43741343432277646,-0.5673660911694278,-0.13019608974015662,0.34324312221125347,-0.1415775281048826,-0.04310663074480285,-0.5207826681397005,0.2978364208748538,0.17759158578960008,0.2157677864598801,-0.40866867014975705,0.5245736903576417,-0.049857383198628924,0.39427740829038327,0.5250536453611925,-0.25777393493353323]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\",\"rgb(156, 58, 76)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p22220\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p22221\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p22216\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p22217\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p22218\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p22149\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p22172\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p22173\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p22174\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p22175\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p22176\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p22196\",\"attributes\":{\"renderers\":[{\"id\":\"p22193\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p22222\",\"attributes\":{\"renderers\":[{\"id\":\"p22207\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p22224\",\"attributes\":{\"renderers\":[{\"id\":\"p22219\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p22165\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p22166\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p22167\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p22168\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p22158\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p22159\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p22160\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p22161\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p22164\",\"attributes\":{\"axis\":{\"id\":\"p22158\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p22171\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p22165\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"657f9057-eaf5-4f1e-b2fc-6357fa475a64\",\"roots\":{\"p22141\":\"e8a6ee62-cac9-45ba-9ad5-3324a161bd3b\"},\"root_ids\":[\"p22141\"],\"notebook_comms_target\":\"p23014\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p22141"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "fc257bf9",
   "metadata": {},
   "source": [
    "As we saw, the method `stick_together()` can be used to nest locations into other locations.\n",
    "However, this approach is limited because we can only specify one location class as the return value of `stick_together()`.\n",
    "\n",
    "Another way to nest locations into other locations is to use the location method `nest()`.\n",
    "The method `nest()` can return `None` or a location class.\n",
    "If `nest()` returns a location class, the location is nested into the returned location class.\n",
    "For instance, to nest classrooms within schools, we must define the method `nest()` for the location `ClassRoom` and let this method return `School`.\n",
    "Again, the order of location creation plays a crucial role: The level-1 location must always be created after the level-2 location."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 95,
   "id": "379e4a5f",
   "metadata": {
    "slideshow": {
     "slide_type": ""
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"b0d4440c-3568-4896-99d4-9da156aed0ea\" data-root-id=\"p23135\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"e415f4e2-baea-408b-add3-581cc07212da\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p23135\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p23137\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p23136\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p23148\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p23150\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p23142\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p23187\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p23178\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p23179\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p23180\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.3437640307499062,-0.45737084077829154],[-0.3437640307499062,-0.48613530972467295],[-0.3437640307499062,-0.41667680856843176],[-0.3437640307499062,-0.44890546421194333],[-0.3437640307499062,-0.38627276331077653],[-0.3437640307499062,-0.23274870298436762],[-0.3437640307499062,-0.18741425707924012],[-0.3437640307499062,-0.34851268680926784],[-0.3437640307499062,-0.2880723961587051],[-0.3437640307499062,-0.329693541045798],[-0.3437640307499062,-0.3138008356438856],[-0.3437640307499062,-0.30980393625279357],[-0.3437640307499062,-0.24966685505185124],[-0.3437640307499062,-0.1862954064837255],[-0.3437640307499062,-0.37049223081969757],[-0.3437640307499062,-0.24162207871093905],[-0.3437640307499062,-0.28195415326975093],[-0.3437640307499062,-0.40408282352999103],[-0.3437640307499062,-0.212925184986685],[-0.3437640307499062,-0.4260470500368377],[-0.45737084077829154,-0.48613530972467295],[-0.45737084077829154,-0.41667680856843176],[-0.45737084077829154,-0.44890546421194333],[-0.45737084077829154,-0.38627276331077653],[-0.45737084077829154,-0.23274870298436762],[-0.45737084077829154,-0.18741425707924012],[-0.45737084077829154,-0.34851268680926784],[-0.45737084077829154,-0.2880723961587051],[-0.45737084077829154,-0.329693541045798],[-0.45737084077829154,-0.3138008356438856],[-0.45737084077829154,-0.30980393625279357],[-0.45737084077829154,-0.24966685505185124],[-0.45737084077829154,-0.1862954064837255],[-0.45737084077829154,-0.37049223081969757],[-0.45737084077829154,-0.24162207871093905],[-0.45737084077829154,-0.28195415326975093],[-0.45737084077829154,-0.40408282352999103],[-0.45737084077829154,-0.212925184986685],[-0.45737084077829154,-0.4260470500368377],[-0.48613530972467295,-0.41667680856843176],[-0.48613530972467295,-0.44890546421194333],[-0.48613530972467295,-0.38627276331077653],[-0.48613530972467295,-0.23274870298436762],[-0.48613530972467295,-0.18741425707924012],[-0.48613530972467295,-0.34851268680926784],[-0.48613530972467295,-0.2880723961587051],[-0.48613530972467295,-0.329693541045798],[-0.48613530972467295,-0.3138008356438856],[-0.48613530972467295,-0.30980393625279357],[-0.48613530972467295,-0.24966685505185124],[-0.48613530972467295,-0.1862954064837255],[-0.48613530972467295,-0.37049223081969757],[-0.48613530972467295,-0.24162207871093905],[-0.48613530972467295,-0.28195415326975093],[-0.48613530972467295,-0.40408282352999103],[-0.48613530972467295,-0.212925184986685],[-0.48613530972467295,-0.4260470500368377],[-0.41667680856843176,-0.44890546421194333],[-0.41667680856843176,-0.38627276331077653],[-0.41667680856843176,-0.23274870298436762],[-0.41667680856843176,-0.18741425707924012],[-0.41667680856843176,-0.34851268680926784],[-0.41667680856843176,-0.2880723961587051],[-0.41667680856843176,-0.329693541045798],[-0.41667680856843176,-0.3138008356438856],[-0.41667680856843176,-0.30980393625279357],[-0.41667680856843176,-0.24966685505185124],[-0.41667680856843176,-0.1862954064837255],[-0.41667680856843176,-0.37049223081969757],[-0.41667680856843176,-0.24162207871093905],[-0.41667680856843176,-0.28195415326975093],[-0.41667680856843176,-0.40408282352999103],[-0.41667680856843176,-0.212925184986685],[-0.41667680856843176,-0.4260470500368377],[-0.44890546421194333,-0.38627276331077653],[-0.44890546421194333,-0.23274870298436762],[-0.44890546421194333,-0.18741425707924012],[-0.44890546421194333,-0.34851268680926784],[-0.44890546421194333,-0.2880723961587051],[-0.44890546421194333,-0.329693541045798],[-0.44890546421194333,-0.3138008356438856],[-0.44890546421194333,-0.30980393625279357],[-0.44890546421194333,-0.24966685505185124],[-0.44890546421194333,-0.1862954064837255],[-0.44890546421194333,-0.37049223081969757],[-0.44890546421194333,-0.24162207871093905],[-0.44890546421194333,-0.28195415326975093],[-0.44890546421194333,-0.40408282352999103],[-0.44890546421194333,-0.212925184986685],[-0.44890546421194333,-0.4260470500368377],[-0.38627276331077653,-0.23274870298436762],[-0.38627276331077653,-0.18741425707924012],[-0.38627276331077653,-0.34851268680926784],[-0.38627276331077653,-0.2880723961587051],[-0.38627276331077653,-0.329693541045798],[-0.38627276331077653,-0.3138008356438856],[-0.38627276331077653,-0.30980393625279357],[-0.38627276331077653,-0.24966685505185124],[-0.38627276331077653,-0.1862954064837255],[-0.38627276331077653,-0.37049223081969757],[-0.38627276331077653,-0.24162207871093905],[-0.38627276331077653,-0.28195415326975093],[-0.38627276331077653,-0.40408282352999103],[-0.38627276331077653,-0.212925184986685],[-0.38627276331077653,-0.4260470500368377],[-0.23274870298436762,-0.18741425707924012],[-0.23274870298436762,-0.34851268680926784],[-0.23274870298436762,-0.2880723961587051],[-0.23274870298436762,-0.329693541045798],[-0.23274870298436762,-0.3138008356438856],[-0.23274870298436762,-0.30980393625279357],[-0.23274870298436762,-0.24966685505185124],[-0.23274870298436762,-0.1862954064837255],[-0.23274870298436762,-0.37049223081969757],[-0.23274870298436762,-0.24162207871093905],[-0.23274870298436762,-0.28195415326975093],[-0.23274870298436762,-0.40408282352999103],[-0.23274870298436762,-0.212925184986685],[-0.23274870298436762,-0.4260470500368377],[-0.18741425707924012,-0.34851268680926784],[-0.18741425707924012,-0.2880723961587051],[-0.18741425707924012,-0.329693541045798],[-0.18741425707924012,-0.3138008356438856],[-0.18741425707924012,-0.30980393625279357],[-0.18741425707924012,-0.24966685505185124],[-0.18741425707924012,-0.1862954064837255],[-0.18741425707924012,-0.37049223081969757],[-0.18741425707924012,-0.24162207871093905],[-0.18741425707924012,-0.28195415326975093],[-0.18741425707924012,-0.40408282352999103],[-0.18741425707924012,-0.212925184986685],[-0.18741425707924012,-0.4260470500368377],[-0.34851268680926784,-0.2880723961587051],[-0.34851268680926784,-0.329693541045798],[-0.34851268680926784,-0.3138008356438856],[-0.34851268680926784,-0.30980393625279357],[-0.34851268680926784,-0.24966685505185124],[-0.34851268680926784,-0.1862954064837255],[-0.34851268680926784,-0.37049223081969757],[-0.34851268680926784,-0.24162207871093905],[-0.34851268680926784,-0.28195415326975093],[-0.34851268680926784,-0.40408282352999103],[-0.34851268680926784,-0.212925184986685],[-0.34851268680926784,-0.4260470500368377],[-0.2880723961587051,-0.329693541045798],[-0.2880723961587051,-0.3138008356438856],[-0.2880723961587051,-0.30980393625279357],[-0.2880723961587051,-0.24966685505185124],[-0.2880723961587051,-0.1862954064837255],[-0.2880723961587051,-0.37049223081969757],[-0.2880723961587051,-0.24162207871093905],[-0.2880723961587051,-0.28195415326975093],[-0.2880723961587051,-0.40408282352999103],[-0.2880723961587051,-0.212925184986685],[-0.2880723961587051,-0.4260470500368377],[-0.329693541045798,-0.3138008356438856],[-0.329693541045798,-0.30980393625279357],[-0.329693541045798,-0.24966685505185124],[-0.329693541045798,-0.1862954064837255],[-0.329693541045798,-0.37049223081969757],[-0.329693541045798,-0.24162207871093905],[-0.329693541045798,-0.28195415326975093],[-0.329693541045798,-0.40408282352999103],[-0.329693541045798,-0.212925184986685],[-0.329693541045798,-0.4260470500368377],[-0.3138008356438856,-0.30980393625279357],[-0.3138008356438856,-0.24966685505185124],[-0.3138008356438856,-0.1862954064837255],[-0.3138008356438856,-0.37049223081969757],[-0.3138008356438856,-0.24162207871093905],[-0.3138008356438856,-0.28195415326975093],[-0.3138008356438856,-0.40408282352999103],[-0.3138008356438856,-0.212925184986685],[-0.3138008356438856,-0.4260470500368377],[-0.30980393625279357,-0.24966685505185124],[-0.30980393625279357,-0.1862954064837255],[-0.30980393625279357,-0.37049223081969757],[-0.30980393625279357,-0.24162207871093905],[-0.30980393625279357,-0.28195415326975093],[-0.30980393625279357,-0.40408282352999103],[-0.30980393625279357,-0.212925184986685],[-0.30980393625279357,-0.4260470500368377],[-0.24966685505185124,-0.1862954064837255],[-0.24966685505185124,-0.37049223081969757],[-0.24966685505185124,-0.24162207871093905],[-0.24966685505185124,-0.28195415326975093],[-0.24966685505185124,-0.40408282352999103],[-0.24966685505185124,-0.212925184986685],[-0.24966685505185124,-0.4260470500368377],[-0.1862954064837255,-0.37049223081969757],[-0.1862954064837255,-0.24162207871093905],[-0.1862954064837255,-0.28195415326975093],[-0.1862954064837255,-0.40408282352999103],[-0.1862954064837255,-0.212925184986685],[-0.1862954064837255,-0.4260470500368377],[-0.37049223081969757,-0.24162207871093905],[-0.37049223081969757,-0.28195415326975093],[-0.37049223081969757,-0.40408282352999103],[-0.37049223081969757,-0.212925184986685],[-0.37049223081969757,-0.4260470500368377],[-0.24162207871093905,-0.28195415326975093],[-0.24162207871093905,-0.40408282352999103],[-0.24162207871093905,-0.212925184986685],[-0.24162207871093905,-0.4260470500368377],[-0.28195415326975093,-0.40408282352999103],[-0.28195415326975093,-0.212925184986685],[-0.28195415326975093,-0.4260470500368377],[-0.40408282352999103,-0.212925184986685],[-0.40408282352999103,-0.4260470500368377],[-0.212925184986685,-0.4260470500368377],[0.38292159508028867,0.4352180276582586],[0.38292159508028867,0.27595326621682753],[0.38292159508028867,0.261777520815808],[0.38292159508028867,0.39775872358092274],[0.38292159508028867,0.3870762522592955],[0.38292159508028867,0.40260739848425225],[0.38292159508028867,0.19935952178238467],[0.38292159508028867,0.18177400018013884],[0.38292159508028867,0.4695558144676446],[0.38292159508028867,0.47184358832784185],[0.38292159508028867,0.3014556392716245],[0.38292159508028867,0.2280492894078101],[0.38292159508028867,0.4479290241496791],[0.38292159508028867,0.23097527620747235],[0.38292159508028867,0.32125975344518826],[0.38292159508028867,0.3684095473478706],[0.38292159508028867,0.2682039867639554],[0.38292159508028867,0.349699692699343],[0.38292159508028867,0.21351553871648007],[0.38292159508028867,0.32691389934447984],[0.4352180276582586,0.27595326621682753],[0.4352180276582586,0.261777520815808],[0.4352180276582586,0.39775872358092274],[0.4352180276582586,0.3870762522592955],[0.4352180276582586,0.40260739848425225],[0.4352180276582586,0.19935952178238467],[0.4352180276582586,0.18177400018013884],[0.4352180276582586,0.4695558144676446],[0.4352180276582586,0.47184358832784185],[0.4352180276582586,0.3014556392716245],[0.4352180276582586,0.2280492894078101],[0.4352180276582586,0.4479290241496791],[0.4352180276582586,0.23097527620747235],[0.4352180276582586,0.32125975344518826],[0.4352180276582586,0.3684095473478706],[0.4352180276582586,0.2682039867639554],[0.4352180276582586,0.349699692699343],[0.4352180276582586,0.21351553871648007],[0.4352180276582586,0.32691389934447984],[0.27595326621682753,0.261777520815808],[0.27595326621682753,0.39775872358092274],[0.27595326621682753,0.3870762522592955],[0.27595326621682753,0.40260739848425225],[0.27595326621682753,0.19935952178238467],[0.27595326621682753,0.18177400018013884],[0.27595326621682753,0.4695558144676446],[0.27595326621682753,0.47184358832784185],[0.27595326621682753,0.3014556392716245],[0.27595326621682753,0.2280492894078101],[0.27595326621682753,0.4479290241496791],[0.27595326621682753,0.23097527620747235],[0.27595326621682753,0.32125975344518826],[0.27595326621682753,0.3684095473478706],[0.27595326621682753,0.2682039867639554],[0.27595326621682753,0.349699692699343],[0.27595326621682753,0.21351553871648007],[0.27595326621682753,0.32691389934447984],[0.261777520815808,0.39775872358092274],[0.261777520815808,0.3870762522592955],[0.261777520815808,0.40260739848425225],[0.261777520815808,0.19935952178238467],[0.261777520815808,0.18177400018013884],[0.261777520815808,0.4695558144676446],[0.261777520815808,0.47184358832784185],[0.261777520815808,0.3014556392716245],[0.261777520815808,0.2280492894078101],[0.261777520815808,0.4479290241496791],[0.261777520815808,0.23097527620747235],[0.261777520815808,0.32125975344518826],[0.261777520815808,0.3684095473478706],[0.261777520815808,0.2682039867639554],[0.261777520815808,0.349699692699343],[0.261777520815808,0.21351553871648007],[0.261777520815808,0.32691389934447984],[0.39775872358092274,0.3870762522592955],[0.39775872358092274,0.40260739848425225],[0.39775872358092274,0.19935952178238467],[0.39775872358092274,0.18177400018013884],[0.39775872358092274,0.4695558144676446],[0.39775872358092274,0.47184358832784185],[0.39775872358092274,0.3014556392716245],[0.39775872358092274,0.2280492894078101],[0.39775872358092274,0.4479290241496791],[0.39775872358092274,0.23097527620747235],[0.39775872358092274,0.32125975344518826],[0.39775872358092274,0.3684095473478706],[0.39775872358092274,0.2682039867639554],[0.39775872358092274,0.349699692699343],[0.39775872358092274,0.21351553871648007],[0.39775872358092274,0.32691389934447984],[0.3870762522592955,0.40260739848425225],[0.3870762522592955,0.19935952178238467],[0.3870762522592955,0.18177400018013884],[0.3870762522592955,0.4695558144676446],[0.3870762522592955,0.47184358832784185],[0.3870762522592955,0.3014556392716245],[0.3870762522592955,0.2280492894078101],[0.3870762522592955,0.4479290241496791],[0.3870762522592955,0.23097527620747235],[0.3870762522592955,0.32125975344518826],[0.3870762522592955,0.3684095473478706],[0.3870762522592955,0.2682039867639554],[0.3870762522592955,0.349699692699343],[0.3870762522592955,0.21351553871648007],[0.3870762522592955,0.32691389934447984],[0.40260739848425225,0.19935952178238467],[0.40260739848425225,0.18177400018013884],[0.40260739848425225,0.4695558144676446],[0.40260739848425225,0.47184358832784185],[0.40260739848425225,0.3014556392716245],[0.40260739848425225,0.2280492894078101],[0.40260739848425225,0.4479290241496791],[0.40260739848425225,0.23097527620747235],[0.40260739848425225,0.32125975344518826],[0.40260739848425225,0.3684095473478706],[0.40260739848425225,0.2682039867639554],[0.40260739848425225,0.349699692699343],[0.40260739848425225,0.21351553871648007],[0.40260739848425225,0.32691389934447984],[0.19935952178238467,0.18177400018013884],[0.19935952178238467,0.4695558144676446],[0.19935952178238467,0.47184358832784185],[0.19935952178238467,0.3014556392716245],[0.19935952178238467,0.2280492894078101],[0.19935952178238467,0.4479290241496791],[0.19935952178238467,0.23097527620747235],[0.19935952178238467,0.32125975344518826],[0.19935952178238467,0.3684095473478706],[0.19935952178238467,0.2682039867639554],[0.19935952178238467,0.349699692699343],[0.19935952178238467,0.21351553871648007],[0.19935952178238467,0.32691389934447984],[0.18177400018013884,0.4695558144676446],[0.18177400018013884,0.47184358832784185],[0.18177400018013884,0.3014556392716245],[0.18177400018013884,0.2280492894078101],[0.18177400018013884,0.4479290241496791],[0.18177400018013884,0.23097527620747235],[0.18177400018013884,0.32125975344518826],[0.18177400018013884,0.3684095473478706],[0.18177400018013884,0.2682039867639554],[0.18177400018013884,0.349699692699343],[0.18177400018013884,0.21351553871648007],[0.18177400018013884,0.32691389934447984],[0.4695558144676446,0.47184358832784185],[0.4695558144676446,0.3014556392716245],[0.4695558144676446,0.2280492894078101],[0.4695558144676446,0.4479290241496791],[0.4695558144676446,0.23097527620747235],[0.4695558144676446,0.32125975344518826],[0.4695558144676446,0.3684095473478706],[0.4695558144676446,0.2682039867639554],[0.4695558144676446,0.349699692699343],[0.4695558144676446,0.21351553871648007],[0.4695558144676446,0.32691389934447984],[0.47184358832784185,0.3014556392716245],[0.47184358832784185,0.2280492894078101],[0.47184358832784185,0.4479290241496791],[0.47184358832784185,0.23097527620747235],[0.47184358832784185,0.32125975344518826],[0.47184358832784185,0.3684095473478706],[0.47184358832784185,0.2682039867639554],[0.47184358832784185,0.349699692699343],[0.47184358832784185,0.21351553871648007],[0.47184358832784185,0.32691389934447984],[0.3014556392716245,0.2280492894078101],[0.3014556392716245,0.4479290241496791],[0.3014556392716245,0.23097527620747235],[0.3014556392716245,0.32125975344518826],[0.3014556392716245,0.3684095473478706],[0.3014556392716245,0.2682039867639554],[0.3014556392716245,0.349699692699343],[0.3014556392716245,0.21351553871648007],[0.3014556392716245,0.32691389934447984],[0.2280492894078101,0.4479290241496791],[0.2280492894078101,0.23097527620747235],[0.2280492894078101,0.32125975344518826],[0.2280492894078101,0.3684095473478706],[0.2280492894078101,0.2682039867639554],[0.2280492894078101,0.349699692699343],[0.2280492894078101,0.21351553871648007],[0.2280492894078101,0.32691389934447984],[0.4479290241496791,0.23097527620747235],[0.4479290241496791,0.32125975344518826],[0.4479290241496791,0.3684095473478706],[0.4479290241496791,0.2682039867639554],[0.4479290241496791,0.349699692699343],[0.4479290241496791,0.21351553871648007],[0.4479290241496791,0.32691389934447984],[0.23097527620747235,0.32125975344518826],[0.23097527620747235,0.3684095473478706],[0.23097527620747235,0.2682039867639554],[0.23097527620747235,0.349699692699343],[0.23097527620747235,0.21351553871648007],[0.23097527620747235,0.32691389934447984],[0.32125975344518826,0.3684095473478706],[0.32125975344518826,0.2682039867639554],[0.32125975344518826,0.349699692699343],[0.32125975344518826,0.21351553871648007],[0.32125975344518826,0.32691389934447984],[0.3684095473478706,0.2682039867639554],[0.3684095473478706,0.349699692699343],[0.3684095473478706,0.21351553871648007],[0.3684095473478706,0.32691389934447984],[0.2682039867639554,0.349699692699343],[0.2682039867639554,0.21351553871648007],[0.2682039867639554,0.32691389934447984],[0.349699692699343,0.21351553871648007],[0.349699692699343,0.32691389934447984],[0.21351553871648007,0.32691389934447984]]],[\"ys\",[[-0.8931933018998595,-0.9281131619449695],[-0.8931933018998595,-0.8517814192451606],[-0.8931933018998595,-0.8766595454601047],[-0.8931933018998595,-0.8150725572480985],[-0.8931933018998595,-0.7066581472244946],[-0.8931933018998595,-0.7481408751143368],[-0.8931933018998595,-0.7837286156205973],[-0.8931933018998595,-0.9851722959593451],[-0.8931933018998595,-0.9207830812969939],[-0.8931933018998595,-0.6880389049866729],[-0.8931933018998595,-0.8265441867331904],[-0.8931933018998595,-0.7327963605221117],[-0.8931933018998595,-0.8778698465460131],[-0.8931933018998595,-0.8482334749022806],[-0.8931933018998595,-0.7739317149108871],[-0.8931933018998595,-0.8125788352250182],[-0.8931933018998595,-0.990332218747787],[-0.8931933018998595,-0.9630087942637322],[-0.8931933018998595,-0.9451495475403447],[-0.8931933018998595,-0.7478540723965972],[-0.9281131619449695,-0.8517814192451606],[-0.9281131619449695,-0.8766595454601047],[-0.9281131619449695,-0.8150725572480985],[-0.9281131619449695,-0.7066581472244946],[-0.9281131619449695,-0.7481408751143368],[-0.9281131619449695,-0.7837286156205973],[-0.9281131619449695,-0.9851722959593451],[-0.9281131619449695,-0.9207830812969939],[-0.9281131619449695,-0.6880389049866729],[-0.9281131619449695,-0.8265441867331904],[-0.9281131619449695,-0.7327963605221117],[-0.9281131619449695,-0.8778698465460131],[-0.9281131619449695,-0.8482334749022806],[-0.9281131619449695,-0.7739317149108871],[-0.9281131619449695,-0.8125788352250182],[-0.9281131619449695,-0.990332218747787],[-0.9281131619449695,-0.9630087942637322],[-0.9281131619449695,-0.9451495475403447],[-0.9281131619449695,-0.7478540723965972],[-0.8517814192451606,-0.8766595454601047],[-0.8517814192451606,-0.8150725572480985],[-0.8517814192451606,-0.7066581472244946],[-0.8517814192451606,-0.7481408751143368],[-0.8517814192451606,-0.7837286156205973],[-0.8517814192451606,-0.9851722959593451],[-0.8517814192451606,-0.9207830812969939],[-0.8517814192451606,-0.6880389049866729],[-0.8517814192451606,-0.8265441867331904],[-0.8517814192451606,-0.7327963605221117],[-0.8517814192451606,-0.8778698465460131],[-0.8517814192451606,-0.8482334749022806],[-0.8517814192451606,-0.7739317149108871],[-0.8517814192451606,-0.8125788352250182],[-0.8517814192451606,-0.990332218747787],[-0.8517814192451606,-0.9630087942637322],[-0.8517814192451606,-0.9451495475403447],[-0.8517814192451606,-0.7478540723965972],[-0.8766595454601047,-0.8150725572480985],[-0.8766595454601047,-0.7066581472244946],[-0.8766595454601047,-0.7481408751143368],[-0.8766595454601047,-0.7837286156205973],[-0.8766595454601047,-0.9851722959593451],[-0.8766595454601047,-0.9207830812969939],[-0.8766595454601047,-0.6880389049866729],[-0.8766595454601047,-0.8265441867331904],[-0.8766595454601047,-0.7327963605221117],[-0.8766595454601047,-0.8778698465460131],[-0.8766595454601047,-0.8482334749022806],[-0.8766595454601047,-0.7739317149108871],[-0.8766595454601047,-0.8125788352250182],[-0.8766595454601047,-0.990332218747787],[-0.8766595454601047,-0.9630087942637322],[-0.8766595454601047,-0.9451495475403447],[-0.8766595454601047,-0.7478540723965972],[-0.8150725572480985,-0.7066581472244946],[-0.8150725572480985,-0.7481408751143368],[-0.8150725572480985,-0.7837286156205973],[-0.8150725572480985,-0.9851722959593451],[-0.8150725572480985,-0.9207830812969939],[-0.8150725572480985,-0.6880389049866729],[-0.8150725572480985,-0.8265441867331904],[-0.8150725572480985,-0.7327963605221117],[-0.8150725572480985,-0.8778698465460131],[-0.8150725572480985,-0.8482334749022806],[-0.8150725572480985,-0.7739317149108871],[-0.8150725572480985,-0.8125788352250182],[-0.8150725572480985,-0.990332218747787],[-0.8150725572480985,-0.9630087942637322],[-0.8150725572480985,-0.9451495475403447],[-0.8150725572480985,-0.7478540723965972],[-0.7066581472244946,-0.7481408751143368],[-0.7066581472244946,-0.7837286156205973],[-0.7066581472244946,-0.9851722959593451],[-0.7066581472244946,-0.9207830812969939],[-0.7066581472244946,-0.6880389049866729],[-0.7066581472244946,-0.8265441867331904],[-0.7066581472244946,-0.7327963605221117],[-0.7066581472244946,-0.8778698465460131],[-0.7066581472244946,-0.8482334749022806],[-0.7066581472244946,-0.7739317149108871],[-0.7066581472244946,-0.8125788352250182],[-0.7066581472244946,-0.990332218747787],[-0.7066581472244946,-0.9630087942637322],[-0.7066581472244946,-0.9451495475403447],[-0.7066581472244946,-0.7478540723965972],[-0.7481408751143368,-0.7837286156205973],[-0.7481408751143368,-0.9851722959593451],[-0.7481408751143368,-0.9207830812969939],[-0.7481408751143368,-0.6880389049866729],[-0.7481408751143368,-0.8265441867331904],[-0.7481408751143368,-0.7327963605221117],[-0.7481408751143368,-0.8778698465460131],[-0.7481408751143368,-0.8482334749022806],[-0.7481408751143368,-0.7739317149108871],[-0.7481408751143368,-0.8125788352250182],[-0.7481408751143368,-0.990332218747787],[-0.7481408751143368,-0.9630087942637322],[-0.7481408751143368,-0.9451495475403447],[-0.7481408751143368,-0.7478540723965972],[-0.7837286156205973,-0.9851722959593451],[-0.7837286156205973,-0.9207830812969939],[-0.7837286156205973,-0.6880389049866729],[-0.7837286156205973,-0.8265441867331904],[-0.7837286156205973,-0.7327963605221117],[-0.7837286156205973,-0.8778698465460131],[-0.7837286156205973,-0.8482334749022806],[-0.7837286156205973,-0.7739317149108871],[-0.7837286156205973,-0.8125788352250182],[-0.7837286156205973,-0.990332218747787],[-0.7837286156205973,-0.9630087942637322],[-0.7837286156205973,-0.9451495475403447],[-0.7837286156205973,-0.7478540723965972],[-0.9851722959593451,-0.9207830812969939],[-0.9851722959593451,-0.6880389049866729],[-0.9851722959593451,-0.8265441867331904],[-0.9851722959593451,-0.7327963605221117],[-0.9851722959593451,-0.8778698465460131],[-0.9851722959593451,-0.8482334749022806],[-0.9851722959593451,-0.7739317149108871],[-0.9851722959593451,-0.8125788352250182],[-0.9851722959593451,-0.990332218747787],[-0.9851722959593451,-0.9630087942637322],[-0.9851722959593451,-0.9451495475403447],[-0.9851722959593451,-0.7478540723965972],[-0.9207830812969939,-0.6880389049866729],[-0.9207830812969939,-0.8265441867331904],[-0.9207830812969939,-0.7327963605221117],[-0.9207830812969939,-0.8778698465460131],[-0.9207830812969939,-0.8482334749022806],[-0.9207830812969939,-0.7739317149108871],[-0.9207830812969939,-0.8125788352250182],[-0.9207830812969939,-0.990332218747787],[-0.9207830812969939,-0.9630087942637322],[-0.9207830812969939,-0.9451495475403447],[-0.9207830812969939,-0.7478540723965972],[-0.6880389049866729,-0.8265441867331904],[-0.6880389049866729,-0.7327963605221117],[-0.6880389049866729,-0.8778698465460131],[-0.6880389049866729,-0.8482334749022806],[-0.6880389049866729,-0.7739317149108871],[-0.6880389049866729,-0.8125788352250182],[-0.6880389049866729,-0.990332218747787],[-0.6880389049866729,-0.9630087942637322],[-0.6880389049866729,-0.9451495475403447],[-0.6880389049866729,-0.7478540723965972],[-0.8265441867331904,-0.7327963605221117],[-0.8265441867331904,-0.8778698465460131],[-0.8265441867331904,-0.8482334749022806],[-0.8265441867331904,-0.7739317149108871],[-0.8265441867331904,-0.8125788352250182],[-0.8265441867331904,-0.990332218747787],[-0.8265441867331904,-0.9630087942637322],[-0.8265441867331904,-0.9451495475403447],[-0.8265441867331904,-0.7478540723965972],[-0.7327963605221117,-0.8778698465460131],[-0.7327963605221117,-0.8482334749022806],[-0.7327963605221117,-0.7739317149108871],[-0.7327963605221117,-0.8125788352250182],[-0.7327963605221117,-0.990332218747787],[-0.7327963605221117,-0.9630087942637322],[-0.7327963605221117,-0.9451495475403447],[-0.7327963605221117,-0.7478540723965972],[-0.8778698465460131,-0.8482334749022806],[-0.8778698465460131,-0.7739317149108871],[-0.8778698465460131,-0.8125788352250182],[-0.8778698465460131,-0.990332218747787],[-0.8778698465460131,-0.9630087942637322],[-0.8778698465460131,-0.9451495475403447],[-0.8778698465460131,-0.7478540723965972],[-0.8482334749022806,-0.7739317149108871],[-0.8482334749022806,-0.8125788352250182],[-0.8482334749022806,-0.990332218747787],[-0.8482334749022806,-0.9630087942637322],[-0.8482334749022806,-0.9451495475403447],[-0.8482334749022806,-0.7478540723965972],[-0.7739317149108871,-0.8125788352250182],[-0.7739317149108871,-0.990332218747787],[-0.7739317149108871,-0.9630087942637322],[-0.7739317149108871,-0.9451495475403447],[-0.7739317149108871,-0.7478540723965972],[-0.8125788352250182,-0.990332218747787],[-0.8125788352250182,-0.9630087942637322],[-0.8125788352250182,-0.9451495475403447],[-0.8125788352250182,-0.7478540723965972],[-0.990332218747787,-0.9630087942637322],[-0.990332218747787,-0.9451495475403447],[-0.990332218747787,-0.7478540723965972],[-0.9630087942637322,-0.9451495475403447],[-0.9630087942637322,-0.7478540723965972],[-0.9451495475403447,-0.7478540723965972],[0.9094240114091253,0.9362345030050845],[0.9094240114091253,0.898897215688606],[0.9094240114091253,0.7247658006680584],[0.9094240114091253,0.7578888077404723],[0.9094240114091253,0.9799892452309815],[0.9094240114091253,0.7108771510763136],[0.9094240114091253,0.8014392961518771],[0.9094240114091253,0.8837766863964324],[0.9094240114091253,0.8878364145082877],[0.9094240114091253,0.830581608883812],[0.9094240114091253,1.0],[0.9094240114091253,0.9480667077913844],[0.9094240114091253,0.7622540754609122],[0.9094240114091253,0.8701694987726656],[0.9094240114091253,0.9446876576340303],[0.9094240114091253,0.8365980205932865],[0.9094240114091253,0.7976730609900178],[0.9094240114091253,0.7722265303318512],[0.9094240114091253,0.7481112269655852],[0.9094240114091253,0.714143438489812],[0.9362345030050845,0.898897215688606],[0.9362345030050845,0.7247658006680584],[0.9362345030050845,0.7578888077404723],[0.9362345030050845,0.9799892452309815],[0.9362345030050845,0.7108771510763136],[0.9362345030050845,0.8014392961518771],[0.9362345030050845,0.8837766863964324],[0.9362345030050845,0.8878364145082877],[0.9362345030050845,0.830581608883812],[0.9362345030050845,1.0],[0.9362345030050845,0.9480667077913844],[0.9362345030050845,0.7622540754609122],[0.9362345030050845,0.8701694987726656],[0.9362345030050845,0.9446876576340303],[0.9362345030050845,0.8365980205932865],[0.9362345030050845,0.7976730609900178],[0.9362345030050845,0.7722265303318512],[0.9362345030050845,0.7481112269655852],[0.9362345030050845,0.714143438489812],[0.898897215688606,0.7247658006680584],[0.898897215688606,0.7578888077404723],[0.898897215688606,0.9799892452309815],[0.898897215688606,0.7108771510763136],[0.898897215688606,0.8014392961518771],[0.898897215688606,0.8837766863964324],[0.898897215688606,0.8878364145082877],[0.898897215688606,0.830581608883812],[0.898897215688606,1.0],[0.898897215688606,0.9480667077913844],[0.898897215688606,0.7622540754609122],[0.898897215688606,0.8701694987726656],[0.898897215688606,0.9446876576340303],[0.898897215688606,0.8365980205932865],[0.898897215688606,0.7976730609900178],[0.898897215688606,0.7722265303318512],[0.898897215688606,0.7481112269655852],[0.898897215688606,0.714143438489812],[0.7247658006680584,0.7578888077404723],[0.7247658006680584,0.9799892452309815],[0.7247658006680584,0.7108771510763136],[0.7247658006680584,0.8014392961518771],[0.7247658006680584,0.8837766863964324],[0.7247658006680584,0.8878364145082877],[0.7247658006680584,0.830581608883812],[0.7247658006680584,1.0],[0.7247658006680584,0.9480667077913844],[0.7247658006680584,0.7622540754609122],[0.7247658006680584,0.8701694987726656],[0.7247658006680584,0.9446876576340303],[0.7247658006680584,0.8365980205932865],[0.7247658006680584,0.7976730609900178],[0.7247658006680584,0.7722265303318512],[0.7247658006680584,0.7481112269655852],[0.7247658006680584,0.714143438489812],[0.7578888077404723,0.9799892452309815],[0.7578888077404723,0.7108771510763136],[0.7578888077404723,0.8014392961518771],[0.7578888077404723,0.8837766863964324],[0.7578888077404723,0.8878364145082877],[0.7578888077404723,0.830581608883812],[0.7578888077404723,1.0],[0.7578888077404723,0.9480667077913844],[0.7578888077404723,0.7622540754609122],[0.7578888077404723,0.8701694987726656],[0.7578888077404723,0.9446876576340303],[0.7578888077404723,0.8365980205932865],[0.7578888077404723,0.7976730609900178],[0.7578888077404723,0.7722265303318512],[0.7578888077404723,0.7481112269655852],[0.7578888077404723,0.714143438489812],[0.9799892452309815,0.7108771510763136],[0.9799892452309815,0.8014392961518771],[0.9799892452309815,0.8837766863964324],[0.9799892452309815,0.8878364145082877],[0.9799892452309815,0.830581608883812],[0.9799892452309815,1.0],[0.9799892452309815,0.9480667077913844],[0.9799892452309815,0.7622540754609122],[0.9799892452309815,0.8701694987726656],[0.9799892452309815,0.9446876576340303],[0.9799892452309815,0.8365980205932865],[0.9799892452309815,0.7976730609900178],[0.9799892452309815,0.7722265303318512],[0.9799892452309815,0.7481112269655852],[0.9799892452309815,0.714143438489812],[0.7108771510763136,0.8014392961518771],[0.7108771510763136,0.8837766863964324],[0.7108771510763136,0.8878364145082877],[0.7108771510763136,0.830581608883812],[0.7108771510763136,1.0],[0.7108771510763136,0.9480667077913844],[0.7108771510763136,0.7622540754609122],[0.7108771510763136,0.8701694987726656],[0.7108771510763136,0.9446876576340303],[0.7108771510763136,0.8365980205932865],[0.7108771510763136,0.7976730609900178],[0.7108771510763136,0.7722265303318512],[0.7108771510763136,0.7481112269655852],[0.7108771510763136,0.714143438489812],[0.8014392961518771,0.8837766863964324],[0.8014392961518771,0.8878364145082877],[0.8014392961518771,0.830581608883812],[0.8014392961518771,1.0],[0.8014392961518771,0.9480667077913844],[0.8014392961518771,0.7622540754609122],[0.8014392961518771,0.8701694987726656],[0.8014392961518771,0.9446876576340303],[0.8014392961518771,0.8365980205932865],[0.8014392961518771,0.7976730609900178],[0.8014392961518771,0.7722265303318512],[0.8014392961518771,0.7481112269655852],[0.8014392961518771,0.714143438489812],[0.8837766863964324,0.8878364145082877],[0.8837766863964324,0.830581608883812],[0.8837766863964324,1.0],[0.8837766863964324,0.9480667077913844],[0.8837766863964324,0.7622540754609122],[0.8837766863964324,0.8701694987726656],[0.8837766863964324,0.9446876576340303],[0.8837766863964324,0.8365980205932865],[0.8837766863964324,0.7976730609900178],[0.8837766863964324,0.7722265303318512],[0.8837766863964324,0.7481112269655852],[0.8837766863964324,0.714143438489812],[0.8878364145082877,0.830581608883812],[0.8878364145082877,1.0],[0.8878364145082877,0.9480667077913844],[0.8878364145082877,0.7622540754609122],[0.8878364145082877,0.8701694987726656],[0.8878364145082877,0.9446876576340303],[0.8878364145082877,0.8365980205932865],[0.8878364145082877,0.7976730609900178],[0.8878364145082877,0.7722265303318512],[0.8878364145082877,0.7481112269655852],[0.8878364145082877,0.714143438489812],[0.830581608883812,1.0],[0.830581608883812,0.9480667077913844],[0.830581608883812,0.7622540754609122],[0.830581608883812,0.8701694987726656],[0.830581608883812,0.9446876576340303],[0.830581608883812,0.8365980205932865],[0.830581608883812,0.7976730609900178],[0.830581608883812,0.7722265303318512],[0.830581608883812,0.7481112269655852],[0.830581608883812,0.714143438489812],[1.0,0.9480667077913844],[1.0,0.7622540754609122],[1.0,0.8701694987726656],[1.0,0.9446876576340303],[1.0,0.8365980205932865],[1.0,0.7976730609900178],[1.0,0.7722265303318512],[1.0,0.7481112269655852],[1.0,0.714143438489812],[0.9480667077913844,0.7622540754609122],[0.9480667077913844,0.8701694987726656],[0.9480667077913844,0.9446876576340303],[0.9480667077913844,0.8365980205932865],[0.9480667077913844,0.7976730609900178],[0.9480667077913844,0.7722265303318512],[0.9480667077913844,0.7481112269655852],[0.9480667077913844,0.714143438489812],[0.7622540754609122,0.8701694987726656],[0.7622540754609122,0.9446876576340303],[0.7622540754609122,0.8365980205932865],[0.7622540754609122,0.7976730609900178],[0.7622540754609122,0.7722265303318512],[0.7622540754609122,0.7481112269655852],[0.7622540754609122,0.714143438489812],[0.8701694987726656,0.9446876576340303],[0.8701694987726656,0.8365980205932865],[0.8701694987726656,0.7976730609900178],[0.8701694987726656,0.7722265303318512],[0.8701694987726656,0.7481112269655852],[0.8701694987726656,0.714143438489812],[0.9446876576340303,0.8365980205932865],[0.9446876576340303,0.7976730609900178],[0.9446876576340303,0.7722265303318512],[0.9446876576340303,0.7481112269655852],[0.9446876576340303,0.714143438489812],[0.8365980205932865,0.7976730609900178],[0.8365980205932865,0.7722265303318512],[0.8365980205932865,0.7481112269655852],[0.8365980205932865,0.714143438489812],[0.7976730609900178,0.7722265303318512],[0.7976730609900178,0.7481112269655852],[0.7976730609900178,0.714143438489812],[0.7722265303318512,0.7481112269655852],[0.7722265303318512,0.714143438489812],[0.7481112269655852,0.714143438489812]]],[\"_u\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,15,15,15,15,15,15,16,16,16,16,16,17,17,17,17,18,18,18,19,19,20,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,30,30,30,30,30,30,30,30,30,30,30,30,31,31,31,31,31,31,31,31,31,31,31,32,32,32,32,32,32,32,32,32,32,33,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,35,35,35,35,35,35,35,36,36,36,36,36,36,37,37,37,37,37,38,38,38,38,39,39,39,40,40,41]],[\"_v\",[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,8,9,10,11,12,13,14,15,16,17,18,19,20,21,9,10,11,12,13,14,15,16,17,18,19,20,21,10,11,12,13,14,15,16,17,18,19,20,21,11,12,13,14,15,16,17,18,19,20,21,12,13,14,15,16,17,18,19,20,21,13,14,15,16,17,18,19,20,21,14,15,16,17,18,19,20,21,15,16,17,18,19,20,21,16,17,18,19,20,21,17,18,19,20,21,18,19,20,21,19,20,21,20,21,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,29,30,31,32,33,34,35,36,37,38,39,40,41,42,30,31,32,33,34,35,36,37,38,39,40,41,42,31,32,33,34,35,36,37,38,39,40,41,42,32,33,34,35,36,37,38,39,40,41,42,33,34,35,36,37,38,39,40,41,42,34,35,36,37,38,39,40,41,42,35,36,37,38,39,40,41,42,36,37,38,39,40,41,42,37,38,39,40,41,42,38,39,40,41,42,39,40,41,42,40,41,42,41,42,42]],[\"weight\",[1,1,1,1,1,1,1,1,5,1,5,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,5,1,1,5,1,1,1,1,5,7,1,1,1,1,1,1,7,1,7,1,1,1,1,1,1,1,1,1,1,7,1,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,5,1,1,1,1,1,1,1,1,5,1,1,5,1,1,1,1,5,1,5,1,1,1,1,1,1,1,1,1,5,1,1,1,1,5,1,1,1,1,1,1,1,1,7,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,5,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,5,1,5,1,1,1,1,1,1,1,1,1,6,1,1,1,1,1,1,1,1,1,6,1,6,1,1,7,1,1,1,1,1,1,7,1,1,1,1,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,1,1,1,1,7,1,1,1,1,1,1,1,1,1,1,1,6,1,6,1,1,1,1,5,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,1,6,1,1,1,1]],[\"_edge_alpha\",[0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.5,1.0,0.25,0.25,0.25,0.25,0.25,0.25,1.0,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,1.0,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.75,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.75,0.25,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.75,0.25,0.25,0.25,0.25]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p23188\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p23189\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p23184\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p23185\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p23186\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p23201\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p23192\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p23193\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p23194\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.3437640307499062,-0.45737084077829154,-0.48613530972467295,-0.41667680856843176,-0.44890546421194333,-0.38627276331077653,-0.23274870298436762,-0.18741425707924012,-0.34851268680926784,-0.2880723961587051,-0.329693541045798,-0.3138008356438856,-0.30980393625279357,-0.24966685505185124,-0.1862954064837255,-0.37049223081969757,-0.24162207871093905,-0.28195415326975093,-0.40408282352999103,-0.212925184986685,-0.4260470500368377,0.38292159508028867,0.4352180276582586,0.27595326621682753,0.261777520815808,0.39775872358092274,0.3870762522592955,0.40260739848425225,0.19935952178238467,0.18177400018013884,0.4695558144676446,0.47184358832784185,0.3014556392716245,0.2280492894078101,0.4479290241496791,0.23097527620747235,0.32125975344518826,0.3684095473478706,0.2682039867639554,0.349699692699343,0.21351553871648007,0.32691389934447984]],[\"ys\",[-0.8931933018998595,-0.9281131619449695,-0.8517814192451606,-0.8766595454601047,-0.8150725572480985,-0.7066581472244946,-0.7481408751143368,-0.7837286156205973,-0.9851722959593451,-0.9207830812969939,-0.6880389049866729,-0.8265441867331904,-0.7327963605221117,-0.8778698465460131,-0.8482334749022806,-0.7739317149108871,-0.8125788352250182,-0.990332218747787,-0.9630087942637322,-0.9451495475403447,-0.7478540723965972,0.9094240114091253,0.9362345030050845,0.898897215688606,0.7247658006680584,0.7578888077404723,0.9799892452309815,0.7108771510763136,0.8014392961518771,0.8837766863964324,0.8878364145082877,0.830581608883812,1.0,0.9480667077913844,0.7622540754609122,0.8701694987726656,0.9446876576340303,0.8365980205932865,0.7976730609900178,0.7722265303318512,0.7481112269655852,0.714143438489812]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[9,0,0,14,14,11,7,7,0,10,4,9,3,1,15,3,16,0,0,0,12,11,3,2,5,15,12,8,5,2,0,0,0,10,8,1,0,6,13,16,13,6]],[\"gender\",[\"w\",\"m\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"m\",\"w\",\"m\",\"m\",\"m\",\"w\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\",\"m\",\"w\",\"w\",\"w\",\"m\",\"m\",\"m\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"w\"]],[\"grade\",[1.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},3.0,3.0,2.0,4.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,2.0,1.0,2.0,1.0,4.0,2.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},2.0,2.0,2.0,1.0,3.0,4.0,2.0,4.0,3.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},1.0,4.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,3.0,4.0,3.0,3.0]],[\"hours\",[4,10,9,5,5,4,6,6,6,4,4,4,4,4,6,4,6,9,9,6,4,4,4,4,5,6,4,6,5,4,5,4,11,4,6,4,6,5,5,6,5,5]],[\"status\",[\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"social_worker\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\"]],[\"_colormap\",[\"rgb(240, 38, 1)\",\"rgb(93, 141, 246)\",\"rgb(93, 141, 246)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(93, 141, 246)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(93, 141, 246)\",\"rgb(93, 141, 246)\",\"rgb(93, 141, 246)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(93, 141, 246)\",\"rgb(73, 193, 2)\",\"rgb(93, 141, 246)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(73, 193, 2)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\",\"rgb(240, 38, 1)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p23202\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p23203\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p23198\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p23199\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p23200\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p23143\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p23166\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p23167\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p23168\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p23169\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p23170\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p23190\",\"attributes\":{\"renderers\":[{\"id\":\"p23187\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p23204\",\"attributes\":{\"renderers\":[{\"id\":\"p23201\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p23159\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p23160\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p23161\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p23162\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p23152\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p23153\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p23154\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p23155\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p23158\",\"attributes\":{\"axis\":{\"id\":\"p23152\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p23165\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p23159\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"e415f4e2-baea-408b-add3-581cc07212da\",\"roots\":{\"p23135\":\"b0d4440c-3568-4896-99d4-9da156aed0ea\"},\"root_ids\":[\"p23135\"],\"notebook_comms_target\":\"p24013\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p23135"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "class ClassRoom(popy.MagicLocation):\n",
    "    def setup(self):\n",
    "        self.n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.friend_group\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return agent.hours\n",
    "\n",
    "    def project_weights(self, agent1, agent2) -> float:\n",
    "        return min([self.get_weight(agent1), self.get_weight(agent2)])\n",
    "\n",
    "    def nest(self):\n",
    "        return School\n",
    "\n",
    "\n",
    "class School(popy.MagicLocation):\n",
    "    n_locations = 2\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[School, ClassRoom])\n",
    "\n",
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"status\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 96,
   "id": "d00203d1",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"a27e5f78-0783-4f04-915e-8a2632bbb35b\" data-root-id=\"p24109\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"e38a737f-e52c-48b7-b88c-bb173542711b\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p24109\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p24111\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p24110\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p24122\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p24124\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p24116\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p24161\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p24152\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p24153\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p24154\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.5632922722019985,-0.438459296848395],[-0.5632922722019985,-0.6775408923689508],[-0.7312224333604453,-0.438459296848395],[-0.2369178418769883,-0.438459296848395],[-0.16726047750277914,-0.438459296848395],[-0.16726047750277914,-0.06277270762009063],[-0.12801396903376341,-0.438459296848395],[-0.12801396903376341,-0.06277270762009063],[-0.4678967943887988,-0.438459296848395],[-0.4678967943887988,-0.3888815674885039],[-0.5612533621566216,-0.438459296848395],[-0.5612533621566216,-0.5190192549819175],[-0.5748985234009999,-0.438459296848395],[-0.5748985234009999,-0.5190192549819175],[-0.742725289293234,-0.438459296848395],[-0.648877371579923,-0.438459296848395],[-0.648877371579923,-0.6775408923689508],[-0.4933883573178016,-0.438459296848395],[-0.4933883573178016,-0.3888815674885039],[-0.7098984000371988,-0.438459296848395],[-0.7098984000371988,-0.6775408923689508],[-0.3079260088840796,-0.438459296848395],[-0.3079260088840796,-0.3888815674885039],[-0.6042715443129961,-0.438459296848395],[-0.6042715443129961,-0.6775408923689508],[-0.5992117766793414,-0.438459296848395],[-0.5992117766793414,-0.5190192549819175],[-0.32844964954890277,-0.438459296848395],[-0.32844964954890277,-0.3888815674885039],[-0.42603608569816237,-0.438459296848395],[-0.42603608569816237,-0.5190192549819175],[-0.4429698585508474,-0.438459296848395],[-0.18935976149287692,-0.438459296848395],[-0.35469146611608443,-0.438459296848395],[-0.39435688781362344,-0.438459296848395],[-0.39435688781362344,-0.3888815674885039],[0.3385013383699664,0.4153446635648103],[0.3385013383699664,0.30252612684887803],[0.2698072727556235,0.4153446635648103],[0.2698072727556235,0.30252612684887803],[0.6244326380343588,0.4153446635648103],[0.6244326380343588,0.7200402620408325],[0.5537349792825272,0.4153446635648103],[0.5537349792825272,0.48656597623116216],[0.14345095043071762,0.4153446635648103],[0.14345095043071762,0.05906857132171026],[0.3909302392358952,0.4153446635648103],[0.3909302392358952,0.30252612684887803],[0.11007735142602845,0.4153446635648103],[0.11007735142602845,0.05906857132171026],[0.5049061077351605,0.4153446635648103],[0.5049061077351605,0.48656597623116216],[0.679791238289369,0.4153446635648103],[0.679791238289369,0.7200402620408325],[0.39104842762639475,0.4153446635648103],[0.546450055614096,0.4153446635648103],[0.25649026525461865,0.4153446635648103],[0.6487370825839373,0.4153446635648103],[0.6487370825839373,0.7200402620408325],[0.14492151516529084,0.4153446635648103],[0.14492151516529084,0.05906857132171026],[0.710887722494933,0.4153446635648103],[0.710887722494933,0.7200402620408325],[0.3080535741337829,0.4153446635648103],[0.7301368149539766,0.4153446635648103],[0.7301368149539766,0.7918512590718025],[0.4042639840752221,0.4153446635648103],[0.4042639840752221,0.48656597623116216],[0.09722117229847843,0.4153446635648103],[0.09722117229847843,0.05906857132171026],[0.4354131256042318,0.4153446635648103],[0.4354131256042318,0.48656597623116216],[0.6949391361115195,0.4153446635648103],[0.6949391361115195,0.7918512590718025]]],[\"ys\",[[-0.9094434072061233,-0.6494785530214767],[-0.9094434072061233,-0.9079370672260657],[-0.5291079364392015,-0.6494785530214767],[-0.7283627851146437,-0.6494785530214767],[-0.8649213126162797,-0.6494785530214767],[-0.8649213126162797,-0.8831089908673695],[-0.8043574412679455,-0.6494785530214767],[-0.8043574412679455,-0.8831089908673695],[-0.39015172484115845,-0.6494785530214767],[-0.39015172484115845,-0.30836738315461354],[-0.6345570605561448,-0.6494785530214767],[-0.6345570605561448,-0.5466400812773844],[-0.49088598027034663,-0.6494785530214767],[-0.49088598027034663,-0.5466400812773844],[-0.6625521361866413,-0.6494785530214767],[-0.8303556661997605,-0.6494785530214767],[-0.8303556661997605,-0.9079370672260657],[-0.33248217628557086,-0.6494785530214767],[-0.33248217628557086,-0.30836738315461354],[-0.8123886078107813,-0.6494785530214767],[-0.8123886078107813,-0.9079370672260657],[-0.4065852147187127,-0.6494785530214767],[-0.4065852147187127,-0.30836738315461354],[-0.8769357400418387,-0.6494785530214767],[-0.8769357400418387,-0.9079370672260657],[-0.5635623616566144,-0.6494785530214767],[-0.5635623616566144,-0.5466400812773844],[-0.3554840883765913,-0.6494785530214767],[-0.3554840883765913,-0.30836738315461354],[-0.5511530111286961,-0.6494785530214767],[-0.5511530111286961,-0.5466400812773844],[-0.9609931873313448,-0.6494785530214767],[-0.6418930097875244,-0.6494785530214767],[-0.9208183819361195,-0.6494785530214767],[-0.4125646975345032,-0.6494785530214767],[-0.4125646975345032,-0.30836738315461354],[0.9035486554183721,0.6127244445503347],[0.9035486554183721,1.0],[0.9162193531356206,0.6127244445503347],[0.9162193531356206,1.0],[0.7533385361919619,0.6127244445503347],[0.7533385361919619,0.7249635782320876],[0.3584341827511145,0.6127244445503347],[0.3584341827511145,0.30052676405863105],[0.6519468312648474,0.6127244445503347],[0.6519468312648474,0.6052589082595641],[0.9419532605729674,0.6127244445503347],[0.9419532605729674,1.0],[0.5365872375044525,0.6127244445503347],[0.5365872375044525,0.6052589082595641],[0.4015724027656874,0.6127244445503347],[0.4015724027656874,0.30052676405863105],[0.79856505287959,0.6127244445503347],[0.79856505287959,0.7249635782320876],[0.7486749978056427,0.6127244445503347],[0.8888892086810448,0.6127244445503347],[0.787306710514975,0.6127244445503347],[0.6836100393778477,0.6127244445503347],[0.6836100393778477,0.7249635782320876],[0.5857833324441587,0.6127244445503347],[0.5857833324441587,0.6052589082595641],[0.6419617937840004,0.6127244445503347],[0.6419617937840004,0.7249635782320876],[0.5179155847061905,0.6127244445503347],[0.45839663100279027,0.6127244445503347],[0.45839663100279027,0.36970451916846053],[0.31855385630998956,0.6127244445503347],[0.31855385630998956,0.30052676405863105],[0.6890487260858333,0.6127244445503347],[0.6890487260858333,0.6052589082595641],[0.37409163497036796,0.6127244445503347],[0.37409163497036796,0.30052676405863105],[0.40551176041692283,0.6127244445503347],[0.40551176041692283,0.36970451916846053]]],[\"_u\",[1,1,2,3,4,4,5,5,6,6,7,7,8,8,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,19,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,30,30,31,32,33,34,34,35,35,36,36,37,38,38,39,39,40,40,41,41,42,42]],[\"_v\",[43,45,43,43,43,46,43,46,43,47,43,48,43,48,43,43,45,43,47,43,45,43,47,43,45,43,48,43,47,43,48,43,43,43,43,47,44,49,44,49,44,50,44,51,44,53,44,49,44,53,44,51,44,50,44,44,44,44,50,44,53,44,50,44,44,52,44,51,44,53,44,51,44,52]],[\"weight\",[1,4,1,1,1,5,1,5,1,4,1,6,1,6,1,1,4,1,4,1,4,1,4,1,4,1,6,1,4,1,6,1,1,1,1,4,1,4,1,4,1,4,1,5,1,6,1,4,1,6,1,5,1,4,1,1,1,1,4,1,6,1,4,1,1,5,1,5,1,6,1,5,1,5]],[\"_edge_alpha\",[0.25,0.5,0.25,0.25,0.25,0.75,0.25,0.75,0.25,0.5,0.25,1.0,0.25,1.0,0.25,0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.5,0.25,1.0,0.25,0.5,0.25,1.0,0.25,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.75,0.25,1.0,0.25,0.5,0.25,1.0,0.25,0.75,0.25,0.5,0.25,0.25,0.25,0.25,0.5,0.25,1.0,0.25,0.5,0.25,0.25,0.75,0.25,0.75,0.25,1.0,0.25,0.75,0.25,0.75]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p24162\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p24163\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p24158\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p24159\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p24160\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p24175\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p24166\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p24167\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p24168\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.5632922722019985,-0.7312224333604453,-0.2369178418769883,-0.16726047750277914,-0.12801396903376341,-0.4678967943887988,-0.5612533621566216,-0.5748985234009999,-0.742725289293234,-0.648877371579923,-0.4933883573178016,-0.7098984000371988,-0.3079260088840796,-0.6042715443129961,-0.5992117766793414,-0.32844964954890277,-0.42603608569816237,-0.4429698585508474,-0.18935976149287692,-0.35469146611608443,-0.39435688781362344,0.3385013383699664,0.2698072727556235,0.6244326380343588,0.5537349792825272,0.14345095043071762,0.3909302392358952,0.11007735142602845,0.5049061077351605,0.679791238289369,0.39104842762639475,0.546450055614096,0.25649026525461865,0.6487370825839373,0.14492151516529084,0.710887722494933,0.3080535741337829,0.7301368149539766,0.4042639840752221,0.09722117229847843,0.4354131256042318,0.6949391361115195]],[\"ys\",[-0.9094434072061233,-0.5291079364392015,-0.7283627851146437,-0.8649213126162797,-0.8043574412679455,-0.39015172484115845,-0.6345570605561448,-0.49088598027034663,-0.6625521361866413,-0.8303556661997605,-0.33248217628557086,-0.8123886078107813,-0.4065852147187127,-0.8769357400418387,-0.5635623616566144,-0.3554840883765913,-0.5511530111286961,-0.9609931873313448,-0.6418930097875244,-0.9208183819361195,-0.4125646975345032,0.9035486554183721,0.9162193531356206,0.7533385361919619,0.3584341827511145,0.6519468312648474,0.9419532605729674,0.5365872375044525,0.4015724027656874,0.79856505287959,0.7486749978056427,0.8888892086810448,0.787306710514975,0.6836100393778477,0.5857833324441587,0.6419617937840004,0.5179155847061905,0.45839663100279027,0.31855385630998956,0.6890487260858333,0.37409163497036796,0.40551176041692283]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\",\"rgb(246, 180, 148)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p24176\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p24177\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p24172\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p24173\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p24174\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p24187\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p24178\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p24179\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p24180\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.438459296848395,0.4153446635648103,-0.6775408923689508,-0.06277270762009063,-0.3888815674885039,-0.5190192549819175,0.30252612684887803,0.7200402620408325,0.48656597623116216,0.7918512590718025,0.05906857132171026]],[\"ys\",[-0.6494785530214767,0.6127244445503347,-0.9079370672260657,-0.8831089908673695,-0.30836738315461354,-0.5466400812773844,1.0,0.7249635782320876,0.30052676405863105,0.36970451916846053,0.6052589082595641]],[\"_node\",[43,44,45,46,47,48,49,50,51,52,53]],[\"bipartite\",[1,1,1,1,1,1,1,1,1,1,1]],[\"type\",[\"School\",\"School\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\"]],[\"_colormap\",[\"rgb(184, 88, 9)\",\"rgb(184, 88, 9)\",\"rgb(58, 90, 100)\",\"rgb(58, 90, 100)\",\"rgb(58, 90, 100)\",\"rgb(58, 90, 100)\",\"rgb(58, 90, 100)\",\"rgb(58, 90, 100)\",\"rgb(58, 90, 100)\",\"rgb(58, 90, 100)\",\"rgb(58, 90, 100)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p24188\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p24189\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p24184\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p24185\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p24186\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p24117\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p24140\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p24141\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p24142\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p24143\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p24144\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p24164\",\"attributes\":{\"renderers\":[{\"id\":\"p24161\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p24190\",\"attributes\":{\"renderers\":[{\"id\":\"p24175\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p24192\",\"attributes\":{\"renderers\":[{\"id\":\"p24187\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p24133\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p24134\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p24135\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p24136\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p24126\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p24127\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p24128\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p24129\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p24132\",\"attributes\":{\"axis\":{\"id\":\"p24126\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p24139\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p24133\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"e38a737f-e52c-48b7-b88c-bb173542711b\",\"roots\":{\"p24109\":\"a27e5f78-0783-4f04-915e-8a2632bbb35b\"},\"root_ids\":[\"p24109\"],\"notebook_comms_target\":\"p25025\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p24109"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a1dea766",
   "metadata": {},
   "source": [
    "`nest()` allows us to nest as many locations in as many levels as we want. [Anwendungsbeispiel?]\n",
    "However, `nest()` has one disadvantage: Because the agents are first grouped into the level-2 location and then into the level-1 location, specific compositions defined at level 1 are not considered when grouping the agents into the level-2 locations.\n",
    "\n",
    "The following example demonstrates that:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 97,
   "id": "c061637a",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"d9fc9026-be92-4534-a6ce-ad9c4c82bcb6\" data-root-id=\"p25146\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"29a0e175-0194-4721-9a80-37b8533a2796\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p25146\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p25148\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p25147\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p25159\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p25161\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p25153\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p25198\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p25189\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p25190\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p25191\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.6274166495268844,-0.5890628513485769],[-0.6274166495268844,-0.603011362561671],[-0.6274166495268844,-0.5853373879999033],[-0.41137841281228793,-0.5890628513485769],[-0.41137841281228793,-0.41214917095238823],[-0.4689625148017564,-0.5890628513485769],[-0.4689625148017564,-0.41214917095238823],[-0.45017991929243906,-0.5890628513485769],[-0.45017991929243906,-0.41214917095238823],[-0.6334550672849991,-0.5890628513485769],[-0.6334550672849991,-0.603011362561671],[-0.5617017195854753,-0.5890628513485769],[-0.5617017195854753,-0.603011362561671],[-0.5617017195854753,-0.5853373879999033],[-0.37165495573309626,-0.5890628513485769],[-0.37165495573309626,-0.41214917095238823],[-0.29876843702825245,-0.5890628513485769],[-0.29876843702825245,-0.28288961039441896],[-0.3156984288053109,-0.5890628513485769],[-0.3156984288053109,-0.28288961039441896],[-0.4821817889553589,-0.5890628513485769],[-0.4821817889553589,-0.41214917095238823],[-0.8512910191209143,-0.5890628513485769],[-0.8512910191209143,-0.898748150477599],[-0.33917744160165764,-0.5890628513485769],[-0.33917744160165764,-0.28288961039441896],[-0.9320480910684579,-0.5890628513485769],[-0.9320480910684579,-0.898748150477599],[-0.6243188437152398,-0.5890628513485769],[-0.6243188437152398,-0.603011362561671],[-0.6243188437152398,-0.5853373879999033],[-0.9390877184594538,-0.5890628513485769],[-0.9390877184594538,-0.898748150477599],[-0.9953363600046798,-0.5890628513485769],[-0.3854225516130656,-0.5890628513485769],[-0.3854225516130656,-0.41214917095238823],[-0.8608913105034007,-0.5890628513485769],[-0.8608913105034007,-0.898748150477599],[-0.5823666143756895,-0.5890628513485769],[-0.5823666143756895,-0.5853373879999033],[-0.9071393575697578,-0.5890628513485769],[-0.9071393575697578,-0.898748150477599],[-0.26571802497597513,-0.5890628513485769],[-0.26571802497597513,-0.28288961039441896],[0.4666702933494128,0.6387082820382991],[0.4666702933494128,0.41481946427456967],[0.47564485258835265,0.6387082820382991],[0.47564485258835265,0.5133736009127579],[0.9406247864986768,0.6387082820382991],[0.9406247864986768,0.9572357861092389],[0.5464141943597812,0.6387082820382991],[0.5464141943597812,0.5133736009127579],[0.4265974415188085,0.6387082820382991],[0.4265974415188085,0.41481946427456967],[0.9956278530416323,0.6387082820382991],[0.5395363556374707,0.6387082820382991],[0.5395363556374707,0.48930005848105285],[0.38983509125589316,0.6387082820382991],[0.38983509125589316,0.41481946427456967],[0.5540324544538161,0.6387082820382991],[0.5540324544538161,0.5133736009127579],[0.5037385967641951,0.6387082820382991],[0.5037385967641951,0.48930005848105285],[0.5583527223199087,0.6387082820382991],[0.5583527223199087,0.48930005848105285],[0.4571856646017967,0.6387082820382991],[0.4571856646017967,0.48930005848105285],[0.9190047476504004,0.6387082820382991],[0.9190047476504004,0.9572357861092389],[0.5439901733234447,0.6387082820382991],[0.5439901733234447,0.48930005848105285],[0.36114250067152565,0.6387082820382991],[0.36114250067152565,0.41481946427456967],[0.46669210698002767,0.6387082820382991],[0.46669210698002767,0.41481946427456967],[0.9999999999999999,0.6387082820382991],[0.9999999999999999,0.9572357861092389],[0.9982918554611754,0.6387082820382991],[0.9982918554611754,0.9572357861092389],[0.4396884869270972,0.6387082820382991],[0.4396884869270972,0.41481946427456967],[0.4396884869270972,0.48930005848105285],[0.5817138969722456,0.6387082820382991],[0.5817138969722456,0.5133736009127579],[0.4971724943771298,0.6387082820382991],[0.4971724943771298,0.5133736009127579]]],[\"ys\",[[0.20833336822534357,-0.1681916985081685],[0.20833336822534357,0.1579146442706212],[0.20833336822534357,0.2270028562833016],[-0.5512482495843629,-0.1681916985081685],[-0.5512482495843629,-0.49240852184438705],[-0.5341396401300221,-0.1681916985081685],[-0.5341396401300221,-0.49240852184438705],[-0.44044803061054455,-0.1681916985081685],[-0.44044803061054455,-0.49240852184438705],[0.1073801636606327,-0.1681916985081685],[0.1073801636606327,0.1579146442706212],[0.18085539422817065,-0.1681916985081685],[0.18085539422817065,0.1579146442706212],[0.18085539422817065,0.2270028562833016],[-0.4921186468964906,-0.1681916985081685],[-0.4921186468964906,-0.49240852184438705],[0.02308267046105295,-0.1681916985081685],[0.02308267046105295,0.05310729741008554],[0.09684341093547552,-0.1681916985081685],[0.09684341093547552,0.05310729741008554],[-0.4852784048992843,-0.1681916985081685],[-0.4852784048992843,-0.49240852184438705],[-0.3646724890366041,-0.1681916985081685],[-0.3646724890366041,-0.32651670160794793],[0.03561879217224748,-0.1681916985081685],[0.03561879217224748,0.05310729741008554],[-0.2725360739572107,-0.1681916985081685],[-0.2725360739572107,-0.32651670160794793],[0.18220464478779116,-0.1681916985081685],[0.18220464478779116,0.1579146442706212],[0.18220464478779116,0.2270028562833016],[-0.33064678101534234,-0.1681916985081685],[-0.33064678101534234,-0.32651670160794793],[-0.04477763596065808,-0.1681916985081685],[-0.4324923597612802,-0.1681916985081685],[-0.4324923597612802,-0.49240852184438705],[-0.27944742897023334,-0.1681916985081685],[-0.27944742897023334,-0.32651670160794793],[0.26693528903366226,-0.1681916985081685],[0.26693528903366226,0.2270028562833016],[-0.38672136971793136,-0.1681916985081685],[-0.38672136971793136,-0.32651670160794793],[-0.004609122011286079,-0.1681916985081685],[-0.004609122011286079,0.05310729741008554],[0.11794929903452307,0.19336994438956132],[0.11794929903452307,0.07726302166458422],[0.6011666599959516,0.19336994438956132],[0.6011666599959516,0.5975008030666246],[0.0485013505086449,0.19336994438956132],[0.0485013505086449,-0.00989569686890551],[0.6425346930215065,0.19336994438956132],[0.6425346930215065,0.5975008030666246],[0.13138414098148585,0.19336994438956132],[0.13138414098148585,0.07726302166458422],[0.40167345882300676,0.19336994438956132],[-0.05717771103089838,0.19336994438956132],[-0.05717771103089838,-0.09332803069808962],[0.14043146911020365,0.19336994438956132],[0.14043146911020365,0.07726302166458422],[0.5482740268022981,0.19336994438956132],[0.5482740268022981,0.5975008030666246],[-0.15536116085374255,0.19336994438956132],[-0.15536116085374255,-0.09332803069808962],[-0.0968496528402505,0.19336994438956132],[-0.0968496528402505,-0.09332803069808962],[-0.13030651311240823,0.19336994438956132],[-0.13030651311240823,-0.09332803069808962],[-0.03818844706420102,0.19336994438956132],[-0.03818844706420102,-0.00989569686890551],[-0.13540749322348053,0.19336994438956132],[-0.13540749322348053,-0.09332803069808962],[0.09115282874057501,0.19336994438956132],[0.09115282874057501,0.07726302166458422],[0.07055582563518654,0.19336994438956132],[0.07055582563518654,0.07726302166458422],[0.038755775662519996,0.19336994438956132],[0.038755775662519996,-0.00989569686890551],[-0.03864180872665518,0.19336994438956132],[-0.03864180872665518,-0.00989569686890551],[-0.01240252068391798,0.19336994438956132],[-0.01240252068391798,0.07726302166458422],[-0.01240252068391798,-0.09332803069808962],[0.5952473050531326,0.19336994438956132],[0.5952473050531326,0.5975008030666246],[0.5387730556561224,0.19336994438956132],[0.5387730556561224,0.5975008030666246]]],[\"_u\",[1,1,1,2,2,3,3,4,4,5,5,6,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,14,15,15,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,28,28,29,29,30,30,31,31,32,32,33,33,34,34,35,35,36,36,37,37,38,38,39,39,40,40,40,41,41,42,42]],[\"_v\",[43,45,49,43,46,43,46,43,46,43,45,43,45,49,43,46,43,47,43,47,43,46,43,48,43,47,43,48,43,45,49,43,48,43,43,46,43,48,43,49,43,48,43,47,44,50,44,52,44,51,44,52,44,50,44,44,53,44,50,44,52,44,53,44,53,44,53,44,51,44,53,44,50,44,50,44,51,44,51,44,50,53,44,52,44,52]],[\"weight\",[1,60,60,1,40,1,40,1,40,1,60,1,60,60,1,100,1,110,1,50,1,40,1,40,1,50,1,40,1,60,60,1,90,1,1,40,1,40,1,90,1,40,1,50,1,60,1,90,1,40,1,40,1,60,1,1,50,1,60,1,40,1,50,1,50,1,50,1,50,1,50,1,60,1,60,1,40,1,40,1,60,60,1,40,1,40]],[\"_edge_alpha\",[0.14285714285714285,0.5714285714285714,0.5714285714285714,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.5714285714285714,0.5714285714285714,0.14285714285714285,0.857142857142857,0.14285714285714285,0.9999999999999998,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.5714285714285714,0.5714285714285714,0.14285714285714285,0.7142857142857142,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.7142857142857142,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.7142857142857142,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.5714285714285714,0.5714285714285714,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.2857142857142857]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p25199\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p25200\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p25195\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p25196\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p25197\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p25212\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p25203\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p25204\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p25205\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.6274166495268844,-0.41137841281228793,-0.4689625148017564,-0.45017991929243906,-0.6334550672849991,-0.5617017195854753,-0.37165495573309626,-0.29876843702825245,-0.3156984288053109,-0.4821817889553589,-0.8512910191209143,-0.33917744160165764,-0.9320480910684579,-0.6243188437152398,-0.9390877184594538,-0.9953363600046798,-0.3854225516130656,-0.8608913105034007,-0.5823666143756895,-0.9071393575697578,-0.26571802497597513,0.4666702933494128,0.47564485258835265,0.9406247864986768,0.5464141943597812,0.4265974415188085,0.9956278530416323,0.5395363556374707,0.38983509125589316,0.5540324544538161,0.5037385967641951,0.5583527223199087,0.4571856646017967,0.9190047476504004,0.5439901733234447,0.36114250067152565,0.46669210698002767,0.9999999999999999,0.9982918554611754,0.4396884869270972,0.5817138969722456,0.4971724943771298]],[\"ys\",[0.20833336822534357,-0.5512482495843629,-0.5341396401300221,-0.44044803061054455,0.1073801636606327,0.18085539422817065,-0.4921186468964906,0.02308267046105295,0.09684341093547552,-0.4852784048992843,-0.3646724890366041,0.03561879217224748,-0.2725360739572107,0.18220464478779116,-0.33064678101534234,-0.04477763596065808,-0.4324923597612802,-0.27944742897023334,0.26693528903366226,-0.38672136971793136,-0.004609122011286079,0.11794929903452307,0.6011666599959516,0.0485013505086449,0.6425346930215065,0.13138414098148585,0.40167345882300676,-0.05717771103089838,0.14043146911020365,0.5482740268022981,-0.15536116085374255,-0.0968496528402505,-0.13030651311240823,-0.03818844706420102,-0.13540749322348053,0.09115282874057501,0.07055582563518654,0.038755775662519996,-0.03864180872665518,-0.01240252068391798,0.5952473050531326,0.5387730556561224]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\",\"rgb(124, 34, 91)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p25213\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p25214\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p25209\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p25210\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p25211\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p25224\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p25215\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p25216\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p25217\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.5890628513485769,0.6387082820382991,-0.603011362561671,-0.41214917095238823,-0.28288961039441896,-0.898748150477599,-0.5853373879999033,0.41481946427456967,0.9572357861092389,0.5133736009127579,0.48930005848105285]],[\"ys\",[-0.1681916985081685,0.19336994438956132,0.1579146442706212,-0.49240852184438705,0.05310729741008554,-0.32651670160794793,0.2270028562833016,0.07726302166458422,-0.00989569686890551,0.5975008030666246,-0.09332803069808962]],[\"_node\",[43,44,45,46,47,48,49,50,51,52,53]],[\"bipartite\",[1,1,1,1,1,1,1,1,1,1,1]],[\"type\",[\"School\",\"School\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\"]],[\"_colormap\",[\"rgb(229, 5, 237)\",\"rgb(229, 5, 237)\",\"rgb(130, 190, 100)\",\"rgb(130, 190, 100)\",\"rgb(130, 190, 100)\",\"rgb(130, 190, 100)\",\"rgb(130, 190, 100)\",\"rgb(130, 190, 100)\",\"rgb(130, 190, 100)\",\"rgb(130, 190, 100)\",\"rgb(130, 190, 100)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p25225\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p25226\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p25221\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p25222\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p25223\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p25154\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p25177\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p25178\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p25179\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p25180\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p25181\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p25201\",\"attributes\":{\"renderers\":[{\"id\":\"p25198\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p25227\",\"attributes\":{\"renderers\":[{\"id\":\"p25212\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p25229\",\"attributes\":{\"renderers\":[{\"id\":\"p25224\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p25170\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p25171\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p25172\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p25173\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p25163\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p25164\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p25165\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p25166\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p25169\",\"attributes\":{\"axis\":{\"id\":\"p25163\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p25176\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p25170\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"29a0e175-0194-4721-9a80-37b8533a2796\",\"roots\":{\"p25146\":\"d9fc9026-be92-4534-a6ce-ad9c4c82bcb6\"},\"root_ids\":[\"p25146\"],\"notebook_comms_target\":\"p26086\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p25146"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "class TeachersInClassRoom(popy.MeltLocation):\n",
    "    def setup(self):\n",
    "        self.n_agents = 1\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"teacher\"\n",
    "\n",
    "\n",
    "class PupilsInClassRoom(popy.MeltLocation):\n",
    "    def setup(self):\n",
    "        self.n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade\n",
    "\n",
    "\n",
    "class ClassRoom(popy.MagicLocation):\n",
    "    def melt(self):\n",
    "        return [TeachersInClassRoom, PupilsInClassRoom]\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return agent.hours * 10\n",
    "\n",
    "    def project_weights(self, agent1, agent2) -> float:\n",
    "        return min([self.get_weight(agent1), self.get_weight(agent2)])\n",
    "\n",
    "    def nest(self):\n",
    "        return School\n",
    "\n",
    "\n",
    "class School(popy.MagicLocation):\n",
    "    n_locations = 2\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[School, ClassRoom])\n",
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 98,
   "id": "99615705",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[index  location_id   status  count location_type\n",
       " 0                0    pupil      3     ClassRoom\n",
       " 1                0  teacher      1     ClassRoom\n",
       " 2                1    pupil      5     ClassRoom\n",
       " 3                1  teacher      1     ClassRoom\n",
       " 4                2    pupil      3     ClassRoom\n",
       " 5                2  teacher      1     ClassRoom\n",
       " 6                3    pupil      4     ClassRoom\n",
       " 7                3  teacher      1     ClassRoom\n",
       " 8                4    pupil      3     ClassRoom\n",
       " 9                4  teacher      1     ClassRoom\n",
       " 10               5    pupil      5     ClassRoom\n",
       " 11               5  teacher      1     ClassRoom\n",
       " 12               6    pupil      3     ClassRoom\n",
       " 13               6  teacher      1     ClassRoom\n",
       " 14               7    pupil      4     ClassRoom\n",
       " 15               7  teacher      1     ClassRoom\n",
       " 16               8    pupil      5     ClassRoom\n",
       " 17               8  teacher      1     ClassRoom]"
      ]
     },
     "execution_count": 98,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "inspector.location_crosstab(\n",
    "    select_locations=[ClassRoom],\n",
    "    agent_attributes=\"status\",\n",
    "    output_format=\"df\",\n",
    ")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "cdfeaa0a",
   "metadata": {},
   "source": [
    "As you can see in the graph and the table above, the compositions defined by `ClassRoom` are not always met.\n",
    "That is due to the fact that the agents are first assigned to the schools independently of the settings defined by `ClassRoom`.\n",
    "When the classrooms are built, there are not always the *necessary* agents in each school needed to meet the composition defined in `ClassRoom`.\n",
    "This might not always be a problem.\n",
    "However, if we want to ensure that classrooms always have the defined composition of agents, they have to be created before the schools are created and, thus, we have to use the method `stick_together()` to nest classrooms into schools:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 99,
   "id": "13c5aa84",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"e456938c-f23c-4418-b739-5df5156370c6\" data-root-id=\"p26207\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"389053f4-f35e-458a-8da2-36005cdd784c\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p26207\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p26209\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p26208\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p26220\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p26222\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p26214\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p26259\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p26250\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p26251\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p26252\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.5236920462972352,0.6068644749446855],[0.5236920462972352,0.43989352327126696],[0.5236920462972352,0.48968269458265073],[0.5236920462972352,0.685491748678604],[0.5236920462972352,0.273236723847772],[0.5236920462972352,0.22246452525853527],[0.5236920462972352,0.4328304981216492],[0.5236920462972352,0.43106621475332574],[0.5236920462972352,0.4687318576424156],[0.5236920462972352,0.37058962866187817],[0.5236920462972352,0.282038763278035],[0.5236920462972352,0.37323592520159493],[0.5236920462972352,0.6099093983158207],[0.5236920462972352,0.24223761595117874],[0.5236920462972352,0.3305778461961635],[0.5236920462972352,0.6664870115283927],[0.5236920462972352,0.3178392508493623],[0.5236920462972352,0.545548197278505],[0.5236920462972352,0.6681431473639938],[0.5236920462972352,0.5681609072575381],[0.5236920462972352,0.6738261363151499],[0.6068644749446855,0.43989352327126696],[0.6068644749446855,0.48968269458265073],[0.6068644749446855,0.685491748678604],[0.6068644749446855,0.273236723847772],[0.6068644749446855,0.22246452525853527],[0.6068644749446855,0.4328304981216492],[0.6068644749446855,0.43106621475332574],[0.6068644749446855,0.4687318576424156],[0.6068644749446855,0.37058962866187817],[0.6068644749446855,0.282038763278035],[0.6068644749446855,0.37323592520159493],[0.6068644749446855,0.6099093983158207],[0.6068644749446855,0.24223761595117874],[0.6068644749446855,0.3305778461961635],[0.6068644749446855,0.6664870115283927],[0.6068644749446855,0.3178392508493623],[0.6068644749446855,0.545548197278505],[0.6068644749446855,0.6681431473639938],[0.6068644749446855,0.5681609072575381],[0.6068644749446855,0.6738261363151499],[0.43989352327126696,0.48968269458265073],[0.43989352327126696,0.685491748678604],[0.43989352327126696,0.273236723847772],[0.43989352327126696,0.22246452525853527],[0.43989352327126696,0.4328304981216492],[0.43989352327126696,0.43106621475332574],[0.43989352327126696,0.4687318576424156],[0.43989352327126696,0.37058962866187817],[0.43989352327126696,0.282038763278035],[0.43989352327126696,0.37323592520159493],[0.43989352327126696,0.6099093983158207],[0.43989352327126696,0.24223761595117874],[0.43989352327126696,0.3305778461961635],[0.43989352327126696,0.6664870115283927],[0.43989352327126696,0.3178392508493623],[0.43989352327126696,0.545548197278505],[0.43989352327126696,0.6681431473639938],[0.43989352327126696,0.5681609072575381],[0.43989352327126696,0.6738261363151499],[0.48968269458265073,0.685491748678604],[0.48968269458265073,0.273236723847772],[0.48968269458265073,0.22246452525853527],[0.48968269458265073,0.4328304981216492],[0.48968269458265073,0.43106621475332574],[0.48968269458265073,0.4687318576424156],[0.48968269458265073,0.37058962866187817],[0.48968269458265073,0.282038763278035],[0.48968269458265073,0.37323592520159493],[0.48968269458265073,0.6099093983158207],[0.48968269458265073,0.24223761595117874],[0.48968269458265073,0.3305778461961635],[0.48968269458265073,0.6664870115283927],[0.48968269458265073,0.3178392508493623],[0.48968269458265073,0.545548197278505],[0.48968269458265073,0.6681431473639938],[0.48968269458265073,0.5681609072575381],[0.48968269458265073,0.6738261363151499],[0.685491748678604,0.273236723847772],[0.685491748678604,0.22246452525853527],[0.685491748678604,0.4328304981216492],[0.685491748678604,0.43106621475332574],[0.685491748678604,0.4687318576424156],[0.685491748678604,0.37058962866187817],[0.685491748678604,0.282038763278035],[0.685491748678604,0.37323592520159493],[0.685491748678604,0.6099093983158207],[0.685491748678604,0.24223761595117874],[0.685491748678604,0.3305778461961635],[0.685491748678604,0.6664870115283927],[0.685491748678604,0.3178392508493623],[0.685491748678604,0.545548197278505],[0.685491748678604,0.6681431473639938],[0.685491748678604,0.5681609072575381],[0.685491748678604,0.6738261363151499],[-0.2547336559434975,-0.57272952679659],[-0.2547336559434975,-0.5480588831080696],[-0.2547336559434975,-0.6594931558771214],[-0.2547336559434975,-0.7085920160393905],[-0.2547336559434975,-0.2808887111102899],[-0.2547336559434975,-0.568481082229541],[-0.2547336559434975,-0.5061860894400497],[-0.2547336559434975,-0.29473315624287927],[-0.2547336559434975,-0.514264598276991],[-0.2547336559434975,-0.7483921570785759],[-0.2547336559434975,-0.3440258430385605],[-0.2547336559434975,-0.4886864245439111],[-0.2547336559434975,-0.4820627509338731],[-0.2547336559434975,-0.7578527381878639],[-0.2547336559434975,-0.5423961706644614],[-0.2547336559434975,-0.3404794767879225],[-0.2547336559434975,-0.45739010789166534],[-0.2547336559434975,-0.6962110613099851],[-0.2547336559434975,-0.4568905300945191],[-0.57272952679659,-0.5480588831080696],[-0.57272952679659,-0.6594931558771214],[-0.57272952679659,-0.7085920160393905],[-0.57272952679659,-0.2808887111102899],[-0.57272952679659,-0.568481082229541],[-0.57272952679659,-0.5061860894400497],[-0.57272952679659,-0.29473315624287927],[-0.57272952679659,-0.514264598276991],[-0.57272952679659,-0.7483921570785759],[-0.57272952679659,-0.3440258430385605],[-0.57272952679659,-0.4886864245439111],[-0.57272952679659,-0.4820627509338731],[-0.57272952679659,-0.7578527381878639],[-0.57272952679659,-0.5423961706644614],[-0.57272952679659,-0.3404794767879225],[-0.57272952679659,-0.45739010789166534],[-0.57272952679659,-0.6962110613099851],[-0.57272952679659,-0.4568905300945191],[-0.5480588831080696,-0.6594931558771214],[-0.5480588831080696,-0.7085920160393905],[-0.5480588831080696,-0.2808887111102899],[-0.5480588831080696,-0.568481082229541],[-0.5480588831080696,-0.5061860894400497],[-0.5480588831080696,-0.29473315624287927],[-0.5480588831080696,-0.514264598276991],[-0.5480588831080696,-0.7483921570785759],[-0.5480588831080696,-0.3440258430385605],[-0.5480588831080696,-0.4886864245439111],[-0.5480588831080696,-0.4820627509338731],[-0.5480588831080696,-0.7578527381878639],[-0.5480588831080696,-0.5423961706644614],[-0.5480588831080696,-0.3404794767879225],[-0.5480588831080696,-0.45739010789166534],[-0.5480588831080696,-0.6962110613099851],[-0.5480588831080696,-0.4568905300945191],[-0.6594931558771214,-0.7085920160393905],[-0.6594931558771214,-0.2808887111102899],[-0.6594931558771214,-0.568481082229541],[-0.6594931558771214,-0.5061860894400497],[-0.6594931558771214,-0.29473315624287927],[-0.6594931558771214,-0.514264598276991],[-0.6594931558771214,-0.7483921570785759],[-0.6594931558771214,-0.3440258430385605],[-0.6594931558771214,-0.4886864245439111],[-0.6594931558771214,-0.4820627509338731],[-0.6594931558771214,-0.7578527381878639],[-0.6594931558771214,-0.5423961706644614],[-0.6594931558771214,-0.3404794767879225],[-0.6594931558771214,-0.45739010789166534],[-0.6594931558771214,-0.6962110613099851],[-0.6594931558771214,-0.4568905300945191],[0.273236723847772,0.22246452525853527],[0.273236723847772,0.4328304981216492],[0.273236723847772,0.43106621475332574],[0.273236723847772,0.4687318576424156],[0.273236723847772,0.37058962866187817],[0.273236723847772,0.282038763278035],[0.273236723847772,0.37323592520159493],[0.273236723847772,0.6099093983158207],[0.273236723847772,0.24223761595117874],[0.273236723847772,0.3305778461961635],[0.273236723847772,0.6664870115283927],[0.273236723847772,0.3178392508493623],[0.273236723847772,0.545548197278505],[0.273236723847772,0.6681431473639938],[0.273236723847772,0.5681609072575381],[0.273236723847772,0.6738261363151499],[-0.7085920160393905,-0.2808887111102899],[-0.7085920160393905,-0.568481082229541],[-0.7085920160393905,-0.5061860894400497],[-0.7085920160393905,-0.29473315624287927],[-0.7085920160393905,-0.514264598276991],[-0.7085920160393905,-0.7483921570785759],[-0.7085920160393905,-0.3440258430385605],[-0.7085920160393905,-0.4886864245439111],[-0.7085920160393905,-0.4820627509338731],[-0.7085920160393905,-0.7578527381878639],[-0.7085920160393905,-0.5423961706644614],[-0.7085920160393905,-0.3404794767879225],[-0.7085920160393905,-0.45739010789166534],[-0.7085920160393905,-0.6962110613099851],[-0.7085920160393905,-0.4568905300945191],[0.22246452525853527,0.4328304981216492],[0.22246452525853527,0.43106621475332574],[0.22246452525853527,0.4687318576424156],[0.22246452525853527,0.37058962866187817],[0.22246452525853527,0.282038763278035],[0.22246452525853527,0.37323592520159493],[0.22246452525853527,0.6099093983158207],[0.22246452525853527,0.24223761595117874],[0.22246452525853527,0.3305778461961635],[0.22246452525853527,0.6664870115283927],[0.22246452525853527,0.3178392508493623],[0.22246452525853527,0.545548197278505],[0.22246452525853527,0.6681431473639938],[0.22246452525853527,0.5681609072575381],[0.22246452525853527,0.6738261363151499],[-0.2808887111102899,-0.568481082229541],[-0.2808887111102899,-0.5061860894400497],[-0.2808887111102899,-0.29473315624287927],[-0.2808887111102899,-0.514264598276991],[-0.2808887111102899,-0.7483921570785759],[-0.2808887111102899,-0.3440258430385605],[-0.2808887111102899,-0.4886864245439111],[-0.2808887111102899,-0.4820627509338731],[-0.2808887111102899,-0.7578527381878639],[-0.2808887111102899,-0.5423961706644614],[-0.2808887111102899,-0.3404794767879225],[-0.2808887111102899,-0.45739010789166534],[-0.2808887111102899,-0.6962110613099851],[-0.2808887111102899,-0.4568905300945191],[0.4328304981216492,0.43106621475332574],[0.4328304981216492,0.4687318576424156],[0.4328304981216492,0.37058962866187817],[0.4328304981216492,0.282038763278035],[0.4328304981216492,0.37323592520159493],[0.4328304981216492,0.6099093983158207],[0.4328304981216492,0.24223761595117874],[0.4328304981216492,0.3305778461961635],[0.4328304981216492,0.6664870115283927],[0.4328304981216492,0.3178392508493623],[0.4328304981216492,0.545548197278505],[0.4328304981216492,0.6681431473639938],[0.4328304981216492,0.5681609072575381],[0.4328304981216492,0.6738261363151499],[-0.568481082229541,-0.5061860894400497],[-0.568481082229541,-0.29473315624287927],[-0.568481082229541,-0.514264598276991],[-0.568481082229541,-0.7483921570785759],[-0.568481082229541,-0.3440258430385605],[-0.568481082229541,-0.4886864245439111],[-0.568481082229541,-0.4820627509338731],[-0.568481082229541,-0.7578527381878639],[-0.568481082229541,-0.5423961706644614],[-0.568481082229541,-0.3404794767879225],[-0.568481082229541,-0.45739010789166534],[-0.568481082229541,-0.6962110613099851],[-0.568481082229541,-0.4568905300945191],[0.43106621475332574,0.4687318576424156],[0.43106621475332574,0.37058962866187817],[0.43106621475332574,0.282038763278035],[0.43106621475332574,0.37323592520159493],[0.43106621475332574,0.6099093983158207],[0.43106621475332574,0.24223761595117874],[0.43106621475332574,0.3305778461961635],[0.43106621475332574,0.6664870115283927],[0.43106621475332574,0.3178392508493623],[0.43106621475332574,0.545548197278505],[0.43106621475332574,0.6681431473639938],[0.43106621475332574,0.5681609072575381],[0.43106621475332574,0.6738261363151499],[-0.5061860894400497,-0.29473315624287927],[-0.5061860894400497,-0.514264598276991],[-0.5061860894400497,-0.7483921570785759],[-0.5061860894400497,-0.3440258430385605],[-0.5061860894400497,-0.4886864245439111],[-0.5061860894400497,-0.4820627509338731],[-0.5061860894400497,-0.7578527381878639],[-0.5061860894400497,-0.5423961706644614],[-0.5061860894400497,-0.3404794767879225],[-0.5061860894400497,-0.45739010789166534],[-0.5061860894400497,-0.6962110613099851],[-0.5061860894400497,-0.4568905300945191],[0.4687318576424156,0.37058962866187817],[0.4687318576424156,0.282038763278035],[0.4687318576424156,0.37323592520159493],[0.4687318576424156,0.6099093983158207],[0.4687318576424156,0.24223761595117874],[0.4687318576424156,0.3305778461961635],[0.4687318576424156,0.6664870115283927],[0.4687318576424156,0.3178392508493623],[0.4687318576424156,0.545548197278505],[0.4687318576424156,0.6681431473639938],[0.4687318576424156,0.5681609072575381],[0.4687318576424156,0.6738261363151499],[-0.29473315624287927,-0.514264598276991],[-0.29473315624287927,-0.7483921570785759],[-0.29473315624287927,-0.3440258430385605],[-0.29473315624287927,-0.4886864245439111],[-0.29473315624287927,-0.4820627509338731],[-0.29473315624287927,-0.7578527381878639],[-0.29473315624287927,-0.5423961706644614],[-0.29473315624287927,-0.3404794767879225],[-0.29473315624287927,-0.45739010789166534],[-0.29473315624287927,-0.6962110613099851],[-0.29473315624287927,-0.4568905300945191],[-0.514264598276991,-0.7483921570785759],[-0.514264598276991,-0.3440258430385605],[-0.514264598276991,-0.4886864245439111],[-0.514264598276991,-0.4820627509338731],[-0.514264598276991,-0.7578527381878639],[-0.514264598276991,-0.5423961706644614],[-0.514264598276991,-0.3404794767879225],[-0.514264598276991,-0.45739010789166534],[-0.514264598276991,-0.6962110613099851],[-0.514264598276991,-0.4568905300945191],[0.37058962866187817,0.282038763278035],[0.37058962866187817,0.37323592520159493],[0.37058962866187817,0.6099093983158207],[0.37058962866187817,0.24223761595117874],[0.37058962866187817,0.3305778461961635],[0.37058962866187817,0.6664870115283927],[0.37058962866187817,0.3178392508493623],[0.37058962866187817,0.545548197278505],[0.37058962866187817,0.6681431473639938],[0.37058962866187817,0.5681609072575381],[0.37058962866187817,0.6738261363151499],[0.282038763278035,0.37323592520159493],[0.282038763278035,0.6099093983158207],[0.282038763278035,0.24223761595117874],[0.282038763278035,0.3305778461961635],[0.282038763278035,0.6664870115283927],[0.282038763278035,0.3178392508493623],[0.282038763278035,0.545548197278505],[0.282038763278035,0.6681431473639938],[0.282038763278035,0.5681609072575381],[0.282038763278035,0.6738261363151499],[0.37323592520159493,0.6099093983158207],[0.37323592520159493,0.24223761595117874],[0.37323592520159493,0.3305778461961635],[0.37323592520159493,0.6664870115283927],[0.37323592520159493,0.3178392508493623],[0.37323592520159493,0.545548197278505],[0.37323592520159493,0.6681431473639938],[0.37323592520159493,0.5681609072575381],[0.37323592520159493,0.6738261363151499],[0.6099093983158207,0.24223761595117874],[0.6099093983158207,0.3305778461961635],[0.6099093983158207,0.6664870115283927],[0.6099093983158207,0.3178392508493623],[0.6099093983158207,0.545548197278505],[0.6099093983158207,0.6681431473639938],[0.6099093983158207,0.5681609072575381],[0.6099093983158207,0.6738261363151499],[-0.7483921570785759,-0.3440258430385605],[-0.7483921570785759,-0.4886864245439111],[-0.7483921570785759,-0.4820627509338731],[-0.7483921570785759,-0.7578527381878639],[-0.7483921570785759,-0.5423961706644614],[-0.7483921570785759,-0.3404794767879225],[-0.7483921570785759,-0.45739010789166534],[-0.7483921570785759,-0.6962110613099851],[-0.7483921570785759,-0.4568905300945191],[-0.3440258430385605,-0.4886864245439111],[-0.3440258430385605,-0.4820627509338731],[-0.3440258430385605,-0.7578527381878639],[-0.3440258430385605,-0.5423961706644614],[-0.3440258430385605,-0.3404794767879225],[-0.3440258430385605,-0.45739010789166534],[-0.3440258430385605,-0.6962110613099851],[-0.3440258430385605,-0.4568905300945191],[-0.4886864245439111,-0.4820627509338731],[-0.4886864245439111,-0.7578527381878639],[-0.4886864245439111,-0.5423961706644614],[-0.4886864245439111,-0.3404794767879225],[-0.4886864245439111,-0.45739010789166534],[-0.4886864245439111,-0.6962110613099851],[-0.4886864245439111,-0.4568905300945191],[-0.4820627509338731,-0.7578527381878639],[-0.4820627509338731,-0.5423961706644614],[-0.4820627509338731,-0.3404794767879225],[-0.4820627509338731,-0.45739010789166534],[-0.4820627509338731,-0.6962110613099851],[-0.4820627509338731,-0.4568905300945191],[-0.7578527381878639,-0.5423961706644614],[-0.7578527381878639,-0.3404794767879225],[-0.7578527381878639,-0.45739010789166534],[-0.7578527381878639,-0.6962110613099851],[-0.7578527381878639,-0.4568905300945191],[-0.5423961706644614,-0.3404794767879225],[-0.5423961706644614,-0.45739010789166534],[-0.5423961706644614,-0.6962110613099851],[-0.5423961706644614,-0.4568905300945191],[-0.3404794767879225,-0.45739010789166534],[-0.3404794767879225,-0.6962110613099851],[-0.3404794767879225,-0.4568905300945191],[0.24223761595117874,0.3305778461961635],[0.24223761595117874,0.6664870115283927],[0.24223761595117874,0.3178392508493623],[0.24223761595117874,0.545548197278505],[0.24223761595117874,0.6681431473639938],[0.24223761595117874,0.5681609072575381],[0.24223761595117874,0.6738261363151499],[0.3305778461961635,0.6664870115283927],[0.3305778461961635,0.3178392508493623],[0.3305778461961635,0.545548197278505],[0.3305778461961635,0.6681431473639938],[0.3305778461961635,0.5681609072575381],[0.3305778461961635,0.6738261363151499],[-0.45739010789166534,-0.6962110613099851],[-0.45739010789166534,-0.4568905300945191],[0.6664870115283927,0.3178392508493623],[0.6664870115283927,0.545548197278505],[0.6664870115283927,0.6681431473639938],[0.6664870115283927,0.5681609072575381],[0.6664870115283927,0.6738261363151499],[0.3178392508493623,0.545548197278505],[0.3178392508493623,0.6681431473639938],[0.3178392508493623,0.5681609072575381],[0.3178392508493623,0.6738261363151499],[0.545548197278505,0.6681431473639938],[0.545548197278505,0.5681609072575381],[0.545548197278505,0.6738261363151499],[-0.6962110613099851,-0.4568905300945191],[0.6681431473639938,0.5681609072575381],[0.6681431473639938,0.6738261363151499],[0.5681609072575381,0.6738261363151499]]],[\"ys\",[[-0.5233909043615915,-0.6422809986236085],[-0.5233909043615915,-0.4754389536791047],[-0.5233909043615915,-0.44325022895267363],[-0.5233909043615915,-0.6706191154812576],[-0.5233909043615915,-0.5970037128774056],[-0.5233909043615915,-0.6251249072291758],[-0.5233909043615915,-0.8249092906911459],[-0.5233909043615915,-0.8881132686288216],[-0.5233909043615915,-0.529785619173591],[-0.5233909043615915,-0.8137851819460871],[-0.5233909043615915,-0.6649692689305582],[-0.5233909043615915,-0.9043524757654313],[-0.5233909043615915,-0.7071075162871278],[-0.5233909043615915,-0.6903693834423484],[-0.5233909043615915,-0.8637589198955669],[-0.5233909043615915,-0.8767946005647672],[-0.5233909043615915,-0.6306931277078708],[-0.5233909043615915,-0.4707501118506539],[-0.5233909043615915,-0.7233103880919461],[-0.5233909043615915,-0.9410093129380966],[-0.5233909043615915,-0.6255995278144644],[-0.6422809986236085,-0.4754389536791047],[-0.6422809986236085,-0.44325022895267363],[-0.6422809986236085,-0.6706191154812576],[-0.6422809986236085,-0.5970037128774056],[-0.6422809986236085,-0.6251249072291758],[-0.6422809986236085,-0.8249092906911459],[-0.6422809986236085,-0.8881132686288216],[-0.6422809986236085,-0.529785619173591],[-0.6422809986236085,-0.8137851819460871],[-0.6422809986236085,-0.6649692689305582],[-0.6422809986236085,-0.9043524757654313],[-0.6422809986236085,-0.7071075162871278],[-0.6422809986236085,-0.6903693834423484],[-0.6422809986236085,-0.8637589198955669],[-0.6422809986236085,-0.8767946005647672],[-0.6422809986236085,-0.6306931277078708],[-0.6422809986236085,-0.4707501118506539],[-0.6422809986236085,-0.7233103880919461],[-0.6422809986236085,-0.9410093129380966],[-0.6422809986236085,-0.6255995278144644],[-0.4754389536791047,-0.44325022895267363],[-0.4754389536791047,-0.6706191154812576],[-0.4754389536791047,-0.5970037128774056],[-0.4754389536791047,-0.6251249072291758],[-0.4754389536791047,-0.8249092906911459],[-0.4754389536791047,-0.8881132686288216],[-0.4754389536791047,-0.529785619173591],[-0.4754389536791047,-0.8137851819460871],[-0.4754389536791047,-0.6649692689305582],[-0.4754389536791047,-0.9043524757654313],[-0.4754389536791047,-0.7071075162871278],[-0.4754389536791047,-0.6903693834423484],[-0.4754389536791047,-0.8637589198955669],[-0.4754389536791047,-0.8767946005647672],[-0.4754389536791047,-0.6306931277078708],[-0.4754389536791047,-0.4707501118506539],[-0.4754389536791047,-0.7233103880919461],[-0.4754389536791047,-0.9410093129380966],[-0.4754389536791047,-0.6255995278144644],[-0.44325022895267363,-0.6706191154812576],[-0.44325022895267363,-0.5970037128774056],[-0.44325022895267363,-0.6251249072291758],[-0.44325022895267363,-0.8249092906911459],[-0.44325022895267363,-0.8881132686288216],[-0.44325022895267363,-0.529785619173591],[-0.44325022895267363,-0.8137851819460871],[-0.44325022895267363,-0.6649692689305582],[-0.44325022895267363,-0.9043524757654313],[-0.44325022895267363,-0.7071075162871278],[-0.44325022895267363,-0.6903693834423484],[-0.44325022895267363,-0.8637589198955669],[-0.44325022895267363,-0.8767946005647672],[-0.44325022895267363,-0.6306931277078708],[-0.44325022895267363,-0.4707501118506539],[-0.44325022895267363,-0.7233103880919461],[-0.44325022895267363,-0.9410093129380966],[-0.44325022895267363,-0.6255995278144644],[-0.6706191154812576,-0.5970037128774056],[-0.6706191154812576,-0.6251249072291758],[-0.6706191154812576,-0.8249092906911459],[-0.6706191154812576,-0.8881132686288216],[-0.6706191154812576,-0.529785619173591],[-0.6706191154812576,-0.8137851819460871],[-0.6706191154812576,-0.6649692689305582],[-0.6706191154812576,-0.9043524757654313],[-0.6706191154812576,-0.7071075162871278],[-0.6706191154812576,-0.6903693834423484],[-0.6706191154812576,-0.8637589198955669],[-0.6706191154812576,-0.8767946005647672],[-0.6706191154812576,-0.6306931277078708],[-0.6706191154812576,-0.4707501118506539],[-0.6706191154812576,-0.7233103880919461],[-0.6706191154812576,-0.9410093129380966],[-0.6706191154812576,-0.6255995278144644],[0.7582246943518729,0.5480863975863162],[0.7582246943518729,0.6035714395835516],[0.7582246943518729,0.7591632581224449],[0.7582246943518729,0.8093963670121189],[0.7582246943518729,0.7043468245403743],[0.7582246943518729,0.9407402079464504],[0.7582246943518729,0.9007005554752384],[0.7582246943518729,0.795693238895111],[0.7582246943518729,0.5213062097906507],[0.7582246943518729,0.6998640341282542],[0.7582246943518729,0.7757526698143806],[0.7582246943518729,0.6141534540679474],[0.7582246943518729,1.0],[0.7582246943518729,0.7746334380229829],[0.7582246943518729,0.9921681294952901],[0.7582246943518729,0.722712264197037],[0.7582246943518729,0.5492612607673261],[0.7582246943518729,0.7147478062736828],[0.7582246943518729,0.947894564862262],[0.5480863975863162,0.6035714395835516],[0.5480863975863162,0.7591632581224449],[0.5480863975863162,0.8093963670121189],[0.5480863975863162,0.7043468245403743],[0.5480863975863162,0.9407402079464504],[0.5480863975863162,0.9007005554752384],[0.5480863975863162,0.795693238895111],[0.5480863975863162,0.5213062097906507],[0.5480863975863162,0.6998640341282542],[0.5480863975863162,0.7757526698143806],[0.5480863975863162,0.6141534540679474],[0.5480863975863162,1.0],[0.5480863975863162,0.7746334380229829],[0.5480863975863162,0.9921681294952901],[0.5480863975863162,0.722712264197037],[0.5480863975863162,0.5492612607673261],[0.5480863975863162,0.7147478062736828],[0.5480863975863162,0.947894564862262],[0.6035714395835516,0.7591632581224449],[0.6035714395835516,0.8093963670121189],[0.6035714395835516,0.7043468245403743],[0.6035714395835516,0.9407402079464504],[0.6035714395835516,0.9007005554752384],[0.6035714395835516,0.795693238895111],[0.6035714395835516,0.5213062097906507],[0.6035714395835516,0.6998640341282542],[0.6035714395835516,0.7757526698143806],[0.6035714395835516,0.6141534540679474],[0.6035714395835516,1.0],[0.6035714395835516,0.7746334380229829],[0.6035714395835516,0.9921681294952901],[0.6035714395835516,0.722712264197037],[0.6035714395835516,0.5492612607673261],[0.6035714395835516,0.7147478062736828],[0.6035714395835516,0.947894564862262],[0.7591632581224449,0.8093963670121189],[0.7591632581224449,0.7043468245403743],[0.7591632581224449,0.9407402079464504],[0.7591632581224449,0.9007005554752384],[0.7591632581224449,0.795693238895111],[0.7591632581224449,0.5213062097906507],[0.7591632581224449,0.6998640341282542],[0.7591632581224449,0.7757526698143806],[0.7591632581224449,0.6141534540679474],[0.7591632581224449,1.0],[0.7591632581224449,0.7746334380229829],[0.7591632581224449,0.9921681294952901],[0.7591632581224449,0.722712264197037],[0.7591632581224449,0.5492612607673261],[0.7591632581224449,0.7147478062736828],[0.7591632581224449,0.947894564862262],[-0.5970037128774056,-0.6251249072291758],[-0.5970037128774056,-0.8249092906911459],[-0.5970037128774056,-0.8881132686288216],[-0.5970037128774056,-0.529785619173591],[-0.5970037128774056,-0.8137851819460871],[-0.5970037128774056,-0.6649692689305582],[-0.5970037128774056,-0.9043524757654313],[-0.5970037128774056,-0.7071075162871278],[-0.5970037128774056,-0.6903693834423484],[-0.5970037128774056,-0.8637589198955669],[-0.5970037128774056,-0.8767946005647672],[-0.5970037128774056,-0.6306931277078708],[-0.5970037128774056,-0.4707501118506539],[-0.5970037128774056,-0.7233103880919461],[-0.5970037128774056,-0.9410093129380966],[-0.5970037128774056,-0.6255995278144644],[0.8093963670121189,0.7043468245403743],[0.8093963670121189,0.9407402079464504],[0.8093963670121189,0.9007005554752384],[0.8093963670121189,0.795693238895111],[0.8093963670121189,0.5213062097906507],[0.8093963670121189,0.6998640341282542],[0.8093963670121189,0.7757526698143806],[0.8093963670121189,0.6141534540679474],[0.8093963670121189,1.0],[0.8093963670121189,0.7746334380229829],[0.8093963670121189,0.9921681294952901],[0.8093963670121189,0.722712264197037],[0.8093963670121189,0.5492612607673261],[0.8093963670121189,0.7147478062736828],[0.8093963670121189,0.947894564862262],[-0.6251249072291758,-0.8249092906911459],[-0.6251249072291758,-0.8881132686288216],[-0.6251249072291758,-0.529785619173591],[-0.6251249072291758,-0.8137851819460871],[-0.6251249072291758,-0.6649692689305582],[-0.6251249072291758,-0.9043524757654313],[-0.6251249072291758,-0.7071075162871278],[-0.6251249072291758,-0.6903693834423484],[-0.6251249072291758,-0.8637589198955669],[-0.6251249072291758,-0.8767946005647672],[-0.6251249072291758,-0.6306931277078708],[-0.6251249072291758,-0.4707501118506539],[-0.6251249072291758,-0.7233103880919461],[-0.6251249072291758,-0.9410093129380966],[-0.6251249072291758,-0.6255995278144644],[0.7043468245403743,0.9407402079464504],[0.7043468245403743,0.9007005554752384],[0.7043468245403743,0.795693238895111],[0.7043468245403743,0.5213062097906507],[0.7043468245403743,0.6998640341282542],[0.7043468245403743,0.7757526698143806],[0.7043468245403743,0.6141534540679474],[0.7043468245403743,1.0],[0.7043468245403743,0.7746334380229829],[0.7043468245403743,0.9921681294952901],[0.7043468245403743,0.722712264197037],[0.7043468245403743,0.5492612607673261],[0.7043468245403743,0.7147478062736828],[0.7043468245403743,0.947894564862262],[-0.8249092906911459,-0.8881132686288216],[-0.8249092906911459,-0.529785619173591],[-0.8249092906911459,-0.8137851819460871],[-0.8249092906911459,-0.6649692689305582],[-0.8249092906911459,-0.9043524757654313],[-0.8249092906911459,-0.7071075162871278],[-0.8249092906911459,-0.6903693834423484],[-0.8249092906911459,-0.8637589198955669],[-0.8249092906911459,-0.8767946005647672],[-0.8249092906911459,-0.6306931277078708],[-0.8249092906911459,-0.4707501118506539],[-0.8249092906911459,-0.7233103880919461],[-0.8249092906911459,-0.9410093129380966],[-0.8249092906911459,-0.6255995278144644],[0.9407402079464504,0.9007005554752384],[0.9407402079464504,0.795693238895111],[0.9407402079464504,0.5213062097906507],[0.9407402079464504,0.6998640341282542],[0.9407402079464504,0.7757526698143806],[0.9407402079464504,0.6141534540679474],[0.9407402079464504,1.0],[0.9407402079464504,0.7746334380229829],[0.9407402079464504,0.9921681294952901],[0.9407402079464504,0.722712264197037],[0.9407402079464504,0.5492612607673261],[0.9407402079464504,0.7147478062736828],[0.9407402079464504,0.947894564862262],[-0.8881132686288216,-0.529785619173591],[-0.8881132686288216,-0.8137851819460871],[-0.8881132686288216,-0.6649692689305582],[-0.8881132686288216,-0.9043524757654313],[-0.8881132686288216,-0.7071075162871278],[-0.8881132686288216,-0.6903693834423484],[-0.8881132686288216,-0.8637589198955669],[-0.8881132686288216,-0.8767946005647672],[-0.8881132686288216,-0.6306931277078708],[-0.8881132686288216,-0.4707501118506539],[-0.8881132686288216,-0.7233103880919461],[-0.8881132686288216,-0.9410093129380966],[-0.8881132686288216,-0.6255995278144644],[0.9007005554752384,0.795693238895111],[0.9007005554752384,0.5213062097906507],[0.9007005554752384,0.6998640341282542],[0.9007005554752384,0.7757526698143806],[0.9007005554752384,0.6141534540679474],[0.9007005554752384,1.0],[0.9007005554752384,0.7746334380229829],[0.9007005554752384,0.9921681294952901],[0.9007005554752384,0.722712264197037],[0.9007005554752384,0.5492612607673261],[0.9007005554752384,0.7147478062736828],[0.9007005554752384,0.947894564862262],[-0.529785619173591,-0.8137851819460871],[-0.529785619173591,-0.6649692689305582],[-0.529785619173591,-0.9043524757654313],[-0.529785619173591,-0.7071075162871278],[-0.529785619173591,-0.6903693834423484],[-0.529785619173591,-0.8637589198955669],[-0.529785619173591,-0.8767946005647672],[-0.529785619173591,-0.6306931277078708],[-0.529785619173591,-0.4707501118506539],[-0.529785619173591,-0.7233103880919461],[-0.529785619173591,-0.9410093129380966],[-0.529785619173591,-0.6255995278144644],[0.795693238895111,0.5213062097906507],[0.795693238895111,0.6998640341282542],[0.795693238895111,0.7757526698143806],[0.795693238895111,0.6141534540679474],[0.795693238895111,1.0],[0.795693238895111,0.7746334380229829],[0.795693238895111,0.9921681294952901],[0.795693238895111,0.722712264197037],[0.795693238895111,0.5492612607673261],[0.795693238895111,0.7147478062736828],[0.795693238895111,0.947894564862262],[0.5213062097906507,0.6998640341282542],[0.5213062097906507,0.7757526698143806],[0.5213062097906507,0.6141534540679474],[0.5213062097906507,1.0],[0.5213062097906507,0.7746334380229829],[0.5213062097906507,0.9921681294952901],[0.5213062097906507,0.722712264197037],[0.5213062097906507,0.5492612607673261],[0.5213062097906507,0.7147478062736828],[0.5213062097906507,0.947894564862262],[-0.8137851819460871,-0.6649692689305582],[-0.8137851819460871,-0.9043524757654313],[-0.8137851819460871,-0.7071075162871278],[-0.8137851819460871,-0.6903693834423484],[-0.8137851819460871,-0.8637589198955669],[-0.8137851819460871,-0.8767946005647672],[-0.8137851819460871,-0.6306931277078708],[-0.8137851819460871,-0.4707501118506539],[-0.8137851819460871,-0.7233103880919461],[-0.8137851819460871,-0.9410093129380966],[-0.8137851819460871,-0.6255995278144644],[-0.6649692689305582,-0.9043524757654313],[-0.6649692689305582,-0.7071075162871278],[-0.6649692689305582,-0.6903693834423484],[-0.6649692689305582,-0.8637589198955669],[-0.6649692689305582,-0.8767946005647672],[-0.6649692689305582,-0.6306931277078708],[-0.6649692689305582,-0.4707501118506539],[-0.6649692689305582,-0.7233103880919461],[-0.6649692689305582,-0.9410093129380966],[-0.6649692689305582,-0.6255995278144644],[-0.9043524757654313,-0.7071075162871278],[-0.9043524757654313,-0.6903693834423484],[-0.9043524757654313,-0.8637589198955669],[-0.9043524757654313,-0.8767946005647672],[-0.9043524757654313,-0.6306931277078708],[-0.9043524757654313,-0.4707501118506539],[-0.9043524757654313,-0.7233103880919461],[-0.9043524757654313,-0.9410093129380966],[-0.9043524757654313,-0.6255995278144644],[-0.7071075162871278,-0.6903693834423484],[-0.7071075162871278,-0.8637589198955669],[-0.7071075162871278,-0.8767946005647672],[-0.7071075162871278,-0.6306931277078708],[-0.7071075162871278,-0.4707501118506539],[-0.7071075162871278,-0.7233103880919461],[-0.7071075162871278,-0.9410093129380966],[-0.7071075162871278,-0.6255995278144644],[0.6998640341282542,0.7757526698143806],[0.6998640341282542,0.6141534540679474],[0.6998640341282542,1.0],[0.6998640341282542,0.7746334380229829],[0.6998640341282542,0.9921681294952901],[0.6998640341282542,0.722712264197037],[0.6998640341282542,0.5492612607673261],[0.6998640341282542,0.7147478062736828],[0.6998640341282542,0.947894564862262],[0.7757526698143806,0.6141534540679474],[0.7757526698143806,1.0],[0.7757526698143806,0.7746334380229829],[0.7757526698143806,0.9921681294952901],[0.7757526698143806,0.722712264197037],[0.7757526698143806,0.5492612607673261],[0.7757526698143806,0.7147478062736828],[0.7757526698143806,0.947894564862262],[0.6141534540679474,1.0],[0.6141534540679474,0.7746334380229829],[0.6141534540679474,0.9921681294952901],[0.6141534540679474,0.722712264197037],[0.6141534540679474,0.5492612607673261],[0.6141534540679474,0.7147478062736828],[0.6141534540679474,0.947894564862262],[1.0,0.7746334380229829],[1.0,0.9921681294952901],[1.0,0.722712264197037],[1.0,0.5492612607673261],[1.0,0.7147478062736828],[1.0,0.947894564862262],[0.7746334380229829,0.9921681294952901],[0.7746334380229829,0.722712264197037],[0.7746334380229829,0.5492612607673261],[0.7746334380229829,0.7147478062736828],[0.7746334380229829,0.947894564862262],[0.9921681294952901,0.722712264197037],[0.9921681294952901,0.5492612607673261],[0.9921681294952901,0.7147478062736828],[0.9921681294952901,0.947894564862262],[0.722712264197037,0.5492612607673261],[0.722712264197037,0.7147478062736828],[0.722712264197037,0.947894564862262],[-0.6903693834423484,-0.8637589198955669],[-0.6903693834423484,-0.8767946005647672],[-0.6903693834423484,-0.6306931277078708],[-0.6903693834423484,-0.4707501118506539],[-0.6903693834423484,-0.7233103880919461],[-0.6903693834423484,-0.9410093129380966],[-0.6903693834423484,-0.6255995278144644],[-0.8637589198955669,-0.8767946005647672],[-0.8637589198955669,-0.6306931277078708],[-0.8637589198955669,-0.4707501118506539],[-0.8637589198955669,-0.7233103880919461],[-0.8637589198955669,-0.9410093129380966],[-0.8637589198955669,-0.6255995278144644],[0.5492612607673261,0.7147478062736828],[0.5492612607673261,0.947894564862262],[-0.8767946005647672,-0.6306931277078708],[-0.8767946005647672,-0.4707501118506539],[-0.8767946005647672,-0.7233103880919461],[-0.8767946005647672,-0.9410093129380966],[-0.8767946005647672,-0.6255995278144644],[-0.6306931277078708,-0.4707501118506539],[-0.6306931277078708,-0.7233103880919461],[-0.6306931277078708,-0.9410093129380966],[-0.6306931277078708,-0.6255995278144644],[-0.4707501118506539,-0.7233103880919461],[-0.4707501118506539,-0.9410093129380966],[-0.4707501118506539,-0.6255995278144644],[0.7147478062736828,0.947894564862262],[-0.7233103880919461,-0.9410093129380966],[-0.7233103880919461,-0.6255995278144644],[-0.9410093129380966,-0.6255995278144644]]],[\"_u\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,28,28,28,28,28,28,29,29,29,29,29,30,30,30,30,31,31,31,32,32,32,32,32,32,32,33,33,33,33,33,33,34,34,35,35,35,35,35,36,36,36,36,37,37,37,38,40,40,41]],[\"_v\",[2,3,4,5,10,12,14,16,18,21,22,23,24,32,33,35,36,37,40,41,42,3,4,5,10,12,14,16,18,21,22,23,24,32,33,35,36,37,40,41,42,4,5,10,12,14,16,18,21,22,23,24,32,33,35,36,37,40,41,42,5,10,12,14,16,18,21,22,23,24,32,33,35,36,37,40,41,42,10,12,14,16,18,21,22,23,24,32,33,35,36,37,40,41,42,7,8,9,11,13,15,17,19,20,25,26,27,28,29,30,31,34,38,39,8,9,11,13,15,17,19,20,25,26,27,28,29,30,31,34,38,39,9,11,13,15,17,19,20,25,26,27,28,29,30,31,34,38,39,11,13,15,17,19,20,25,26,27,28,29,30,31,34,38,39,12,14,16,18,21,22,23,24,32,33,35,36,37,40,41,42,13,15,17,19,20,25,26,27,28,29,30,31,34,38,39,14,16,18,21,22,23,24,32,33,35,36,37,40,41,42,15,17,19,20,25,26,27,28,29,30,31,34,38,39,16,18,21,22,23,24,32,33,35,36,37,40,41,42,17,19,20,25,26,27,28,29,30,31,34,38,39,18,21,22,23,24,32,33,35,36,37,40,41,42,19,20,25,26,27,28,29,30,31,34,38,39,21,22,23,24,32,33,35,36,37,40,41,42,20,25,26,27,28,29,30,31,34,38,39,25,26,27,28,29,30,31,34,38,39,22,23,24,32,33,35,36,37,40,41,42,23,24,32,33,35,36,37,40,41,42,24,32,33,35,36,37,40,41,42,32,33,35,36,37,40,41,42,26,27,28,29,30,31,34,38,39,27,28,29,30,31,34,38,39,28,29,30,31,34,38,39,29,30,31,34,38,39,30,31,34,38,39,31,34,38,39,34,38,39,33,35,36,37,40,41,42,35,36,37,40,41,42,38,39,36,37,40,41,42,37,40,41,42,40,41,42,39,41,42,42]],[\"weight\",[1,51,51,1,1,1,1,1,51,1,1,1,1,1,1,1,1,51,1,1,1,1,1,51,1,1,1,1,1,1,1,1,51,1,1,1,1,1,51,1,51,51,1,1,1,1,1,51,1,1,1,1,1,1,1,1,51,1,1,1,1,1,1,1,1,51,1,1,1,1,1,1,1,1,51,1,1,1,1,1,1,1,1,1,1,1,51,1,1,1,1,1,51,1,51,1,1,1,1,61,1,1,61,1,1,61,1,1,1,1,61,1,1,1,41,1,1,1,1,1,1,41,1,1,41,1,1,1,1,41,1,1,1,1,1,1,1,1,41,1,1,41,1,1,1,1,41,1,1,41,1,1,1,1,1,41,1,1,1,41,1,1,1,41,1,61,1,1,1,1,61,1,1,61,1,1,61,1,1,1,1,1,1,1,1,1,41,1,1,1,41,1,1,1,41,1,1,1,1,1,61,1,1,61,1,1,61,1,1,1,1,1,1,61,1,1,61,1,1,1,1,61,1,1,1,41,1,41,1,41,1,1,41,1,1,1,1,1,1,41,1,1,1,1,1,41,1,41,1,1,1,41,1,41,1,41,1,1,41,1,1,1,1,1,1,1,1,1,1,1,41,1,41,1,1,1,41,1,1,1,1,1,1,1,1,51,1,1,1,1,1,61,1,1,1,1,61,1,1,1,1,1,41,1,1,1,1,41,1,1,1,41,1,1,41,1,1,1,1,1,1,1,1,61,1,1,61,1,1,1,1,1,1,41,1,1,1,1,1,1,1,1,1,1,1,51,1,51,1,1,1,41,1,1,1,41,1,1,1,1,1,61,1,1,1,1,1,1,1,41,1,1,1,41,1,1,1,41,1,1,1,41,1,1,1,1,41,1,1,1,1,1,61,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,51,1]],[\"_edge_alpha\",[0.25,0.75,0.75,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.75,0.75,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.75,0.25,0.25,0.25,0.25,1.0,0.25,0.25,1.0,0.25,0.25,1.0,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,1.0,0.25,0.25,0.25,0.25,1.0,0.25,0.25,1.0,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,1.0,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,1.0,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.75,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.25]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p26260\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p26261\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p26256\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p26257\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p26258\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p26273\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p26264\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p26265\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p26266\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.5236920462972352,0.6068644749446855,0.43989352327126696,0.48968269458265073,0.685491748678604,-0.2547336559434975,-0.57272952679659,-0.5480588831080696,-0.6594931558771214,0.273236723847772,-0.7085920160393905,0.22246452525853527,-0.2808887111102899,0.4328304981216492,-0.568481082229541,0.43106621475332574,-0.5061860894400497,0.4687318576424156,-0.29473315624287927,-0.514264598276991,0.37058962866187817,0.282038763278035,0.37323592520159493,0.6099093983158207,-0.7483921570785759,-0.3440258430385605,-0.4886864245439111,-0.4820627509338731,-0.7578527381878639,-0.5423961706644614,-0.3404794767879225,0.24223761595117874,0.3305778461961635,-0.45739010789166534,0.6664870115283927,0.3178392508493623,0.545548197278505,-0.6962110613099851,-0.4568905300945191,0.6681431473639938,0.5681609072575381,0.6738261363151499]],[\"ys\",[-0.5233909043615915,-0.6422809986236085,-0.4754389536791047,-0.44325022895267363,-0.6706191154812576,0.7582246943518729,0.5480863975863162,0.6035714395835516,0.7591632581224449,-0.5970037128774056,0.8093963670121189,-0.6251249072291758,0.7043468245403743,-0.8249092906911459,0.9407402079464504,-0.8881132686288216,0.9007005554752384,-0.529785619173591,0.795693238895111,0.5213062097906507,-0.8137851819460871,-0.6649692689305582,-0.9043524757654313,-0.7071075162871278,0.6998640341282542,0.7757526698143806,0.6141534540679474,1.0,0.7746334380229829,0.9921681294952901,0.722712264197037,-0.6903693834423484,-0.8637589198955669,0.5492612607673261,-0.8767946005647672,-0.6306931277078708,-0.4707501118506539,0.7147478062736828,0.947894564862262,-0.7233103880919461,-0.9410093129380966,-0.6255995278144644]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[13,14,13,5,14,7,3,3,10,16,9,0,0,12,1,0,2,5,7,0,11,16,12,6,0,15,3,1,9,0,15,8,11,4,0,8,0,10,2,6,0,0]],[\"gender\",[\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"w\",\"m\",\"w\",\"w\",\"m\",\"w\",\"w\",\"m\",\"m\",\"m\",\"m\",\"m\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"m\",\"m\",\"w\",\"w\",\"w\",\"w\",\"w\",\"m\",\"m\",\"m\",\"m\",\"w\",\"w\",\"w\"]],[\"grade\",[3.0,3.0,3.0,3.0,3.0,4.0,2.0,2.0,1.0,4.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},2.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,3.0,4.0,{\"type\":\"number\",\"value\":\"nan\"},2.0,4.0,2.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,2.0,1.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,4.0,2.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},4.0,{\"type\":\"number\",\"value\":\"nan\"},1.0,1.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"}]],[\"hours\",[5,5,5,5,5,6,4,4,4,6,4,10,9,4,4,6,4,5,6,11,4,6,4,5,9,6,4,4,4,9,6,6,4,4,6,6,6,4,4,5,4,5]],[\"status\",[\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"teacher\"]],[\"_colormap\",[\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(54, 88, 233)\",\"rgb(54, 88, 233)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(54, 88, 233)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(54, 88, 233)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(54, 88, 233)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(54, 88, 233)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(213, 202, 185)\",\"rgb(197, 35, 247)\",\"rgb(54, 88, 233)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(197, 35, 247)\",\"rgb(213, 202, 185)\",\"rgb(54, 88, 233)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p26274\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p26275\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p26270\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p26271\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p26272\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p26215\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p26238\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p26239\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p26240\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p26241\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p26242\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p26262\",\"attributes\":{\"renderers\":[{\"id\":\"p26259\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p26276\",\"attributes\":{\"renderers\":[{\"id\":\"p26273\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p26231\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p26232\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p26233\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p26234\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p26224\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p26225\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p26226\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p26227\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p26230\",\"attributes\":{\"axis\":{\"id\":\"p26224\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p26237\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p26231\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"389053f4-f35e-458a-8da2-36005cdd784c\",\"roots\":{\"p26207\":\"e456938c-f23c-4418-b739-5df5156370c6\"},\"root_ids\":[\"p26207\"],\"notebook_comms_target\":\"p27152\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p26207"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "class TeachersInClassRoom(popy.MeltLocation):\n",
    "    def setup(self):\n",
    "        self.n_agents = 1\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"teacher\"\n",
    "\n",
    "\n",
    "class PupilsInClassRoom(popy.MeltLocation):\n",
    "    def setup(self):\n",
    "        self.n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.friend_group\n",
    "\n",
    "\n",
    "class ClassRoom(popy.MagicLocation):\n",
    "    def melt(self):\n",
    "        return [TeachersInClassRoom, PupilsInClassRoom]\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return agent.hours * 10\n",
    "\n",
    "    def project_weights(self, agent1, agent2) -> float:\n",
    "        return min([self.get_weight(agent1), self.get_weight(agent2)])\n",
    "\n",
    "\n",
    "class School(popy.MagicLocation):\n",
    "    n_locations = 2\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.ClassRoom\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(df=df_school, location_classes=[ClassRoom, School])\n",
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"status\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b3911e7a",
   "metadata": {},
   "source": [
    "It is also possible to combine both nesting techniques.\n",
    "We could first nest the class `ClassRoom` into `School` using `stick_together()` in order to get the composition wanted for `ClassRoom` and then use `nest()` to nest further locations into `School`, as it is done in the next example:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 100,
   "id": "1bdc4bca",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"a19ceffc-37e6-4ea8-aa3e-4ced04f9f1e4\" data-root-id=\"p27248\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"752aac90-8191-4b27-8050-ba3f2da3db86\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p27248\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p27250\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p27249\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p27261\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p27263\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p27255\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p27300\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p27291\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p27292\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p27293\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.6306620620495541,0.3216019087221718],[0.6306620620495541,0.6089047154849726],[0.6306620620495541,0.6103577127066456],[0.6306620620495541,0.3683559778571246],[0.6306620620495541,0.5489780206588747],[0.6306620620495541,0.639783331950088],[0.6306620620495541,0.5418743979889208],[0.6306620620495541,0.35471597709605185],[0.6306620620495541,0.3185175124675965],[0.6306620620495541,0.40050866482767467],[0.6306620620495541,0.3688498768746344],[0.6306620620495541,0.4424920684219327],[0.6306620620495541,0.6676543769707519],[0.6306620620495541,0.5542012107998123],[0.6306620620495541,0.6034980650104326],[0.6306620620495541,0.40431094079537266],[0.6306620620495541,0.7128332561290933],[0.6306620620495541,0.6892139554787605],[0.6306620620495541,0.375150752662636],[0.6306620620495541,0.4229447813373009],[0.3216019087221718,0.6089047154849726],[0.3216019087221718,0.6103577127066456],[0.3216019087221718,0.3683559778571246],[0.3216019087221718,0.5489780206588747],[0.3216019087221718,0.639783331950088],[0.3216019087221718,0.5418743979889208],[0.3216019087221718,0.35471597709605185],[0.3216019087221718,0.3185175124675965],[0.3216019087221718,0.40050866482767467],[0.3216019087221718,0.3688498768746344],[0.3216019087221718,0.4424920684219327],[0.3216019087221718,0.6676543769707519],[0.3216019087221718,0.5542012107998123],[0.3216019087221718,0.6034980650104326],[0.3216019087221718,0.40431094079537266],[0.3216019087221718,0.7128332561290933],[0.3216019087221718,0.6892139554787605],[0.3216019087221718,0.375150752662636],[0.3216019087221718,0.4229447813373009],[-0.6728433810812083,-0.3463086888920904],[-0.6728433810812083,-0.3841204455417373],[-0.6728433810812083,-0.6616763835881114],[-0.6728433810812083,-0.5694598431754405],[-0.6728433810812083,-0.3774003133432349],[-0.6728433810812083,-0.6446989675428972],[-0.6728433810812083,-0.3191981425255363],[-0.6728433810812083,-0.4411820973306278],[-0.6728433810812083,-0.5929161799224901],[-0.6728433810812083,-0.4232866380909065],[-0.6728433810812083,-0.592875884160064],[-0.6728433810812083,-0.6377429598460024],[-0.6728433810812083,-0.5220406414406641],[-0.6728433810812083,-0.3817962495942807],[-0.6728433810812083,-0.3283654372240953],[-0.6728433810812083,-0.6018358872561848],[-0.6728433810812083,-0.6228822666084857],[-0.6728433810812083,-0.677170385809453],[-0.6728433810812083,-0.40857482232735853],[-0.6728433810812083,-0.37903395098953185],[0.6089047154849726,0.6103577127066456],[0.6089047154849726,0.3683559778571246],[0.6089047154849726,0.5489780206588747],[0.6089047154849726,0.639783331950088],[0.6089047154849726,0.5418743979889208],[0.6089047154849726,0.35471597709605185],[0.6089047154849726,0.3185175124675965],[0.6089047154849726,0.40050866482767467],[0.6089047154849726,0.3688498768746344],[0.6089047154849726,0.4424920684219327],[0.6089047154849726,0.6676543769707519],[0.6089047154849726,0.5542012107998123],[0.6089047154849726,0.6034980650104326],[0.6089047154849726,0.40431094079537266],[0.6089047154849726,0.7128332561290933],[0.6089047154849726,0.6892139554787605],[0.6089047154849726,0.375150752662636],[0.6089047154849726,0.4229447813373009],[0.6103577127066456,0.3683559778571246],[0.6103577127066456,0.5489780206588747],[0.6103577127066456,0.639783331950088],[0.6103577127066456,0.5418743979889208],[0.6103577127066456,0.35471597709605185],[0.6103577127066456,0.3185175124675965],[0.6103577127066456,0.40050866482767467],[0.6103577127066456,0.3688498768746344],[0.6103577127066456,0.4424920684219327],[0.6103577127066456,0.6676543769707519],[0.6103577127066456,0.5542012107998123],[0.6103577127066456,0.6034980650104326],[0.6103577127066456,0.40431094079537266],[0.6103577127066456,0.7128332561290933],[0.6103577127066456,0.6892139554787605],[0.6103577127066456,0.375150752662636],[0.6103577127066456,0.4229447813373009],[0.3683559778571246,0.5489780206588747],[0.3683559778571246,0.639783331950088],[0.3683559778571246,0.5418743979889208],[0.3683559778571246,0.35471597709605185],[0.3683559778571246,0.3185175124675965],[0.3683559778571246,0.40050866482767467],[0.3683559778571246,0.3688498768746344],[0.3683559778571246,0.4424920684219327],[0.3683559778571246,0.6676543769707519],[0.3683559778571246,0.5542012107998123],[0.3683559778571246,0.6034980650104326],[0.3683559778571246,0.40431094079537266],[0.3683559778571246,0.7128332561290933],[0.3683559778571246,0.6892139554787605],[0.3683559778571246,0.375150752662636],[0.3683559778571246,0.4229447813373009],[-0.3463086888920904,-0.3841204455417373],[-0.3463086888920904,-0.6616763835881114],[-0.3463086888920904,-0.5694598431754405],[-0.3463086888920904,-0.3774003133432349],[-0.3463086888920904,-0.6446989675428972],[-0.3463086888920904,-0.3191981425255363],[-0.3463086888920904,-0.4411820973306278],[-0.3463086888920904,-0.5929161799224901],[-0.3463086888920904,-0.4232866380909065],[-0.3463086888920904,-0.592875884160064],[-0.3463086888920904,-0.6377429598460024],[-0.3463086888920904,-0.5220406414406641],[-0.3463086888920904,-0.3817962495942807],[-0.3463086888920904,-0.3283654372240953],[-0.3463086888920904,-0.6018358872561848],[-0.3463086888920904,-0.6228822666084857],[-0.3463086888920904,-0.677170385809453],[-0.3463086888920904,-0.40857482232735853],[-0.3463086888920904,-0.37903395098953185],[-0.3841204455417373,-0.6616763835881114],[-0.3841204455417373,-0.5694598431754405],[-0.3841204455417373,-0.3774003133432349],[-0.3841204455417373,-0.6446989675428972],[-0.3841204455417373,-0.3191981425255363],[-0.3841204455417373,-0.4411820973306278],[-0.3841204455417373,-0.5929161799224901],[-0.3841204455417373,-0.4232866380909065],[-0.3841204455417373,-0.592875884160064],[-0.3841204455417373,-0.6377429598460024],[-0.3841204455417373,-0.5220406414406641],[-0.3841204455417373,-0.3817962495942807],[-0.3841204455417373,-0.3283654372240953],[-0.3841204455417373,-0.6018358872561848],[-0.3841204455417373,-0.6228822666084857],[-0.3841204455417373,-0.677170385809453],[-0.3841204455417373,-0.40857482232735853],[-0.3841204455417373,-0.37903395098953185],[-0.6616763835881114,-0.5694598431754405],[-0.6616763835881114,-0.3774003133432349],[-0.6616763835881114,-0.6446989675428972],[-0.6616763835881114,-0.3191981425255363],[-0.6616763835881114,-0.4411820973306278],[-0.6616763835881114,-0.5929161799224901],[-0.6616763835881114,-0.4232866380909065],[-0.6616763835881114,-0.592875884160064],[-0.6616763835881114,-0.6377429598460024],[-0.6616763835881114,-0.5220406414406641],[-0.6616763835881114,-0.3817962495942807],[-0.6616763835881114,-0.3283654372240953],[-0.6616763835881114,-0.6018358872561848],[-0.6616763835881114,-0.6228822666084857],[-0.6616763835881114,-0.677170385809453],[-0.6616763835881114,-0.40857482232735853],[-0.6616763835881114,-0.37903395098953185],[0.5489780206588747,0.639783331950088],[0.5489780206588747,0.5418743979889208],[0.5489780206588747,0.35471597709605185],[0.5489780206588747,0.3185175124675965],[0.5489780206588747,0.40050866482767467],[0.5489780206588747,0.3688498768746344],[0.5489780206588747,0.4424920684219327],[0.5489780206588747,0.6676543769707519],[0.5489780206588747,0.5542012107998123],[0.5489780206588747,0.6034980650104326],[0.5489780206588747,0.40431094079537266],[0.5489780206588747,0.7128332561290933],[0.5489780206588747,0.6892139554787605],[0.5489780206588747,0.375150752662636],[0.5489780206588747,0.4229447813373009],[-0.5694598431754405,-0.3774003133432349],[-0.5694598431754405,-0.6446989675428972],[-0.5694598431754405,-0.3191981425255363],[-0.5694598431754405,-0.4411820973306278],[-0.5694598431754405,-0.5929161799224901],[-0.5694598431754405,-0.4232866380909065],[-0.5694598431754405,-0.592875884160064],[-0.5694598431754405,-0.6377429598460024],[-0.5694598431754405,-0.5220406414406641],[-0.5694598431754405,-0.3817962495942807],[-0.5694598431754405,-0.3283654372240953],[-0.5694598431754405,-0.6018358872561848],[-0.5694598431754405,-0.6228822666084857],[-0.5694598431754405,-0.677170385809453],[-0.5694598431754405,-0.40857482232735853],[-0.5694598431754405,-0.37903395098953185],[-0.3774003133432349,-0.6446989675428972],[-0.3774003133432349,-0.3191981425255363],[-0.3774003133432349,-0.4411820973306278],[-0.3774003133432349,-0.5929161799224901],[-0.3774003133432349,-0.4232866380909065],[-0.3774003133432349,-0.592875884160064],[-0.3774003133432349,-0.6377429598460024],[-0.3774003133432349,-0.5220406414406641],[-0.3774003133432349,-0.3817962495942807],[-0.3774003133432349,-0.3283654372240953],[-0.3774003133432349,-0.6018358872561848],[-0.3774003133432349,-0.6228822666084857],[-0.3774003133432349,-0.677170385809453],[-0.3774003133432349,-0.40857482232735853],[-0.3774003133432349,-0.37903395098953185],[-0.6446989675428972,-0.3191981425255363],[-0.6446989675428972,-0.4411820973306278],[-0.6446989675428972,-0.5929161799224901],[-0.6446989675428972,-0.4232866380909065],[-0.6446989675428972,-0.592875884160064],[-0.6446989675428972,-0.6377429598460024],[-0.6446989675428972,-0.5220406414406641],[-0.6446989675428972,-0.3817962495942807],[-0.6446989675428972,-0.3283654372240953],[-0.6446989675428972,-0.6018358872561848],[-0.6446989675428972,-0.6228822666084857],[-0.6446989675428972,-0.677170385809453],[-0.6446989675428972,-0.40857482232735853],[-0.6446989675428972,-0.37903395098953185],[0.639783331950088,0.5418743979889208],[0.639783331950088,0.35471597709605185],[0.639783331950088,0.3185175124675965],[0.639783331950088,0.40050866482767467],[0.639783331950088,0.3688498768746344],[0.639783331950088,0.4424920684219327],[0.639783331950088,0.6676543769707519],[0.639783331950088,0.5542012107998123],[0.639783331950088,0.6034980650104326],[0.639783331950088,0.40431094079537266],[0.639783331950088,0.7128332561290933],[0.639783331950088,0.6892139554787605],[0.639783331950088,0.375150752662636],[0.639783331950088,0.4229447813373009],[-0.3191981425255363,-0.4411820973306278],[-0.3191981425255363,-0.5929161799224901],[-0.3191981425255363,-0.4232866380909065],[-0.3191981425255363,-0.592875884160064],[-0.3191981425255363,-0.6377429598460024],[-0.3191981425255363,-0.5220406414406641],[-0.3191981425255363,-0.3817962495942807],[-0.3191981425255363,-0.3283654372240953],[-0.3191981425255363,-0.6018358872561848],[-0.3191981425255363,-0.6228822666084857],[-0.3191981425255363,-0.677170385809453],[-0.3191981425255363,-0.40857482232735853],[-0.3191981425255363,-0.37903395098953185],[0.5418743979889208,0.35471597709605185],[0.5418743979889208,0.3185175124675965],[0.5418743979889208,0.40050866482767467],[0.5418743979889208,0.3688498768746344],[0.5418743979889208,0.4424920684219327],[0.5418743979889208,0.6676543769707519],[0.5418743979889208,0.5542012107998123],[0.5418743979889208,0.6034980650104326],[0.5418743979889208,0.40431094079537266],[0.5418743979889208,0.7128332561290933],[0.5418743979889208,0.6892139554787605],[0.5418743979889208,0.375150752662636],[0.5418743979889208,0.4229447813373009],[0.35471597709605185,0.3185175124675965],[0.35471597709605185,0.40050866482767467],[0.35471597709605185,0.3688498768746344],[0.35471597709605185,0.4424920684219327],[0.35471597709605185,0.6676543769707519],[0.35471597709605185,0.5542012107998123],[0.35471597709605185,0.6034980650104326],[0.35471597709605185,0.40431094079537266],[0.35471597709605185,0.7128332561290933],[0.35471597709605185,0.6892139554787605],[0.35471597709605185,0.375150752662636],[0.35471597709605185,0.4229447813373009],[0.3185175124675965,0.40050866482767467],[0.3185175124675965,0.3688498768746344],[0.3185175124675965,0.4424920684219327],[0.3185175124675965,0.6676543769707519],[0.3185175124675965,0.5542012107998123],[0.3185175124675965,0.6034980650104326],[0.3185175124675965,0.40431094079537266],[0.3185175124675965,0.7128332561290933],[0.3185175124675965,0.6892139554787605],[0.3185175124675965,0.375150752662636],[0.3185175124675965,0.4229447813373009],[-0.4411820973306278,-0.5929161799224901],[-0.4411820973306278,-0.4232866380909065],[-0.4411820973306278,-0.592875884160064],[-0.4411820973306278,-0.6377429598460024],[-0.4411820973306278,-0.5220406414406641],[-0.4411820973306278,-0.3817962495942807],[-0.4411820973306278,-0.3283654372240953],[-0.4411820973306278,-0.6018358872561848],[-0.4411820973306278,-0.6228822666084857],[-0.4411820973306278,-0.677170385809453],[-0.4411820973306278,-0.40857482232735853],[-0.4411820973306278,-0.37903395098953185],[-0.5929161799224901,-0.4232866380909065],[-0.5929161799224901,-0.592875884160064],[-0.5929161799224901,-0.6377429598460024],[-0.5929161799224901,-0.5220406414406641],[-0.5929161799224901,-0.3817962495942807],[-0.5929161799224901,-0.3283654372240953],[-0.5929161799224901,-0.6018358872561848],[-0.5929161799224901,-0.6228822666084857],[-0.5929161799224901,-0.677170385809453],[-0.5929161799224901,-0.40857482232735853],[-0.5929161799224901,-0.37903395098953185],[-0.4232866380909065,-0.592875884160064],[-0.4232866380909065,-0.6377429598460024],[-0.4232866380909065,-0.5220406414406641],[-0.4232866380909065,-0.3817962495942807],[-0.4232866380909065,-0.3283654372240953],[-0.4232866380909065,-0.6018358872561848],[-0.4232866380909065,-0.6228822666084857],[-0.4232866380909065,-0.677170385809453],[-0.4232866380909065,-0.40857482232735853],[-0.4232866380909065,-0.37903395098953185],[0.40050866482767467,0.3688498768746344],[0.40050866482767467,0.4424920684219327],[0.40050866482767467,0.6676543769707519],[0.40050866482767467,0.5542012107998123],[0.40050866482767467,0.6034980650104326],[0.40050866482767467,0.40431094079537266],[0.40050866482767467,0.7128332561290933],[0.40050866482767467,0.6892139554787605],[0.40050866482767467,0.375150752662636],[0.40050866482767467,0.4229447813373009],[0.3688498768746344,0.4424920684219327],[0.3688498768746344,0.6676543769707519],[0.3688498768746344,0.5542012107998123],[0.3688498768746344,0.6034980650104326],[0.3688498768746344,0.40431094079537266],[0.3688498768746344,0.7128332561290933],[0.3688498768746344,0.6892139554787605],[0.3688498768746344,0.375150752662636],[0.3688498768746344,0.4229447813373009],[-0.592875884160064,-0.6377429598460024],[-0.592875884160064,-0.5220406414406641],[-0.592875884160064,-0.3817962495942807],[-0.592875884160064,-0.3283654372240953],[-0.592875884160064,-0.6018358872561848],[-0.592875884160064,-0.6228822666084857],[-0.592875884160064,-0.677170385809453],[-0.592875884160064,-0.40857482232735853],[-0.592875884160064,-0.37903395098953185],[0.4424920684219327,0.6676543769707519],[0.4424920684219327,0.5542012107998123],[0.4424920684219327,0.6034980650104326],[0.4424920684219327,0.40431094079537266],[0.4424920684219327,0.7128332561290933],[0.4424920684219327,0.6892139554787605],[0.4424920684219327,0.375150752662636],[0.4424920684219327,0.4229447813373009],[0.6676543769707519,0.5542012107998123],[0.6676543769707519,0.6034980650104326],[0.6676543769707519,0.40431094079537266],[0.6676543769707519,0.7128332561290933],[0.6676543769707519,0.6892139554787605],[0.6676543769707519,0.375150752662636],[0.6676543769707519,0.4229447813373009],[0.5542012107998123,0.6034980650104326],[0.5542012107998123,0.40431094079537266],[0.5542012107998123,0.7128332561290933],[0.5542012107998123,0.6892139554787605],[0.5542012107998123,0.375150752662636],[0.5542012107998123,0.4229447813373009],[-0.6377429598460024,-0.5220406414406641],[-0.6377429598460024,-0.3817962495942807],[-0.6377429598460024,-0.3283654372240953],[-0.6377429598460024,-0.6018358872561848],[-0.6377429598460024,-0.6228822666084857],[-0.6377429598460024,-0.677170385809453],[-0.6377429598460024,-0.40857482232735853],[-0.6377429598460024,-0.37903395098953185],[-0.5220406414406641,-0.3817962495942807],[-0.5220406414406641,-0.3283654372240953],[-0.5220406414406641,-0.6018358872561848],[-0.5220406414406641,-0.6228822666084857],[-0.5220406414406641,-0.677170385809453],[-0.5220406414406641,-0.40857482232735853],[-0.5220406414406641,-0.37903395098953185],[-0.3817962495942807,-0.3283654372240953],[-0.3817962495942807,-0.6018358872561848],[-0.3817962495942807,-0.6228822666084857],[-0.3817962495942807,-0.677170385809453],[-0.3817962495942807,-0.40857482232735853],[-0.3817962495942807,-0.37903395098953185],[0.6034980650104326,0.40431094079537266],[0.6034980650104326,0.7128332561290933],[0.6034980650104326,0.6892139554787605],[0.6034980650104326,0.375150752662636],[0.6034980650104326,0.4229447813373009],[0.40431094079537266,0.7128332561290933],[0.40431094079537266,0.6892139554787605],[0.40431094079537266,0.375150752662636],[0.40431094079537266,0.4229447813373009],[-0.3283654372240953,-0.6018358872561848],[-0.3283654372240953,-0.6228822666084857],[-0.3283654372240953,-0.677170385809453],[-0.3283654372240953,-0.40857482232735853],[-0.3283654372240953,-0.37903395098953185],[0.7128332561290933,0.6892139554787605],[0.7128332561290933,0.375150752662636],[0.7128332561290933,0.4229447813373009],[-0.6018358872561848,-0.6228822666084857],[-0.6018358872561848,-0.677170385809453],[-0.6018358872561848,-0.40857482232735853],[-0.6018358872561848,-0.37903395098953185],[0.6892139554787605,0.375150752662636],[0.6892139554787605,0.4229447813373009],[0.375150752662636,0.4229447813373009],[-0.6228822666084857,-0.677170385809453],[-0.6228822666084857,-0.40857482232735853],[-0.6228822666084857,-0.37903395098953185],[-0.677170385809453,-0.40857482232735853],[-0.677170385809453,-0.37903395098953185],[-0.40857482232735853,-0.37903395098953185]]],[\"ys\",[[-0.5987951768268935,-0.6927971473738558],[-0.5987951768268935,-0.8434195096736897],[-0.5987951768268935,-0.5533222753984299],[-0.5987951768268935,-0.6008209765047218],[-0.5987951768268935,-0.9561711390884139],[-0.5987951768268935,-0.7775483819485565],[-0.5987951768268935,-0.6253718804043029],[-0.5987951768268935,-0.8618476572277995],[-0.5987951768268935,-0.6313371716931274],[-0.5987951768268935,-0.8265463356259657],[-0.5987951768268935,-0.6791493045371944],[-0.5987951768268935,-0.8660093546809151],[-0.5987951768268935,-0.8721877079796878],[-0.5987951768268935,-0.5676655385384946],[-0.5987951768268935,-0.6467707549946478],[-0.5987951768268935,-0.6446107657274063],[-0.5987951768268935,-0.7844979175978253],[-0.5987951768268935,-0.8259018530385307],[-0.5987951768268935,-0.9165581783034574],[-0.5987951768268935,-0.9109319111389345],[-0.6927971473738558,-0.8434195096736897],[-0.6927971473738558,-0.5533222753984299],[-0.6927971473738558,-0.6008209765047218],[-0.6927971473738558,-0.9561711390884139],[-0.6927971473738558,-0.7775483819485565],[-0.6927971473738558,-0.6253718804043029],[-0.6927971473738558,-0.8618476572277995],[-0.6927971473738558,-0.6313371716931274],[-0.6927971473738558,-0.8265463356259657],[-0.6927971473738558,-0.6791493045371944],[-0.6927971473738558,-0.8660093546809151],[-0.6927971473738558,-0.8721877079796878],[-0.6927971473738558,-0.5676655385384946],[-0.6927971473738558,-0.6467707549946478],[-0.6927971473738558,-0.6446107657274063],[-0.6927971473738558,-0.7844979175978253],[-0.6927971473738558,-0.8259018530385307],[-0.6927971473738558,-0.9165581783034574],[-0.6927971473738558,-0.9109319111389345],[0.82980938036978,0.6056222621794927],[0.82980938036978,0.558891888967796],[0.82980938036978,0.5809177792994411],[0.82980938036978,0.8301186371315071],[0.82980938036978,0.7996118971765813],[0.82980938036978,0.6292799294403466],[0.82980938036978,0.8098123481559049],[0.82980938036978,0.5699233137894523],[0.82980938036978,0.5840738813532411],[0.82980938036978,0.6209829078737439],[0.82980938036978,0.6658017359600232],[0.82980938036978,0.8765404554496133],[0.82980938036978,0.9999999999999999],[0.82980938036978,0.9104523262523556],[0.82980938036978,0.8804758641027908],[0.82980938036978,0.9108897777879084],[0.82980938036978,0.8197253808816491],[0.82980938036978,0.6816454232364977],[0.82980938036978,0.8596586448609199],[0.82980938036978,0.6580271040338048],[-0.8434195096736897,-0.5533222753984299],[-0.8434195096736897,-0.6008209765047218],[-0.8434195096736897,-0.9561711390884139],[-0.8434195096736897,-0.7775483819485565],[-0.8434195096736897,-0.6253718804043029],[-0.8434195096736897,-0.8618476572277995],[-0.8434195096736897,-0.6313371716931274],[-0.8434195096736897,-0.8265463356259657],[-0.8434195096736897,-0.6791493045371944],[-0.8434195096736897,-0.8660093546809151],[-0.8434195096736897,-0.8721877079796878],[-0.8434195096736897,-0.5676655385384946],[-0.8434195096736897,-0.6467707549946478],[-0.8434195096736897,-0.6446107657274063],[-0.8434195096736897,-0.7844979175978253],[-0.8434195096736897,-0.8259018530385307],[-0.8434195096736897,-0.9165581783034574],[-0.8434195096736897,-0.9109319111389345],[-0.5533222753984299,-0.6008209765047218],[-0.5533222753984299,-0.9561711390884139],[-0.5533222753984299,-0.7775483819485565],[-0.5533222753984299,-0.6253718804043029],[-0.5533222753984299,-0.8618476572277995],[-0.5533222753984299,-0.6313371716931274],[-0.5533222753984299,-0.8265463356259657],[-0.5533222753984299,-0.6791493045371944],[-0.5533222753984299,-0.8660093546809151],[-0.5533222753984299,-0.8721877079796878],[-0.5533222753984299,-0.5676655385384946],[-0.5533222753984299,-0.6467707549946478],[-0.5533222753984299,-0.6446107657274063],[-0.5533222753984299,-0.7844979175978253],[-0.5533222753984299,-0.8259018530385307],[-0.5533222753984299,-0.9165581783034574],[-0.5533222753984299,-0.9109319111389345],[-0.6008209765047218,-0.9561711390884139],[-0.6008209765047218,-0.7775483819485565],[-0.6008209765047218,-0.6253718804043029],[-0.6008209765047218,-0.8618476572277995],[-0.6008209765047218,-0.6313371716931274],[-0.6008209765047218,-0.8265463356259657],[-0.6008209765047218,-0.6791493045371944],[-0.6008209765047218,-0.8660093546809151],[-0.6008209765047218,-0.8721877079796878],[-0.6008209765047218,-0.5676655385384946],[-0.6008209765047218,-0.6467707549946478],[-0.6008209765047218,-0.6446107657274063],[-0.6008209765047218,-0.7844979175978253],[-0.6008209765047218,-0.8259018530385307],[-0.6008209765047218,-0.9165581783034574],[-0.6008209765047218,-0.9109319111389345],[0.6056222621794927,0.558891888967796],[0.6056222621794927,0.5809177792994411],[0.6056222621794927,0.8301186371315071],[0.6056222621794927,0.7996118971765813],[0.6056222621794927,0.6292799294403466],[0.6056222621794927,0.8098123481559049],[0.6056222621794927,0.5699233137894523],[0.6056222621794927,0.5840738813532411],[0.6056222621794927,0.6209829078737439],[0.6056222621794927,0.6658017359600232],[0.6056222621794927,0.8765404554496133],[0.6056222621794927,0.9999999999999999],[0.6056222621794927,0.9104523262523556],[0.6056222621794927,0.8804758641027908],[0.6056222621794927,0.9108897777879084],[0.6056222621794927,0.8197253808816491],[0.6056222621794927,0.6816454232364977],[0.6056222621794927,0.8596586448609199],[0.6056222621794927,0.6580271040338048],[0.558891888967796,0.5809177792994411],[0.558891888967796,0.8301186371315071],[0.558891888967796,0.7996118971765813],[0.558891888967796,0.6292799294403466],[0.558891888967796,0.8098123481559049],[0.558891888967796,0.5699233137894523],[0.558891888967796,0.5840738813532411],[0.558891888967796,0.6209829078737439],[0.558891888967796,0.6658017359600232],[0.558891888967796,0.8765404554496133],[0.558891888967796,0.9999999999999999],[0.558891888967796,0.9104523262523556],[0.558891888967796,0.8804758641027908],[0.558891888967796,0.9108897777879084],[0.558891888967796,0.8197253808816491],[0.558891888967796,0.6816454232364977],[0.558891888967796,0.8596586448609199],[0.558891888967796,0.6580271040338048],[0.5809177792994411,0.8301186371315071],[0.5809177792994411,0.7996118971765813],[0.5809177792994411,0.6292799294403466],[0.5809177792994411,0.8098123481559049],[0.5809177792994411,0.5699233137894523],[0.5809177792994411,0.5840738813532411],[0.5809177792994411,0.6209829078737439],[0.5809177792994411,0.6658017359600232],[0.5809177792994411,0.8765404554496133],[0.5809177792994411,0.9999999999999999],[0.5809177792994411,0.9104523262523556],[0.5809177792994411,0.8804758641027908],[0.5809177792994411,0.9108897777879084],[0.5809177792994411,0.8197253808816491],[0.5809177792994411,0.6816454232364977],[0.5809177792994411,0.8596586448609199],[0.5809177792994411,0.6580271040338048],[-0.9561711390884139,-0.7775483819485565],[-0.9561711390884139,-0.6253718804043029],[-0.9561711390884139,-0.8618476572277995],[-0.9561711390884139,-0.6313371716931274],[-0.9561711390884139,-0.8265463356259657],[-0.9561711390884139,-0.6791493045371944],[-0.9561711390884139,-0.8660093546809151],[-0.9561711390884139,-0.8721877079796878],[-0.9561711390884139,-0.5676655385384946],[-0.9561711390884139,-0.6467707549946478],[-0.9561711390884139,-0.6446107657274063],[-0.9561711390884139,-0.7844979175978253],[-0.9561711390884139,-0.8259018530385307],[-0.9561711390884139,-0.9165581783034574],[-0.9561711390884139,-0.9109319111389345],[0.8301186371315071,0.7996118971765813],[0.8301186371315071,0.6292799294403466],[0.8301186371315071,0.8098123481559049],[0.8301186371315071,0.5699233137894523],[0.8301186371315071,0.5840738813532411],[0.8301186371315071,0.6209829078737439],[0.8301186371315071,0.6658017359600232],[0.8301186371315071,0.8765404554496133],[0.8301186371315071,0.9999999999999999],[0.8301186371315071,0.9104523262523556],[0.8301186371315071,0.8804758641027908],[0.8301186371315071,0.9108897777879084],[0.8301186371315071,0.8197253808816491],[0.8301186371315071,0.6816454232364977],[0.8301186371315071,0.8596586448609199],[0.8301186371315071,0.6580271040338048],[0.7996118971765813,0.6292799294403466],[0.7996118971765813,0.8098123481559049],[0.7996118971765813,0.5699233137894523],[0.7996118971765813,0.5840738813532411],[0.7996118971765813,0.6209829078737439],[0.7996118971765813,0.6658017359600232],[0.7996118971765813,0.8765404554496133],[0.7996118971765813,0.9999999999999999],[0.7996118971765813,0.9104523262523556],[0.7996118971765813,0.8804758641027908],[0.7996118971765813,0.9108897777879084],[0.7996118971765813,0.8197253808816491],[0.7996118971765813,0.6816454232364977],[0.7996118971765813,0.8596586448609199],[0.7996118971765813,0.6580271040338048],[0.6292799294403466,0.8098123481559049],[0.6292799294403466,0.5699233137894523],[0.6292799294403466,0.5840738813532411],[0.6292799294403466,0.6209829078737439],[0.6292799294403466,0.6658017359600232],[0.6292799294403466,0.8765404554496133],[0.6292799294403466,0.9999999999999999],[0.6292799294403466,0.9104523262523556],[0.6292799294403466,0.8804758641027908],[0.6292799294403466,0.9108897777879084],[0.6292799294403466,0.8197253808816491],[0.6292799294403466,0.6816454232364977],[0.6292799294403466,0.8596586448609199],[0.6292799294403466,0.6580271040338048],[-0.7775483819485565,-0.6253718804043029],[-0.7775483819485565,-0.8618476572277995],[-0.7775483819485565,-0.6313371716931274],[-0.7775483819485565,-0.8265463356259657],[-0.7775483819485565,-0.6791493045371944],[-0.7775483819485565,-0.8660093546809151],[-0.7775483819485565,-0.8721877079796878],[-0.7775483819485565,-0.5676655385384946],[-0.7775483819485565,-0.6467707549946478],[-0.7775483819485565,-0.6446107657274063],[-0.7775483819485565,-0.7844979175978253],[-0.7775483819485565,-0.8259018530385307],[-0.7775483819485565,-0.9165581783034574],[-0.7775483819485565,-0.9109319111389345],[0.8098123481559049,0.5699233137894523],[0.8098123481559049,0.5840738813532411],[0.8098123481559049,0.6209829078737439],[0.8098123481559049,0.6658017359600232],[0.8098123481559049,0.8765404554496133],[0.8098123481559049,0.9999999999999999],[0.8098123481559049,0.9104523262523556],[0.8098123481559049,0.8804758641027908],[0.8098123481559049,0.9108897777879084],[0.8098123481559049,0.8197253808816491],[0.8098123481559049,0.6816454232364977],[0.8098123481559049,0.8596586448609199],[0.8098123481559049,0.6580271040338048],[-0.6253718804043029,-0.8618476572277995],[-0.6253718804043029,-0.6313371716931274],[-0.6253718804043029,-0.8265463356259657],[-0.6253718804043029,-0.6791493045371944],[-0.6253718804043029,-0.8660093546809151],[-0.6253718804043029,-0.8721877079796878],[-0.6253718804043029,-0.5676655385384946],[-0.6253718804043029,-0.6467707549946478],[-0.6253718804043029,-0.6446107657274063],[-0.6253718804043029,-0.7844979175978253],[-0.6253718804043029,-0.8259018530385307],[-0.6253718804043029,-0.9165581783034574],[-0.6253718804043029,-0.9109319111389345],[-0.8618476572277995,-0.6313371716931274],[-0.8618476572277995,-0.8265463356259657],[-0.8618476572277995,-0.6791493045371944],[-0.8618476572277995,-0.8660093546809151],[-0.8618476572277995,-0.8721877079796878],[-0.8618476572277995,-0.5676655385384946],[-0.8618476572277995,-0.6467707549946478],[-0.8618476572277995,-0.6446107657274063],[-0.8618476572277995,-0.7844979175978253],[-0.8618476572277995,-0.8259018530385307],[-0.8618476572277995,-0.9165581783034574],[-0.8618476572277995,-0.9109319111389345],[-0.6313371716931274,-0.8265463356259657],[-0.6313371716931274,-0.6791493045371944],[-0.6313371716931274,-0.8660093546809151],[-0.6313371716931274,-0.8721877079796878],[-0.6313371716931274,-0.5676655385384946],[-0.6313371716931274,-0.6467707549946478],[-0.6313371716931274,-0.6446107657274063],[-0.6313371716931274,-0.7844979175978253],[-0.6313371716931274,-0.8259018530385307],[-0.6313371716931274,-0.9165581783034574],[-0.6313371716931274,-0.9109319111389345],[0.5699233137894523,0.5840738813532411],[0.5699233137894523,0.6209829078737439],[0.5699233137894523,0.6658017359600232],[0.5699233137894523,0.8765404554496133],[0.5699233137894523,0.9999999999999999],[0.5699233137894523,0.9104523262523556],[0.5699233137894523,0.8804758641027908],[0.5699233137894523,0.9108897777879084],[0.5699233137894523,0.8197253808816491],[0.5699233137894523,0.6816454232364977],[0.5699233137894523,0.8596586448609199],[0.5699233137894523,0.6580271040338048],[0.5840738813532411,0.6209829078737439],[0.5840738813532411,0.6658017359600232],[0.5840738813532411,0.8765404554496133],[0.5840738813532411,0.9999999999999999],[0.5840738813532411,0.9104523262523556],[0.5840738813532411,0.8804758641027908],[0.5840738813532411,0.9108897777879084],[0.5840738813532411,0.8197253808816491],[0.5840738813532411,0.6816454232364977],[0.5840738813532411,0.8596586448609199],[0.5840738813532411,0.6580271040338048],[0.6209829078737439,0.6658017359600232],[0.6209829078737439,0.8765404554496133],[0.6209829078737439,0.9999999999999999],[0.6209829078737439,0.9104523262523556],[0.6209829078737439,0.8804758641027908],[0.6209829078737439,0.9108897777879084],[0.6209829078737439,0.8197253808816491],[0.6209829078737439,0.6816454232364977],[0.6209829078737439,0.8596586448609199],[0.6209829078737439,0.6580271040338048],[-0.8265463356259657,-0.6791493045371944],[-0.8265463356259657,-0.8660093546809151],[-0.8265463356259657,-0.8721877079796878],[-0.8265463356259657,-0.5676655385384946],[-0.8265463356259657,-0.6467707549946478],[-0.8265463356259657,-0.6446107657274063],[-0.8265463356259657,-0.7844979175978253],[-0.8265463356259657,-0.8259018530385307],[-0.8265463356259657,-0.9165581783034574],[-0.8265463356259657,-0.9109319111389345],[-0.6791493045371944,-0.8660093546809151],[-0.6791493045371944,-0.8721877079796878],[-0.6791493045371944,-0.5676655385384946],[-0.6791493045371944,-0.6467707549946478],[-0.6791493045371944,-0.6446107657274063],[-0.6791493045371944,-0.7844979175978253],[-0.6791493045371944,-0.8259018530385307],[-0.6791493045371944,-0.9165581783034574],[-0.6791493045371944,-0.9109319111389345],[0.6658017359600232,0.8765404554496133],[0.6658017359600232,0.9999999999999999],[0.6658017359600232,0.9104523262523556],[0.6658017359600232,0.8804758641027908],[0.6658017359600232,0.9108897777879084],[0.6658017359600232,0.8197253808816491],[0.6658017359600232,0.6816454232364977],[0.6658017359600232,0.8596586448609199],[0.6658017359600232,0.6580271040338048],[-0.8660093546809151,-0.8721877079796878],[-0.8660093546809151,-0.5676655385384946],[-0.8660093546809151,-0.6467707549946478],[-0.8660093546809151,-0.6446107657274063],[-0.8660093546809151,-0.7844979175978253],[-0.8660093546809151,-0.8259018530385307],[-0.8660093546809151,-0.9165581783034574],[-0.8660093546809151,-0.9109319111389345],[-0.8721877079796878,-0.5676655385384946],[-0.8721877079796878,-0.6467707549946478],[-0.8721877079796878,-0.6446107657274063],[-0.8721877079796878,-0.7844979175978253],[-0.8721877079796878,-0.8259018530385307],[-0.8721877079796878,-0.9165581783034574],[-0.8721877079796878,-0.9109319111389345],[-0.5676655385384946,-0.6467707549946478],[-0.5676655385384946,-0.6446107657274063],[-0.5676655385384946,-0.7844979175978253],[-0.5676655385384946,-0.8259018530385307],[-0.5676655385384946,-0.9165581783034574],[-0.5676655385384946,-0.9109319111389345],[0.8765404554496133,0.9999999999999999],[0.8765404554496133,0.9104523262523556],[0.8765404554496133,0.8804758641027908],[0.8765404554496133,0.9108897777879084],[0.8765404554496133,0.8197253808816491],[0.8765404554496133,0.6816454232364977],[0.8765404554496133,0.8596586448609199],[0.8765404554496133,0.6580271040338048],[0.9999999999999999,0.9104523262523556],[0.9999999999999999,0.8804758641027908],[0.9999999999999999,0.9108897777879084],[0.9999999999999999,0.8197253808816491],[0.9999999999999999,0.6816454232364977],[0.9999999999999999,0.8596586448609199],[0.9999999999999999,0.6580271040338048],[0.9104523262523556,0.8804758641027908],[0.9104523262523556,0.9108897777879084],[0.9104523262523556,0.8197253808816491],[0.9104523262523556,0.6816454232364977],[0.9104523262523556,0.8596586448609199],[0.9104523262523556,0.6580271040338048],[-0.6467707549946478,-0.6446107657274063],[-0.6467707549946478,-0.7844979175978253],[-0.6467707549946478,-0.8259018530385307],[-0.6467707549946478,-0.9165581783034574],[-0.6467707549946478,-0.9109319111389345],[-0.6446107657274063,-0.7844979175978253],[-0.6446107657274063,-0.8259018530385307],[-0.6446107657274063,-0.9165581783034574],[-0.6446107657274063,-0.9109319111389345],[0.8804758641027908,0.9108897777879084],[0.8804758641027908,0.8197253808816491],[0.8804758641027908,0.6816454232364977],[0.8804758641027908,0.8596586448609199],[0.8804758641027908,0.6580271040338048],[-0.7844979175978253,-0.8259018530385307],[-0.7844979175978253,-0.9165581783034574],[-0.7844979175978253,-0.9109319111389345],[0.9108897777879084,0.8197253808816491],[0.9108897777879084,0.6816454232364977],[0.9108897777879084,0.8596586448609199],[0.9108897777879084,0.6580271040338048],[-0.8259018530385307,-0.9165581783034574],[-0.8259018530385307,-0.9109319111389345],[-0.9165581783034574,-0.9109319111389345],[0.8197253808816491,0.6816454232364977],[0.8197253808816491,0.8596586448609199],[0.8197253808816491,0.6580271040338048],[0.6816454232364977,0.8596586448609199],[0.6816454232364977,0.6580271040338048],[0.8596586448609199,0.6580271040338048]]],[\"_u\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,27,27,27,27,27,27,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,30,30,30,30,30,30,31,31,31,31,31,32,32,32,32,33,33,33,33,33,34,34,34,35,35,35,35,36,36,37,38,38,38,39,39,40]],[\"_v\",[2,4,5,6,10,14,16,17,18,22,23,25,26,27,31,32,34,36,37,42,4,5,6,10,14,16,17,18,22,23,25,26,27,31,32,34,36,37,42,7,8,9,11,12,13,15,19,20,21,24,28,29,30,33,35,38,39,40,41,5,6,10,14,16,17,18,22,23,25,26,27,31,32,34,36,37,42,6,10,14,16,17,18,22,23,25,26,27,31,32,34,36,37,42,10,14,16,17,18,22,23,25,26,27,31,32,34,36,37,42,8,9,11,12,13,15,19,20,21,24,28,29,30,33,35,38,39,40,41,9,11,12,13,15,19,20,21,24,28,29,30,33,35,38,39,40,41,11,12,13,15,19,20,21,24,28,29,30,33,35,38,39,40,41,14,16,17,18,22,23,25,26,27,31,32,34,36,37,42,12,13,15,19,20,21,24,28,29,30,33,35,38,39,40,41,13,15,19,20,21,24,28,29,30,33,35,38,39,40,41,15,19,20,21,24,28,29,30,33,35,38,39,40,41,16,17,18,22,23,25,26,27,31,32,34,36,37,42,19,20,21,24,28,29,30,33,35,38,39,40,41,17,18,22,23,25,26,27,31,32,34,36,37,42,18,22,23,25,26,27,31,32,34,36,37,42,22,23,25,26,27,31,32,34,36,37,42,20,21,24,28,29,30,33,35,38,39,40,41,21,24,28,29,30,33,35,38,39,40,41,24,28,29,30,33,35,38,39,40,41,23,25,26,27,31,32,34,36,37,42,25,26,27,31,32,34,36,37,42,28,29,30,33,35,38,39,40,41,26,27,31,32,34,36,37,42,27,31,32,34,36,37,42,31,32,34,36,37,42,29,30,33,35,38,39,40,41,30,33,35,38,39,40,41,33,35,38,39,40,41,32,34,36,37,42,34,36,37,42,35,38,39,40,41,36,37,42,38,39,40,41,37,42,42,39,40,41,40,41,41]],[\"weight\",[2,2,42,2,2,2,42,2,2,2,1,1,1,41,41,1,1,1,1,1,2,2,62,2,2,2,2,62,2,61,1,1,1,1,61,1,1,1,1,2,2,2,52,2,2,2,2,2,2,1,51,1,1,1,51,51,1,1,1,2,2,2,42,2,2,2,2,1,1,41,1,1,1,41,41,1,1,2,2,2,42,2,2,2,1,1,1,41,41,1,1,1,1,1,2,2,2,2,62,2,61,1,1,1,1,61,1,1,1,1,52,2,2,2,2,2,52,2,52,1,1,1,1,1,1,1,1,1,51,2,2,2,2,2,52,2,52,1,1,1,1,1,1,1,1,1,51,2,2,42,2,2,42,2,41,1,1,1,1,1,1,41,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,1,51,1,1,1,51,51,1,1,1,2,42,2,2,2,1,1,1,41,41,1,1,1,41,1,2,2,42,2,41,1,1,1,1,1,1,41,1,1,2,2,2,2,1,1,41,1,1,1,41,41,1,1,2,2,2,1,1,1,41,41,1,1,1,41,1,2,2,2,1,1,1,41,41,1,1,1,1,1,2,62,1,61,1,1,1,1,1,1,61,61,2,61,1,1,1,1,61,1,1,1,1,2,52,1,1,1,1,1,1,1,1,1,51,2,41,1,1,1,1,1,1,41,1,1,1,1,1,1,1,1,1,1,1,51,1,61,1,1,1,1,1,1,61,61,2,2,2,2,62,2,2,2,2,2,2,2,2,2,2,42,2,2,2,2,2,2,2,2,62,62,2,2,2,42,42,2,2,42,2,2,2,2,2,2,2,2,52,52,2,2,2,2,2,2,2,2,2,2,42,2,2,2,42,2,2,2,2,2,2,2,2,2,2,2,2,2,42,2,42,2,2,52,2,2,2,2,2,62,2,2,2,2,2,2]],[\"_edge_alpha\",[0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.125,0.125,0.125,0.375,0.375,0.125,0.125,0.125,0.125,0.125,0.25,0.25,1.0,0.25,0.25,0.25,0.25,1.0,0.25,0.875,0.125,0.125,0.125,0.125,0.875,0.125,0.125,0.125,0.125,0.25,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.125,0.625,0.125,0.125,0.125,0.625,0.625,0.125,0.125,0.125,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.125,0.125,0.375,0.125,0.125,0.125,0.375,0.375,0.125,0.125,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.125,0.125,0.125,0.375,0.375,0.125,0.125,0.125,0.125,0.125,0.25,0.25,0.25,0.25,1.0,0.25,0.875,0.125,0.125,0.125,0.125,0.875,0.125,0.125,0.125,0.125,0.75,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.75,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.625,0.25,0.25,0.25,0.25,0.25,0.75,0.25,0.75,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.625,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.375,0.125,0.125,0.125,0.125,0.125,0.125,0.375,0.125,0.125,0.25,0.25,0.25,0.25,0.25,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.25,0.25,0.25,0.25,0.25,0.25,0.125,0.625,0.125,0.125,0.125,0.625,0.625,0.125,0.125,0.125,0.25,0.5,0.25,0.25,0.25,0.125,0.125,0.125,0.375,0.375,0.125,0.125,0.125,0.375,0.125,0.25,0.25,0.5,0.25,0.375,0.125,0.125,0.125,0.125,0.125,0.125,0.375,0.125,0.125,0.25,0.25,0.25,0.25,0.125,0.125,0.375,0.125,0.125,0.125,0.375,0.375,0.125,0.125,0.25,0.25,0.25,0.125,0.125,0.125,0.375,0.375,0.125,0.125,0.125,0.375,0.125,0.25,0.25,0.25,0.125,0.125,0.125,0.375,0.375,0.125,0.125,0.125,0.125,0.125,0.25,1.0,0.125,0.875,0.125,0.125,0.125,0.125,0.125,0.125,0.875,0.875,0.25,0.875,0.125,0.125,0.125,0.125,0.875,0.125,0.125,0.125,0.125,0.25,0.75,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.625,0.25,0.375,0.125,0.125,0.125,0.125,0.125,0.125,0.375,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.625,0.125,0.875,0.125,0.125,0.125,0.125,0.125,0.125,0.875,0.875,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,1.0,1.0,0.25,0.25,0.25,0.5,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.75,0.75,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.5,0.25,0.5,0.25,0.25,0.75,0.25,0.25,0.25,0.25,0.25,1.0,0.25,0.25,0.25,0.25,0.25,0.25]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p27301\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p27302\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p27297\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p27298\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p27299\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p27314\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p27305\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p27306\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p27307\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.6306620620495541,0.3216019087221718,-0.6728433810812083,0.6089047154849726,0.6103577127066456,0.3683559778571246,-0.3463086888920904,-0.3841204455417373,-0.6616763835881114,0.5489780206588747,-0.5694598431754405,-0.3774003133432349,-0.6446989675428972,0.639783331950088,-0.3191981425255363,0.5418743979889208,0.35471597709605185,0.3185175124675965,-0.4411820973306278,-0.5929161799224901,-0.4232866380909065,0.40050866482767467,0.3688498768746344,-0.592875884160064,0.4424920684219327,0.6676543769707519,0.5542012107998123,-0.6377429598460024,-0.5220406414406641,-0.3817962495942807,0.6034980650104326,0.40431094079537266,-0.3283654372240953,0.7128332561290933,-0.6018358872561848,0.6892139554787605,0.375150752662636,-0.6228822666084857,-0.677170385809453,-0.40857482232735853,-0.37903395098953185,0.4229447813373009]],[\"ys\",[-0.5987951768268935,-0.6927971473738558,0.82980938036978,-0.8434195096736897,-0.5533222753984299,-0.6008209765047218,0.6056222621794927,0.558891888967796,0.5809177792994411,-0.9561711390884139,0.8301186371315071,0.7996118971765813,0.6292799294403466,-0.7775483819485565,0.8098123481559049,-0.6253718804043029,-0.8618476572277995,-0.6313371716931274,0.5699233137894523,0.5840738813532411,0.6209829078737439,-0.8265463356259657,-0.6791493045371944,0.6658017359600232,-0.8660093546809151,-0.8721877079796878,-0.5676655385384946,0.8765404554496133,0.9999999999999999,0.9104523262523556,-0.6467707549946478,-0.6446107657274063,0.8804758641027908,-0.7844979175978253,0.9108897777879084,-0.8259018530385307,-0.9165581783034574,0.8197253808816491,0.6816454232364977,0.8596586448609199,0.6580271040338048,-0.9109319111389345]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"friend_group\",[11,16,5,3,0,0,14,6,9,0,5,1,9,4,1,11,7,8,14,0,6,7,8,2,15,3,12,13,0,0,12,16,10,3,13,0,0,0,2,10,0,15]],[\"gender\",[\"m\",\"m\",\"m\",\"m\",\"w\",\"m\",\"m\",\"m\",\"w\",\"w\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\",\"w\",\"m\",\"w\",\"m\",\"w\",\"m\",\"m\",\"w\",\"m\",\"w\",\"w\",\"w\",\"w\",\"w\",\"m\",\"w\",\"m\",\"m\"]],[\"grade\",[2.0,4.0,3.0,2.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},3.0,3.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,1.0,1.0,2.0,1.0,2.0,4.0,4.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},3.0,4.0,4.0,1.0,4.0,2.0,2.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},2.0,4.0,1.0,2.0,3.0,{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},{\"type\":\"number\",\"value\":\"nan\"},1.0,1.0,{\"type\":\"number\",\"value\":\"nan\"},4.0]],[\"hours\",[4,6,5,4,9,9,5,5,4,4,5,4,4,4,4,4,6,6,5,11,5,6,6,4,6,4,4,5,6,6,4,6,4,4,5,5,6,9,4,4,10,6]],[\"status\",[\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"social_worker\",\"teacher\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"pupil\",\"teacher\",\"teacher\",\"teacher\",\"pupil\",\"pupil\",\"teacher\",\"pupil\"]],[\"_colormap\",[\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(95, 120, 144)\",\"rgb(95, 120, 144)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(135, 199, 63)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(95, 120, 144)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(135, 199, 63)\",\"rgb(95, 120, 144)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(95, 120, 144)\",\"rgb(95, 120, 144)\",\"rgb(95, 120, 144)\",\"rgb(1, 47, 185)\",\"rgb(1, 47, 185)\",\"rgb(95, 120, 144)\",\"rgb(1, 47, 185)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p27315\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p27316\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p27311\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p27312\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p27313\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p27256\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p27279\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p27280\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p27281\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p27282\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p27283\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p27303\",\"attributes\":{\"renderers\":[{\"id\":\"p27300\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p27317\",\"attributes\":{\"renderers\":[{\"id\":\"p27314\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"friend_group\",\"@friend_group\"],[\"gender\",\"@gender\"],[\"grade\",\"@grade\"],[\"hours\",\"@hours\"],[\"status\",\"@status\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"friend_group\",\"printf\"],[\"gender\",\"printf\"],[\"grade\",\"printf\"],[\"hours\",\"printf\"],[\"status\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p27272\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p27273\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p27274\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p27275\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p27265\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p27266\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p27267\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p27268\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p27271\",\"attributes\":{\"axis\":{\"id\":\"p27265\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p27278\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p27272\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"752aac90-8191-4b27-8050-ba3f2da3db86\",\"roots\":{\"p27248\":\"a19ceffc-37e6-4ea8-aa3e-4ced04f9f1e4\"},\"root_ids\":[\"p27248\"],\"notebook_comms_target\":\"p28212\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p27248"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "class TeachersInClassRoom(popy.MeltLocation):\n",
    "    def setup(self):\n",
    "        self.n_agents = 1\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"teacher\"\n",
    "\n",
    "\n",
    "class PupilsInClassRoom(popy.MeltLocation):\n",
    "    def setup(self):\n",
    "        self.n_agents = 4\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return agent.status == \"pupil\"\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.grade\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.friend_group\n",
    "\n",
    "\n",
    "class ClassRoom(popy.MagicLocation):\n",
    "    def melt(self):\n",
    "        return [TeachersInClassRoom, PupilsInClassRoom]\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return agent.hours * 10\n",
    "\n",
    "    def project_weights(self, agent1, agent2) -> float:\n",
    "        return min([self.get_weight(agent1), self.get_weight(agent2)])\n",
    "\n",
    "\n",
    "class School(popy.MagicLocation):\n",
    "    n_locations = 2\n",
    "\n",
    "    def stick_together(self, agent):\n",
    "        return agent.ClassRoom\n",
    "\n",
    "\n",
    "class SoccerTeam(popy.MagicLocation):\n",
    "    n_agents = 11\n",
    "\n",
    "    def nest(self):\n",
    "        return School\n",
    "\n",
    "\n",
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "creator.make(\n",
    "    df=df_school,\n",
    "    location_classes=[\n",
    "        ClassRoom,  # nested into School using `stick_together()`\n",
    "        School,\n",
    "        SoccerTeam,  # nested into School using `nest()`\n",
    "    ],\n",
    ")\n",
    "inspector.plot_agent_network(node_attrs=df_school.columns, node_color=\"status\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 101,
   "id": "6f03f69c",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"c5c2b08c-5c6f-424e-a811-42fc7ad52fe9\" data-root-id=\"p28308\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"64fc10dd-5d2c-4a2f-a2a8-6a059e945883\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p28308\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p28310\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p28309\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p28321\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p28323\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p28315\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p28360\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p28351\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p28352\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p28353\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.04254129806281012,0.14104604353953343],[0.04254129806281012,-0.09829931312951037],[0.04254129806281012,-0.1640671137465435],[-0.10770888296007783,-0.16367897222165056],[-0.10770888296007783,-0.09829931312951037],[-0.10770888296007783,-0.1640671137465435],[-0.21933643318432394,-0.2645289806171577],[-0.21933643318432394,0.10040683958404983],[-0.21933643318432394,0.09681529929534839],[-0.6230063560471836,-0.5570907672654332],[-0.6230063560471836,-0.09829931312951037],[-0.6230063560471836,-0.1640671137465435],[0.11027993729776549,0.14104604353953343],[0.11027993729776549,-0.09829931312951037],[0.11027993729776549,-0.1640671137465435],[-0.192012172921406,-0.16367897222165056],[-0.192012172921406,-0.09829931312951037],[-0.192012172921406,-0.1640671137465435],[0.13871104629878014,0.21728477263475973],[0.13871104629878014,0.10040683958404983],[0.13871104629878014,0.09681529929534839],[0.2883257600676743,0.21728477263475973],[0.2883257600676743,0.10040683958404983],[0.2883257600676743,0.09681529929534839],[-0.26287495384639353,-0.31445362269538346],[-0.26287495384639353,0.10040683958404983],[-0.26287495384639353,0.09681529929534839],[-0.27786666170107627,-0.09829931312951037],[-0.27786666170107627,-0.1640671137465435],[-0.3401380584868842,-0.2645289806171577],[-0.3401380584868842,0.10040683958404983],[-0.3401380584868842,0.09681529929534839],[0.6150933099656005,0.67271216782326],[0.6150933099656005,0.10040683958404983],[0.6150933099656005,0.09681529929534839],[-0.2147057543868436,-0.31445362269538346],[-0.2147057543868436,0.10040683958404983],[-0.2147057543868436,0.09681529929534839],[-0.5624204385022882,-0.5570907672654332],[-0.5624204385022882,-0.09829931312951037],[-0.5624204385022882,-0.1640671137465435],[0.6823293111526634,0.67271216782326],[0.6823293111526634,0.10040683958404983],[0.6823293111526634,0.09681529929534839],[0.0713475758196051,0.14104604353953343],[0.0713475758196051,-0.09829931312951037],[0.0713475758196051,-0.1640671137465435],[0.370303176359305,0.3282739109197687],[0.370303176359305,-0.09829931312951037],[0.370303176359305,-0.1640671137465435],[-0.2560989297111222,-0.16367897222165056],[-0.2560989297111222,-0.09829931312951037],[-0.2560989297111222,-0.1640671137465435],[0.21026191056237004,0.21728477263475973],[0.21026191056237004,0.10040683958404983],[0.21026191056237004,0.09681529929534839],[-0.3434295987990898,-0.31445362269538346],[-0.3434295987990898,0.10040683958404983],[-0.3434295987990898,0.09681529929534839],[0.28888009258044356,0.21728477263475973],[0.28888009258044356,0.10040683958404983],[0.28888009258044356,0.09681529929534839],[0.3067066903421757,0.3282739109197687],[0.3067066903421757,-0.09829931312951037],[0.3067066903421757,-0.1640671137465435],[-0.1308801333944942,-0.16367897222165056],[-0.1308801333944942,-0.09829931312951037],[-0.1308801333944942,-0.047623158994617304],[-0.3719192912464829,-0.31445362269538346],[-0.3719192912464829,0.10040683958404983],[-0.3719192912464829,0.12810293739216824],[0.26308395250498695,0.3282739109197687],[0.26308395250498695,-0.09829931312951037],[0.26308395250498695,-0.047623158994617304],[-0.5311642692015229,-0.5570907672654332],[-0.5311642692015229,-0.09829931312951037],[-0.5311642692015229,-0.047623158994617304],[0.1954478791664815,0.14104604353953343],[0.1954478791664815,-0.09829931312951037],[0.1954478791664815,-0.047623158994617304],[-0.18401463737988766,-0.2645289806171577],[-0.18401463737988766,0.10040683958404983],[-0.18401463737988766,0.12810293739216824],[-0.09446678326357015,0.10040683958404983],[-0.09446678326357015,0.12810293739216824],[0.6759600177025714,0.67271216782326],[0.6759600177025714,0.10040683958404983],[0.6759600177025714,0.12810293739216824],[0.2163863623538816,0.14104604353953343],[0.2163863623538816,-0.09829931312951037],[0.2163863623538816,-0.047623158994617304],[-0.08401461646002846,-0.16367897222165056],[-0.08401461646002846,-0.09829931312951037],[-0.08401461646002846,-0.047623158994617304],[0.5858633887008353,0.67271216782326],[0.5858633887008353,0.10040683958404983],[0.5858633887008353,0.12810293739216824],[-0.47639332467369716,-0.5570907672654332],[-0.47639332467369716,-0.09829931312951037],[-0.47639332467369716,-0.047623158994617304],[-0.278438297588563,-0.2645289806171577],[-0.278438297588563,0.10040683958404983],[-0.278438297588563,0.12810293739216824],[-0.47824441483067054,-0.5570907672654332],[-0.47824441483067054,-0.09829931312951037],[-0.47824441483067054,-0.047623158994617304],[0.26848811422224195,0.3282739109197687],[0.26848811422224195,-0.09829931312951037],[0.26848811422224195,-0.047623158994617304],[-0.2769168293659801,-0.2645289806171577],[-0.2769168293659801,0.10040683958404983],[-0.2769168293659801,0.12810293739216824],[-0.25814676580440843,-0.31445362269538346],[-0.25814676580440843,0.10040683958404983],[-0.25814676580440843,0.12810293739216824],[0.5992997174625129,0.67271216782326],[0.5992997174625129,0.10040683958404983],[0.5992997174625129,0.12810293739216824],[0.19027974521827032,0.21728477263475973],[0.19027974521827032,0.10040683958404983],[0.19027974521827032,0.12810293739216824],[0.3697082753964337,0.3282739109197687],[0.3697082753964337,-0.09829931312951037],[0.3697082753964337,-0.047623158994617304]]],[\"ys\",[[0.917778340147222,0.8998273236632796],[0.917778340147222,0.4799016065421194],[0.917778340147222,0.5045021447468202],[-0.15253409962313302,-0.12974101432097557],[-0.15253409962313302,0.4799016065421194],[-0.15253409962313302,0.5045021447468202],[-0.5812803764667822,-0.4911386332669531],[-0.5812803764667822,-0.5001047162075772],[-0.5812803764667822,-0.5784852673668955],[0.6682956413317112,0.7084765917963007],[0.6682956413317112,0.4799016065421194],[0.6682956413317112,0.5045021447468202],[0.9404202756652311,0.8998273236632796],[0.9404202756652311,0.4799016065421194],[0.9404202756652311,0.5045021447468202],[-0.0849656091787855,-0.12974101432097557],[-0.0849656091787855,0.4799016065421194],[-0.0849656091787855,0.5045021447468202],[-0.9600896706478225,-0.9290581222506057],[-0.9600896706478225,-0.5001047162075772],[-0.9600896706478225,-0.5784852673668955],[-0.8872476989298196,-0.9290581222506057],[-0.8872476989298196,-0.5001047162075772],[-0.8872476989298196,-0.5784852673668955],[-0.11606899350126368,-0.05378343642454822],[-0.11606899350126368,-0.5001047162075772],[-0.11606899350126368,-0.5784852673668955],[0.9793717647613684,0.4799016065421194],[0.9793717647613684,0.5045021447468202],[-0.5318617777323363,-0.4911386332669531],[-0.5318617777323363,-0.5001047162075772],[-0.5318617777323363,-0.5784852673668955],[-0.5037544846269103,-0.4111327534944948],[-0.5037544846269103,-0.5001047162075772],[-0.5037544846269103,-0.5784852673668955],[-0.04678502063346588,-0.05378343642454822],[-0.04678502063346588,-0.5001047162075772],[-0.04678502063346588,-0.5784852673668955],[0.7875487996558943,0.7084765917963007],[0.7875487996558943,0.4799016065421194],[0.7875487996558943,0.5045021447468202],[-0.5013807000505476,-0.4111327534944948],[-0.5013807000505476,-0.5001047162075772],[-0.5013807000505476,-0.5784852673668955],[0.8437196030393851,0.8998273236632796],[0.8437196030393851,0.4799016065421194],[0.8437196030393851,0.5045021447468202],[0.4815061625967398,0.422781582744611],[0.4815061625967398,0.4799016065421194],[0.4815061625967398,0.5045021447468202],[-0.13627060149130515,-0.12974101432097557],[-0.13627060149130515,0.4799016065421194],[-0.13627060149130515,0.5045021447468202],[-1.0,-0.9290581222506057],[-1.0,-0.5001047162075772],[-1.0,-0.5784852673668955],[-0.10988508876817596,-0.05378343642454822],[-0.10988508876817596,-0.5001047162075772],[-0.10988508876817596,-0.5784852673668955],[-0.9710222020304996,-0.9290581222506057],[-0.9710222020304996,-0.5001047162075772],[-0.9710222020304996,-0.5784852673668955],[0.5092415965110566,0.422781582744611],[0.5092415965110566,0.4799016065421194],[0.5092415965110566,0.5045021447468202],[-0.03634575674560489,-0.12974101432097557],[-0.03634575674560489,0.4799016065421194],[-0.03634575674560489,0.5302036928056805],[-0.15847671553301834,-0.05378343642454822],[-0.15847671553301834,-0.5001047162075772],[-0.15847671553301834,-0.43084819502120675],[0.46461083838936484,0.422781582744611],[0.46461083838936484,0.4799016065421194],[0.46461083838936484,0.5302036928056805],[0.6258615188737431,0.7084765917963007],[0.6258615188737431,0.4799016065421194],[0.6258615188737431,0.5302036928056805],[0.8370356819120579,0.8998273236632796],[0.8370356819120579,0.4799016065421194],[0.8370356819120579,0.5302036928056805],[-0.43617478120990416,-0.4911386332669531],[-0.43617478120990416,-0.5001047162075772],[-0.43617478120990416,-0.43084819502120675],[-0.941678710948191,-0.5001047162075772],[-0.941678710948191,-0.43084819502120675],[-0.3520343053137129,-0.4111327534944948],[-0.3520343053137129,-0.5001047162075772],[-0.3520343053137129,-0.43084819502120675],[0.9276588113793001,0.8998273236632796],[0.9276588113793001,0.4799016065421194],[0.9276588113793001,0.5302036928056805],[-0.05790240345857576,-0.12974101432097557],[-0.05790240345857576,0.4799016065421194],[-0.05790240345857576,0.5302036928056805],[-0.43421012411514215,-0.4111327534944948],[-0.43421012411514215,-0.5001047162075772],[-0.43421012411514215,-0.43084819502120675],[0.7620098820030095,0.7084765917963007],[0.7620098820030095,0.4799016065421194],[0.7620098820030095,0.5302036928056805],[-0.5588974862717693,-0.4911386332669531],[-0.5588974862717693,-0.5001047162075772],[-0.5588974862717693,-0.43084819502120675],[0.6816888700784749,0.7084765917963007],[0.6816888700784749,0.4799016065421194],[0.6816888700784749,0.5302036928056805],[0.3887377613638973,0.422781582744611],[0.3887377613638973,0.4799016065421194],[0.3887377613638973,0.5302036928056805],[-0.43232582293710126,-0.4911386332669531],[-0.43232582293710126,-0.5001047162075772],[-0.43232582293710126,-0.43084819502120675],[0.005414567006111245,-0.05378343642454822],[0.005414567006111245,-0.5001047162075772],[0.005414567006111245,-0.43084819502120675],[-0.35337212080868124,-0.4111327534944948],[-0.35337212080868124,-0.5001047162075772],[-0.35337212080868124,-0.43084819502120675],[-0.8669597452544748,-0.9290581222506057],[-0.8669597452544748,-0.5001047162075772],[-0.8669597452544748,-0.43084819502120675],[0.3692233776168956,0.422781582744611],[0.3692233776168956,0.4799016065421194],[0.3692233776168956,0.5302036928056805]]],[\"_u\",[1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7,8,8,8,9,9,9,10,10,11,11,11,12,12,12,13,13,13,14,14,14,15,15,15,16,16,16,17,17,17,18,18,18,19,19,19,20,20,20,21,21,21,22,22,22,23,23,23,24,24,24,25,25,25,26,26,26,27,27,27,28,28,28,29,29,30,30,30,31,31,31,32,32,32,33,33,33,34,34,34,35,35,35,36,36,36,37,37,37,38,38,38,39,39,39,40,40,40,41,41,41,42,42,42]],[\"_v\",[44,51,53,45,51,53,47,52,55,43,51,53,44,51,53,45,51,53,48,52,55,48,52,55,49,52,55,51,53,47,52,55,50,52,55,49,52,55,43,51,53,50,52,55,44,51,53,46,51,53,45,51,53,48,52,55,49,52,55,48,52,55,46,51,53,45,51,54,49,52,56,46,51,54,43,51,54,44,51,54,47,52,56,52,56,50,52,56,44,51,54,45,51,54,50,52,56,43,51,54,47,52,56,43,51,54,46,51,54,47,52,56,49,52,56,50,52,56,48,52,56,46,51,54]],[\"weight\",[40,1,1,60,1,1,50,1,1,40,1,1,90,1,1,90,1,1,50,1,1,50,1,1,40,1,1,1,1,50,1,1,40,1,1,40,1,1,40,1,1,40,1,1,40,1,1,60,1,1,60,1,1,50,1,1,110,1,1,50,1,1,60,1,1,60,1,1,40,1,1,60,1,1,40,1,1,40,1,1,50,1,1,1,1,60,1,1,40,1,1,60,1,1,40,1,1,40,1,1,50,1,1,50,1,1,60,1,1,90,1,1,40,1,1,40,1,1,100,1,1,60,1,1]],[\"_edge_alpha\",[0.2857142857142857,0.14285714285714285,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.7142857142857142,0.14285714285714285,0.14285714285714285,0.7142857142857142,0.14285714285714285,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.14285714285714285,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.14285714285714285,0.9999999999999998,0.14285714285714285,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.14285714285714285,0.14285714285714285,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.14285714285714285,0.42857142857142855,0.14285714285714285,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.14285714285714285,0.7142857142857142,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.857142857142857,0.14285714285714285,0.14285714285714285,0.5714285714285714,0.14285714285714285,0.14285714285714285]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p28361\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p28362\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p28357\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p28358\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p28359\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p28374\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p28365\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p28366\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p28367\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.04254129806281012,-0.10770888296007783,-0.21933643318432394,-0.6230063560471836,0.11027993729776549,-0.192012172921406,0.13871104629878014,0.2883257600676743,-0.26287495384639353,-0.27786666170107627,-0.3401380584868842,0.6150933099656005,-0.2147057543868436,-0.5624204385022882,0.6823293111526634,0.0713475758196051,0.370303176359305,-0.2560989297111222,0.21026191056237004,-0.3434295987990898,0.28888009258044356,0.3067066903421757,-0.1308801333944942,-0.3719192912464829,0.26308395250498695,-0.5311642692015229,0.1954478791664815,-0.18401463737988766,-0.09446678326357015,0.6759600177025714,0.2163863623538816,-0.08401461646002846,0.5858633887008353,-0.47639332467369716,-0.278438297588563,-0.47824441483067054,0.26848811422224195,-0.2769168293659801,-0.25814676580440843,0.5992997174625129,0.19027974521827032,0.3697082753964337]],[\"ys\",[0.917778340147222,-0.15253409962313302,-0.5812803764667822,0.6682956413317112,0.9404202756652311,-0.0849656091787855,-0.9600896706478225,-0.8872476989298196,-0.11606899350126368,0.9793717647613684,-0.5318617777323363,-0.5037544846269103,-0.04678502063346588,0.7875487996558943,-0.5013807000505476,0.8437196030393851,0.4815061625967398,-0.13627060149130515,-1.0,-0.10988508876817596,-0.9710222020304996,0.5092415965110566,-0.03634575674560489,-0.15847671553301834,0.46461083838936484,0.6258615188737431,0.8370356819120579,-0.43617478120990416,-0.941678710948191,-0.3520343053137129,0.9276588113793001,-0.05790240345857576,-0.43421012411514215,0.7620098820030095,-0.5588974862717693,0.6816888700784749,0.3887377613638973,-0.43232582293710126,0.005414567006111245,-0.35337212080868124,-0.8669597452544748,0.3692233776168956]],[\"_node\",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]],[\"bipartite\",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\",\"rgb(33, 55, 120)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p28375\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p28376\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p28371\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p28372\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p28373\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p28386\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p28377\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p28378\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p28379\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.5570907672654332,0.14104604353953343,-0.16367897222165056,0.3282739109197687,-0.2645289806171577,0.21728477263475973,-0.31445362269538346,0.67271216782326,-0.09829931312951037,0.10040683958404983,-0.1640671137465435,-0.047623158994617304,0.09681529929534839,0.12810293739216824]],[\"ys\",[0.7084765917963007,0.8998273236632796,-0.12974101432097557,0.422781582744611,-0.4911386332669531,-0.9290581222506057,-0.05378343642454822,-0.4111327534944948,0.4799016065421194,-0.5001047162075772,0.5045021447468202,0.5302036928056805,-0.5784852673668955,-0.43084819502120675]],[\"_node\",[43,44,45,46,47,48,49,50,51,52,53,54,55,56]],[\"bipartite\",[1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[\"type\",[\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"ClassRoom\",\"School\",\"School\",\"SoccerTeam\",\"SoccerTeam\",\"SoccerTeam\",\"SoccerTeam\"]],[\"_colormap\",[\"rgb(72, 145, 123)\",\"rgb(72, 145, 123)\",\"rgb(72, 145, 123)\",\"rgb(72, 145, 123)\",\"rgb(72, 145, 123)\",\"rgb(72, 145, 123)\",\"rgb(72, 145, 123)\",\"rgb(72, 145, 123)\",\"rgb(173, 48, 148)\",\"rgb(173, 48, 148)\",\"rgb(213, 213, 173)\",\"rgb(213, 213, 173)\",\"rgb(213, 213, 173)\",\"rgb(213, 213, 173)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p28387\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p28388\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p28383\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p28384\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p28385\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p28316\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p28339\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p28340\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p28341\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p28342\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p28343\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p28363\",\"attributes\":{\"renderers\":[{\"id\":\"p28360\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p28389\",\"attributes\":{\"renderers\":[{\"id\":\"p28374\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p28391\",\"attributes\":{\"renderers\":[{\"id\":\"p28386\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p28332\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p28333\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p28334\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p28335\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p28325\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p28326\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p28327\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p28328\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p28331\",\"attributes\":{\"axis\":{\"id\":\"p28325\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p28338\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p28332\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"64fc10dd-5d2c-4a2f-a2a8-6a059e945883\",\"roots\":{\"p28308\":\"c5c2b08c-5c6f-424e-a811-42fc7ad52fe9\"},\"root_ids\":[\"p28308\"],\"notebook_comms_target\":\"p29310\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p28308"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "0ed00aed",
   "metadata": {
    "slideshow": {
     "slide_type": ""
    },
    "tags": []
   },
   "source": [
    "This way we can nest multiple locations into one level-2 location and at the same time ensure that the composition of agents defined in `ClassRoom` is met in each school.\n",
    "The order of the locations plays a crucial role:\n",
    "1. The classrooms with the desired compositions are created\n",
    "2. The schools are created keeping together whole classrooms\n",
    "3. Soccer teams are created within the schools"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "94e5a09c",
   "metadata": {},
   "source": [
    "### Inspecting the network\n",
    "\n",
    "When building network models, it is important to evaluate the created networks to ensure they are a valid representation of the target network.\n",
    "For this purpose, Popy provides a couple of tools."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "bd1adf54",
   "metadata": {},
   "source": [
    "#### Network measures\n",
    "\n",
    "For a quick quanitative inspection of the network(s) produced, one can use `utils.network_measures()`:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 102,
   "id": "3d0c4332",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[{'diameter': 3,\n",
       "  'density': 1.0,\n",
       "  'transitivity': 1.0,\n",
       "  'avg_clustering': 0.07275933825277255,\n",
       "  'avg_path_length': 1.7047619047619047},\n",
       " {'diameter': 3,\n",
       "  'density': 1.0,\n",
       "  'transitivity': 1.0,\n",
       "  'avg_clustering': 0.08229811172257519,\n",
       "  'avg_path_length': 1.6857142857142857}]"
      ]
     },
     "execution_count": 102,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "inspector.network_measures()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "bf54eaf4",
   "metadata": {},
   "source": [
    "If the network is divided into independent clusters, this function returns the measures for each cluster."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "5b01b4a9",
   "metadata": {},
   "source": [
    "#### Affiliation statistics\n",
    "\n",
    "To get a quick overview of the number of affiliations per agents or location, use `inspector.eval_affiliations()`.\n",
    "The first table shows how many agents are assigned to an instance of a location.\n",
    "The second table shows the number of locations an agent is assigned to."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 103,
   "id": "734f93a2",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "\n",
      "______________________________________\n",
      "Number of agents per location\n",
      "______________________________________\n",
      "\n",
      "                mean      std   min   25%   50%   75%   max\n",
      "location_class                                             \n",
      "ClassRoom        5.0  0.00000   5.0   5.0   5.0   5.0   5.0\n",
      "School          21.0  0.00000  21.0  21.0  21.0  21.0  21.0\n",
      "SoccerTeam      10.5  0.57735  10.0  10.0  10.5  11.0  11.0\n",
      "\n",
      "\n",
      "______________________________________\n",
      "Number of affiliated locations per agent\n",
      "______________________________________\n",
      "\n",
      "mean    2.952381\n",
      "std     0.215540\n",
      "min     2.000000\n",
      "25%     3.000000\n",
      "50%     3.000000\n",
      "75%     3.000000\n",
      "max     3.000000\n",
      "Name: n_affiliated_locations, dtype: float64\n"
     ]
    }
   ],
   "source": [
    "inspector.eval_affiliations()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "c81b98e4",
   "metadata": {},
   "source": [
    "#### Contact matrix\n",
    "\n",
    "`utils.create_contact_matrix()` shows the contact intensity between agents using a contact matrix.\n",
    "With no further input than the list of agents, the matrix shows the contact intensities for each pair of agents."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 104,
   "id": "1289e120",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAhoAAAG2CAYAAAA5jy8uAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjcuNSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/xnp5ZAAAACXBIWXMAAA9hAAAPYQGoP6dpAABQJ0lEQVR4nO3de1yUZf4//tcAMiAyoyAHERFLA1HBExpaHopA9ENatrmdxEN5WPDErqu4edrWxsrMDqblltoWq2mLuWqSq4K5kgpKqx3wWLQqoGsMJxmUuX5/9HO+TQwyA/fMfQ/zeva4H4+45r7f93vuwfHtdV33dauEEAJEREREduAmdwJERETUerHQICIiIrthoUFERER2w0KDiIiI7IaFBhEREdkNCw0iIiKyGxYaREREZDcsNIiIiMhuWGgQERGR3bDQICIiIrthoUFEROQCDh06hOTkZISEhEClUmHHjh1NHpOTk4P+/ftDrVaje/fu2LRpk83nZaFBRETkAqqrqxETE4O1a9datf/FixcxZswYjBw5EoWFhZg7dy6effZZZGdn23ReFR+qRkRE5FpUKhWysrIwbty4RvdZsGABdu/ejdOnT5vafvvb36K8vBx79+61+lyK6dFYuXIlVCoV5s6dCwC4fv06Zs2ahYiICHh7eyMsLAyzZ8+GXq+XN1EiIiKFMBgMqKioMNsMBoMksfPy8hAfH2/WlpiYiLy8PJvieEiSTQsdP34c77zzDqKjo01tly9fxuXLl7Fq1SpERUXhhx9+wIwZM3D58mVs377dpvgenp2lTpkc7MblL6zazzvkfjtn4hysuV68Vq0DP2vp3aq7ZPdz3Lx2QZI4urc+wPLly83ali5dimXLlrU4dklJCYKCgszagoKCUFFRgRs3bsDb29uqOLIXGlVVVXjqqaewYcMG/OUvfzG19+7dG5988onp57vvvhsrVqzA008/jVu3bsHDQ/bUiYiIZJWRkYH09HSzNrVaLVM2lsk+dJKamooxY8Y06J6xRK/XQ6PRsMggIiLnZqyXZFOr1dBoNGabVIVGcHAwSktLzdpKS0uh0Wis7s0AZO7R2LJlC06cOIHjx483ue+1a9fwwgsvYNq0aQ7IjIiIyI6EUe4MmhQXF4c9e/aYte3btw9xcXE2xZGt0Pjxxx8xZ84c7Nu3D15eXnfct6KiAmPGjEFUVFST404Gg6HBRBghBFQqVUtTJiIikobR8YVGVVUVzp07Z/r54sWLKCwshJ+fH8LCwpCRkYFLly7hgw8+AADMmDEDb731Fv74xz9iypQpOHDgAD7++GPs3r3bpvPKNnRSUFCAsrIy9O/fHx4eHvDw8EBubi7eeOMNeHh4oL6+HgBQWVmJUaNGwdfXF1lZWWjTps0d4+p0Omi1WrNNGCsd8ZaIiIgUKz8/H/369UO/fv0AAOnp6ejXrx+WLFkCALhy5QqKi4tN+3fr1g27d+/Gvn37EBMTg1dffRV//etfkZiYaNN5ZVtHo7KyEj/88INZ2+TJkxEZGYkFCxagd+/eqKioQGJiItRqNfbs2YO2bds2GddSj0YH/0j2aDg53nViG96J4Dr4WUvPEXed1F3+WpI4niG9JIljT7INnfj6+qJ3795mbT4+PvD39zcVGQkJCaipqcGHH35ouj8YAAICAuDu7m4xrlqtbjARhkUGEREpigxDJ3JR7O0bJ06cwNGjRwEA3bt3N3vt4sWLCA8PlyErIiIisoVLLEHOBbtsw67Yn/E6OD8OuVFzOGTo5MevJInj2SVGkjj2pNgeDSIiolbLWC93Bg4j+4JdRERE1HqxR4OIiMjRnGDBLqmw0CAiInI0F7rrhEMnREREZDfs0SAiInIwwaETIiIishsOnTjeypUroVKpMHfuXFNbbW0tUlNT4e/vj3bt2mH8+PENHllLRETkdIRRms0JKKJH4/jx43jnnXcQHR1t1j5v3jzs3r0b27Ztg1arRVpaGh599FH8+9//lilT18DFi37G6+D8+BkSyU/2Ho2qqio89dRT2LBhAzp06GBq1+v1eO+997B69Wo88MADGDBgADZu3IgjR47gyy+/lDFjIiKiFjLWS7M5AdkLjdTUVIwZMwbx8fFm7QUFBbh586ZZe2RkJMLCwpCXl+foNImIiKTDoRPH2LJlC06cOIHjx483eK2kpASenp5o3769WXtQUBBKSkoajWnpMfFCCD7BlYiISAay9Wj8+OOPmDNnDj766CN4eXlJFlen00Gr1ZptwlgpWXwiIqIWMxql2ZyAbIVGQUEBysrK0L9/f3h4eMDDwwO5ubl444034OHhgaCgINTV1aG8vNzsuNLSUgQHBzcaNyMjA3q93mxTufna+d0QERHZgEMn9vfggw/i1KlTZm2TJ09GZGQkFixYgC5duqBNmzbYv38/xo8fDwAoKipCcXEx4uLiGo2rVquhVqvN2jhsQkREJA/ZCg1fX1/07t3brM3Hxwf+/v6m9qlTpyI9PR1+fn7QaDSYNWsW4uLicO+998qRMhERkTScZNhDCopYR6Mxr732Gtzc3DB+/HgYDAYkJibi7bffljstIiKiFhHCOW5NlYJKCCHkTsLePDw7y52Cy7px+Ysm9+GiSj+z5loBrf968TqQ3G7VXbL7OWq/2iNJHK+Y0ZLEsSdF92gQERG1Sk4ykVMKLDSIiIgcjXM0iIiIyG5cqEdD9iXIiYiIqPVijwYREZGjOckD0aTAQoOIiMjROHTiGOvWrUN0dDQ0Gg00Gg3i4uLw2WefmV4vKSnBM888g+DgYPj4+KB///745JNPZMyYiIiIbCFrj0ZoaChWrlyJHj16QAiBzZs3Y+zYsTh58iR69eqFiRMnory8HDt37kTHjh2RmZmJxx9/HPn5+ejXr5+cqZOVuNbBz5S4noi161VYQ8rc+TtDLsGF7jqRtUcjOTkZo0ePRo8ePXDPPfdgxYoVaNeuHb788ksAwJEjRzBr1iwMGjQId911F55//nm0b98eBQUFcqZNRETUMi70UDXF3HVSX1+PLVu2oLq62vTQtCFDhmDr1q24fv06jEYjtmzZgtraWowYMULeZImIiMgqsk8GPXXqFOLi4lBbW4t27dohKysLUVFRAICPP/4YEyZMgL+/Pzw8PNC2bVtkZWWhe/fuMmdNRETUAi40dCJ7oREREYHCwkLo9Xps374dKSkpyM3NRVRUFBYvXozy8nL861//QseOHbFjxw48/vjj+OKLL9CnTx+L8QwGAwwGg1mbEIKPiiciIuVwoUJDcQ9Vi4+Px913340//vGP6N69O06fPo1evXqZvd69e3esX7/e4vHLli3D8uXLzdpUbu3g5q6xa95Ed8LJoETOwyEPVfvib5LE8br/GUni2JNi5mjcZjQaYTAYUFNTAwBwczNP0d3dHcY7VIIZGRnQ6/Vmm8rN1645ExER2UKIekk2ZyDr0ElGRgaSkpIQFhaGyspKZGZmIicnB9nZ2YiMjET37t0xffp0rFq1Cv7+/tixYwf27duHXbt2NRpTrVZDrVabtXHYhIiIFMWFhk5kLTTKysowceJEXLlyBVqtFtHR0cjOzsZDDz0EANizZw8WLlyI5ORkVFVVoXv37ti8eTNGjx4tZ9pEREQt4yS3pkpBcXM07MHDs7PcKRARkZNwxByNGwf/Kkkc75HPShLHnmS/64SIiMjlcOiEiIiI7MaFhk4Ud9cJERERtR7s0SAiInI0Dp0QERGR3XDohIiIiKjl2KNBRETkaC40dCJrj8a6desQHR0NjUYDjUaDuLg4fPbZZ2b75OXl4YEHHoCPjw80Gg2GDRuGGzduyJQxERGRBIxGaTYnIGuhERoaipUrV6KgoAD5+fl44IEHMHbsWHz99dcAfi4yRo0ahYSEBBw7dgzHjx9HWlpag+efEBERkTIpbmVQPz8/vPLKK5g6dSruvfdePPTQQ3jhhRdaFJMrgxIRkbUcsjLortWSxPH+v3RJ4tiTYroG6uvrsWXLFlRXVyMuLg5lZWU4evQoAgMDMWTIEAQFBWH48OE4fPiw3KkSERG1jAsNncg+GfTUqVOIi4tDbW0t2rVrh6ysLERFReHLL78EACxbtgyrVq1C37598cEHH+DBBx/E6dOn0aNHD4vxDAYDDAaDWZsQgk9wJSIi5eDtrY4TERGBwsJCHD16FDNnzkRKSgq++eYbGP//Sm369OmYPHky+vXrh9deew0RERF4//33G42n0+mg1WrNNmGsdNTbISIiol+QvdDw9PRE9+7dMWDAAOh0OsTExOD1119Hp06dAABRUVFm+/fs2RPFxcWNxsvIyIBerzfbVG6+dn0PRERENuHQiXyMRiMMBgPCw8MREhKCoqIis9fPnDmDpKSkRo9Xq9VQq9VmbRw2ISIiRXGhoRNZC42MjAwkJSUhLCwMlZWVyMzMRE5ODrKzs6FSqTB//nwsXboUMTEx6Nu3LzZv3ozvvvsO27dvlzNtIiIispKshUZZWRkmTpyIK1euQKvVIjo6GtnZ2XjooYcAAHPnzkVtbS3mzZuH69evIyYmBvv27cPdd98tZ9pEREQt4yTDHlJQ3Doa9uDodTRuXP7Cqv28Q+53aCwiuVnz+8zfZZKbQ9bR+PjPksTxfnyJJHHsSfbJoERERNR6KW4yKBERUavX+gcTTFhoEBEROZoLzdHg0AkRERHZDXs0iIiIHM2FejRYaBARETmaCy3YJevQybp16xAdHQ2NRgONRoO4uDh89tlnDfYTQiApKQkqlQo7duxwfKJERERScqElyGUtNEJDQ7Fy5UoUFBQgPz8fDzzwAMaOHYuvv/7abL81a9ZwGXEiIiIJrF27FuHh4fDy8sLgwYNx7NixO+6/Zs0aREREwNvbG126dMG8efNQW1tr9flkHTpJTk42+3nFihVYt24dvvzyS/Tq1QsAUFhYiFdffRX5+fmmB60pnZQLDnHxop9x4TLbKHVhLH4+JCdrv0ccQqbbW7du3Yr09HSsX78egwcPxpo1a5CYmIiioiIEBgY22D8zMxMLFy7E+++/jyFDhuDMmTOYNGkSVCoVVq9ebdU5FXPXSX19PbZs2YLq6mrExcUBAGpqavDkk09i7dq1CA4OljlDIiIiicg0dLJ69Wo899xzmDx5MqKiorB+/Xq0bdsW77//vsX9jxw5gqFDh+LJJ59EeHg4EhIS8MQTTzTZC/JLshcap06dQrt27aBWqzFjxgxkZWWZHg0/b948DBkyBGPHjpU5SyIiIuUxGAyoqKgw2wwGg8V96+rqUFBQgPj4eFObm5sb4uPjkZeXZ/GYIUOGoKCgwFRYXLhwAXv27MHo0aOtzlH2u04iIiJQWFgIvV6P7du3IyUlBbm5uTh37hwOHDiAkydP2hTPYDA0uMhCCM7xICIi5ZBoIqdOp8Py5cvN2pYuXYply5Y12PfatWuor69HUFCQWXtQUBC+++47i/GffPJJXLt2Dffddx+EELh16xZmzJiBRYsWWZ2j7IWGp6cnunfvDgAYMGAAjh8/jtdffx3e3t44f/482rdvb7b/+PHjcf/99yMnJ8diPEsXXeXWDip3jT3SJyIisp1Et7dmZGQgPT3drE2tVksSGwBycnLw4osv4u2338bgwYNx7tw5zJkzBy+88AIWL15sVQzZC41fMxqNMBgMWL58OZ599lmz1/r06YPXXnutwSTSX7J00Tv4R9olVyIiIjmp1WqrC4uOHTvC3d0dpaWlZu2lpaWNzoNcvHgxnnnmGdPfx3369EF1dTWmTZuGP/3pT3Bza3oGhqyFRkZGBpKSkhAWFobKykpkZmYiJycH2dnZCA4OtvjGw8LC0K1bt0ZjWrroHDYhIiIlEUbH33Xi6emJAQMGYP/+/Rg3bhyAn/9xv3//fqSlpVk8pqampkEx4e7uDuDnaQnWkLXQKCsrw8SJE3HlyhVotVpER0cjOzsbDz30kJxpERER2ZdMi22lp6cjJSUFAwcOxKBBg7BmzRpUV1dj8uTJAICJEyeic+fO0Ol0AH5ehmL16tXo16+faehk8eLFSE5ONhUcTZG10Hjvvfds2t/a6olaH2vXX1Dq+hGO5grvUYmfNdd7UTZrr/utukt2zkQ+EyZMwNWrV7FkyRKUlJSgb9++2Lt3r2mCaHFxsVkPxvPPPw+VSoXnn38ely5dQkBAAJKTk7FixQqrz6kSLvC3t4dnZ7lTIAdR4l8+ZB9K/KxZaLQOjig0atbNkiRO25lvShLHnhQ3GZSIiKjVk2GOhlxYaBARETmakzwQTQqyrwxKRERErRd7NIiIiBzNhXo0WGgQERE5Wuu/D8OEQydERERkN7IWGuvWrUN0dDQ0Gg00Gg3i4uLw2WefAQCuX7+OWbNmISIiAt7e3ggLC8Ps2bOh1+vlTJmIiKjlZHpMvBxkHToJDQ3FypUr0aNHDwghsHnzZowdOxYnT56EEAKXL1/GqlWrEBUVhR9++AEzZszA5cuXsX37djnTJgXj+gSuQ4mftRJzIoVyodtbFbdgl5+fH1555RVMnTq1wWvbtm3D008/jerqanh4WF8jccEuIiKylkMW7Fr1bNM7WaHtH/4qSRx7Usxk0Pr6emzbtg3V1dWIi4uzuI9er4dGo7GpyCAiIlIciR4T7wxk/xv71KlTiIuLQ21tLdq1a4esrCxERUU12O/atWt44YUXMG3aNBmyJCIikpALDZ3IXmhERESgsLAQer0e27dvR0pKCnJzc82KjYqKCowZMwZRUVFYtmzZHeMZDAYYDAazNiEEHxVPREQkA9lvb/X09ET37t0xYMAA6HQ6xMTE4PXXXze9XllZiVGjRsHX1xdZWVlo06bNHePpdDpotVqzTRgr7f02iIiIrCaMRkk2ZyB7ofFrRqPR1CNRUVGBhIQEeHp6YufOnfDy8mry+IyMDOj1erNN5eZr77SJiIisZxTSbE5A1qGTjIwMJCUlISwsDJWVlcjMzEROTg6ys7NNRUZNTQ0+/PBDVFRUoKKiAgAQEBAAd3d3izHVajXUarVZG4dNiIhIUTgZ1DHKysowceJEXLlyBVqtFtHR0cjOzsZDDz2EnJwcHD16FADQvXt3s+MuXryI8PBwGTImIiIiW8haaLz33nuNvjZixAgobIkPcgI3Ln/R5D5cVKl1aO2ftTXvD3Du9+jSnGTYQwqy33VCRETkcpxkIqcUFDcZlIiIiFoP9mgQERE5GodOiIiIyG5c6K4TDp0QERGR3bBHg4iIyNE4dEJERET24izLh0tB1qGTdevWITo6GhqNBhqNBnFxcfjss89Mr9fW1iI1NRX+/v5o164dxo8fj9LSUhkzJiIiIluohIyrYv3zn/+Eu7s7evToASEENm/ejFdeeQUnT55Er169MHPmTOzevRubNm2CVqtFWloa3Nzc8O9//9um83h4drbTOyAiotbmVt0lu5+jasGjksRp99I/JIljT7IWGpb4+fnhlVdewWOPPYaAgABkZmbiscceAwB899136NmzJ/Ly8nDvvfdaHZOFBhERWcshhcb8RySJ0+6VLEni2JNi7jqpr6/Hli1bUF1djbi4OBQUFODmzZuIj4837RMZGYmwsDDk5eXJmCkREVELCaM0mxOQfTLoqVOnEBcXh9raWrRr1w5ZWVmIiopCYWEhPD090b59e7P9g4KCUFJS0mg8g8Fgesz8bUIIPsGViIhIBrL3aERERKCwsBBHjx7FzJkzkZKSgm+++abZ8XQ6HbRardkmjJUSZkxERNRCRiHN5gRkLzQ8PT3RvXt3DBgwADqdDjExMXj99dcRHByMuro6lJeXm+1fWlqK4ODgRuNlZGRAr9ebbSo3Xzu/CyIiIusJo5BkcwayFxq/ZjQaYTAYMGDAALRp0wb79+83vVZUVITi4mLExcU1erxarTbdLnt747AJERGRPGSdo5GRkYGkpCSEhYWhsrISmZmZyMnJQXZ2NrRaLaZOnYr09HT4+flBo9Fg1qxZiIuLs+mOEyIiIsVxkt4IKchaaJSVlWHixIm4cuUKtFotoqOjkZ2djYceeggA8Nprr8HNzQ3jx4+HwWBAYmIi3n77bTlTJiIiajkXWhlUceto2APX0SAiIms5Yh2NyrTRksTxfWuPJHHsSfbbW4mIiFwOh06IiIjIblyo0FDcXSdERETUerBHg4iIyMFcYHqkCQsNIiIiR3OhoRMWGkRERI7mQoWGrHM0dDodYmNj4evri8DAQIwbNw5FRUVm+5SUlOCZZ55BcHAwfHx80L9/f3zyyScyZUxERES2kLVHIzc3F6mpqYiNjcWtW7ewaNEiJCQk4JtvvoGPjw8AYOLEiSgvL8fOnTvRsWNHZGZm4vHHH0d+fj769esnZ/qt1o3LXzS5j3fI/Q7IRF68DkTOw9n+vDrLc0qkIGuhsXfvXrOfN23ahMDAQBQUFGDYsGEAgCNHjmDdunUYNGgQAOD555/Ha6+9hoKCAhYaRETknFyo0FDU7a16vR4A4OfnZ2obMmQItm7diuvXr8NoNGLLli2ora3FiBEjZMqSiIiIrKWYyaBGoxFz587F0KFD0bt3b1P7xx9/jAkTJsDf3x8eHh5o27YtsrKy0L17dxmzJSIiagHXedSJcgqN1NRUnD59GocPHzZrX7x4McrLy/Gvf/0LHTt2xI4dO/D444/jiy++QJ8+fRrEMRgMMBgMZm1CCD4qnoiIFINzNBwsLS0Nu3btwqFDhxAaGmpqP3/+PN566y2cPn0avXr1AgDExMTgiy++wNq1a7F+/foGsXQ6HZYvX27WpnJrB5W7xr5vgoiIiBqQdY6GEAJpaWnIysrCgQMH0K1bN7PXa2pqAABubuZpuru7w9jII3YzMjKg1+vNNpWbr33eABERUXMYhTSbE5C1RyM1NRWZmZn49NNP4evri5KSEgCAVquFt7c3IiMj0b17d0yfPh2rVq2Cv78/duzYgX379mHXrl0WY6rVaqjVarM2DpsQEZGiuNAcDVl7NNatWwe9Xo8RI0agU6dOpm3r1q0AgDZt2mDPnj0ICAhAcnIyoqOj8cEHH2Dz5s0YPXq0nKkTERGRFVTCBZ7s4uHZWe4UyEGcbdEeal2s+f0DrPsdlDIW2eZW3SW7n+On34yQJE6HbTmSxLEnRUwGJSIicikuNHTCQoOIiMjBXOn2VkWtDEpEREStC3s0iIiIHI1DJ0RERGQvwoUKDQ6dEBERkd2wR4OIiMjR2KPhGDqdDrGxsfD19UVgYCDGjRuHoqKiBvvl5eXhgQcegI+PDzQaDYYNG4YbN27IkDEREVHLCaM0mzOQtUcjNzcXqampiI2Nxa1bt7Bo0SIkJCTgm2++gY+PD4Cfi4xRo0YhIyMDb775Jjw8PPDVV181eP4JKZOjF9By5sWLuECT8+Pvsm24wJ5rkLXQ2Lt3r9nPmzZtQmBgIAoKCjBs2DAAwLx58zB79mwsXLjQtF9ERIRD8yQiIpKUk/RGSEFR3QJ6vR4A4OfnBwAoKyvD0aNHERgYiCFDhiAoKAjDhw/H4cOH5UyTiIioRVxp6EQxhYbRaMTcuXMxdOhQ9O7dGwBw4cIFAMCyZcvw3HPPYe/evejfvz8efPBBnD171mIcg8GAiooKs80FHudCRERORM5CY+3atQgPD4eXlxcGDx6MY8eO3XH/8vJypKamolOnTlCr1bjnnnuwZ88eq8+nmEIjNTUVp0+fxpYtW0xtRuPPV3H69OmYPHky+vXrh9deew0RERF4//33LcbR6XTQarVmmzBWOuQ9EBERKdnWrVuRnp6OpUuX4sSJE4iJiUFiYiLKysos7l9XV4eHHnoI33//PbZv346ioiJs2LABnTtb/7BSRRQaaWlp2LVrFw4ePIjQ0FBTe6dOnQAAUVFRZvv37NkTxcXFFmNlZGRAr9ebbSo3X/slT0REZCO5ejRWr16N5557DpMnT0ZUVBTWr1+Ptm3bNvqP9/fffx/Xr1/Hjh07MHToUISHh2P48OGIiYmx+pyyFhpCCKSlpSErKwsHDhxAt27dzF4PDw9HSEhIg1tez5w5g65du1qMqVarodFozDaVSmW390BERGQzoZJkszRdwGAwWDxlXV0dCgoKEB8fb2pzc3NDfHw88vLyLB6zc+dOxMXFITU1FUFBQejduzdefPFF1NfXW/1WZS00UlNT8eGHHyIzMxO+vr4oKSlBSUmJaY0MlUqF+fPn44033sD27dtx7tw5LF68GN999x2mTp0qZ+pERESyszRdQKfTWdz32rVrqK+vR1BQkFl7UFAQSkpKLB5z4cIFbN++HfX19dizZw8WL16MV199FX/5y1+szlHW21vXrVsHABgxYoRZ+8aNGzFp0iQAwNy5c1FbW4t58+bh+vXriImJwb59+3D33Xc7OFsiIiJpSHXHSEZGBtLT083a1Gq1NMHx81zJwMBAvPvuu3B3d8eAAQNw6dIlvPLKK1i6dKlVMWQtNKy9G2ThwoVm62gonZQLLzn7Ik5KzUuJeK3IXpT6PeLKv/PCKM2Qvlqttrqw6NixI9zd3VFaWmrWXlpaiuDgYIvHdOrUCW3atIG7u7uprWfPnigpKUFdXR08PT2bPK8iJoMSERGRfXl6emLAgAHYv3+/qc1oNGL//v2Ii4uzeMzQoUNx7tw5012gwM/zJDt16mRVkQGw0CAiInI4ue46SU9Px4YNG7B582Z8++23mDlzJqqrqzF58mQAwMSJE5GRkWHaf+bMmbh+/TrmzJmDM2fOYPfu3XjxxReRmppq9Tn59FYiIiIHE0KeuyEnTJiAq1evYsmSJSgpKUHfvn2xd+9e0wTR4uJis2eJdenSBdnZ2Zg3bx6io6PRuXNnzJkzBwsWLLD6nCrhAstmenhav7CIFDhHg4iUhN8jtrlVd8nu57gU94AkcTrnHZAkjj2xR4OIiMjBnOU5JVJgoUFERORgUt114gxknQyq0+kQGxsLX19fBAYGYty4cQ1WAb1NCIGkpCSoVCrs2LHDsYkSERFJSAhpNmcga6GRm5uL1NRUfPnll9i3bx9u3ryJhIQEVFdXN9h3zZo1XEqciIjIycg6dLJ3716znzdt2oTAwEAUFBRg2LBhpvbCwkK8+uqryM/PNz1oTcmknFBlbSxrJntJmRcnl8nH0Z81OT/+PiiPKw2dKGqOhl6vBwD4+fmZ2mpqavDkk09i7dq1ja5cRkRE5ExcqdBQzIJdRqMRc+fOxdChQ9G7d29T+7x58zBkyBCMHTtWxuyIiIioORTTo5GamorTp0/j8OHDpradO3fiwIEDOHnypNVxDAZDg0fkCiE4v4OIiBTDWSZySkERPRppaWnYtWsXDh48iNDQUFP7gQMHcP78ebRv3x4eHh7w8Pi5Lho/fnyDJ77eZumRucJY6Yi3QUREZBVhVEmyOQNZVwYVQmDWrFnIyspCTk4OevToYfZ6SUkJrl27ZtbWp08fvP7660hOTka3bt0axLTUo9HBP7LV92hwMqjr4GRQIvtyxMqgF/okSBLnrlOfSxLHnmQdOklNTUVmZiY+/fRT+Pr6oqSkBACg1Wrh7e2N4OBgixNAw8LCLBYZgOVH5rb2IoOIiJyLXM86kYOshca6desAoMEwyMaNGzFp0iTHJ0REROQAXILcQZozauMCz4BrFkd3lbNr3jZSDndIde05/EX2xCE+uk0xd50QERG5CiOHToiIiMheOEeDiIiI7MZZbk2VgiLW0SAiIqLWiT0aREREDuZK9zWw0CAiInIwDp0QERERSUDWQkOn0yE2Nha+vr4IDAzEuHHjUFRUZHr9+vXrmDVrFiIiIuDt7Y2wsDDMnj3b9Dh5IiIiZ2QUKkk2ZyDr0Elubi5SU1MRGxuLW7duYdGiRUhISMA333wDHx8fXL58GZcvX8aqVasQFRWFH374ATNmzMDly5exfft2OVMncnrWLpbEhZeIpOdKt7fK+lC1X7t69SoCAwORm5uLYcOGWdxn27ZtePrpp1FdXW16mmtTPDw7S5kmkc2c+S9rZ86d5OPMvzeOeKjaqW7JksTpc/GfksSxJ0VNBr09JOLn53fHfTQajdVFBhERkdIo55/49qeYv62NRiPmzp2LoUOHonfv3hb3uXbtGl544QVMmzbNwdkRERFJx1nmV0hBMYVGamoqTp8+jcOHD1t8vaKiAmPGjEFUVBSWLVvWaByDwQCDwWDWJoTgo+KJiIhkoIjbW9PS0rBr1y4cPHgQoaGhDV6vrKzEqFGj4Ovri6ysLLRp06bRWDqdDlqt1mwTxkp7pk9ERGQTIVSSbM5A1kJDCIG0tDRkZWXhwIED6NatW4N9KioqkJCQAE9PT+zcuRNeXl53jJmRkQG9Xm+2qdx87fUWiIiIbCaENJszsHro5I033rA66OzZs63aLzU1FZmZmfj000/h6+uLkpISAIBWq4W3t7epyKipqcGHH36IiooKVFRUAAACAgLg7u7eIKZarYZarTZr47AJEREpiSvN0bD69tZf9zZcvXoVNTU1aN++PQCgvLwcbdu2RWBgIC5cuGDdyRspADZu3IhJkyYhJycHI0eOtLjPxYsXER4ebtV5eHsryc2Zb/Vz5txJPs78e+OI21vzQ8dJEmfgf3dIEseerO7RuHjxoun/MzMz8fbbb+O9995DREQEAKCoqAjPPfccpk+fbvXJm6pxRowY0eQ+5Bqs+dIClPvFpdS8rOHMubsCpf6FrsTfG2u/RxzBWeZXSKFZczQWL16MN99801RkAEBERARee+01PP/885IlR0RE1Bq50hLkzSo0rly5glu3bjVor6+vR2lpaYuTIiIiotahWYXGgw8+iOnTp+PEiROmtoKCAsycORPx8fGSJUdERNQaCYk2Z9CsQuP9999HcHAwBg4caLrLIzY2FkFBQdiwYYPUORIREbUqrjR00qyVQQMCArBnzx6cPXsW3377LQAgMjIS99xzj6TJERERkXOzutBIT0/HCy+8AB8fH6Snpzd4PScnx/T/q1evliQ5IiKi1siV7jqxutA4efIkbt68afr/xtiyOJZOp8M//vEPfPfdd/D29saQIUPw0ksvmd3NUltbi9///vfYsmULDAYDEhMT8fbbbyMoKMjq8xARESmJUe4EHMjqQuPgwYMW/78lcnNzkZqaitjYWNy6dQuLFi1CQkICvvnmG/j4+AAA5s2bh927d2Pbtm3QarVIS0vDo48+in//+9+S5EBERET2Y/XKoI5w9epVBAYGIjc3F8OGDYNer0dAQAAyMzPx2GOPAQC+++479OzZE3l5ebj33nutiusKK4M6etEeZ19Ai6TF3wdqTRyxMuih4N9IEmdYyTZJ4tiTIp7eepterwcA+Pn5Afj5ltmbN2+a3TIbGRmJsLAw5OXlyZIjERFRSxmFNJszaNZdJ/ZgNBoxd+5cDB06FL179wYAlJSUwNPT0/Q8lduCgoJMD2AjIiJyNkZwMqjDpaam4vTp0zh8+HCL4hgMBhgMBrM2IQSf4EpERCQDRQydpKWlYdeuXTh48CBCQ0NN7cHBwairq0N5ebnZ/qWlpQgODrYYS6fTQavVmm3CWGnP9ImIiGwioJJkcwayFhpCCKSlpSErKwsHDhxo8Cj6AQMGoE2bNti/f7+praioCMXFxYiLi7MYMyMjA3q93mxTufna9X0QERHZwijR5gxkHTpJTU1FZmYmPv30U/j6+prmXWi1Wnh7e0Or1WLq1KlIT0+Hn58fNBoNZs2ahbi4uEbvOLm9JPovcdiEiIhIHrIWGuvWrQMAjBgxwqx948aNmDRpEgDgtddeg5ubG8aPH2+2YBcREZGzcpZhDynIWmhYs4SHl5cX1q5di7Vr1zogIyIiIvtzlmEPKSjmrhNqGUcvhGTt+Ry9kBjJg4vBUXPw+8E1sNAgIiJyMPZoEBERkd240hwNRayjQURERK0TezSIiIgczOg6HRosNIiIiByNzzohIiIiu3GSB69KQtY5GocOHUJycjJCQkKgUqmwY8cOs9erqqqQlpaG0NBQeHt7IyoqCuvXr5cnWSIiIrKZrD0a1dXViImJwZQpU/Doo482eD09PR0HDhzAhx9+iPDwcHz++ef43e9+h5CQEDz88MMyZEy24j3wymXtehXWkPJz5u9M68A1Mu6Mt7c6SFJSEpKSkhp9/ciRI0hJSTEtUT5t2jS88847OHbsGAsNIiJyWkYXegaXom9vHTJkCHbu3IlLly5BCIGDBw/izJkzSEhIkDs1IiIisoKiJ4O++eabmDZtGkJDQ+Hh4QE3Nzds2LABw4YNkzs1IiKiZnOlyaCKLzS+/PJL7Ny5E127dsWhQ4eQmpqKkJAQxMfHWzzGYDDAYDCYtQkh+Kh4IiJSDM7RUIAbN25g0aJFyMrKwpgxYwAA0dHRKCwsxKpVqxotNHQ6HZYvX27WpnJrB5W7xu45ExERkTnFztG4efMmbt68CTc38xTd3d1hNDZeC2ZkZECv15ttKjdfe6dLRERkNaNKms0ZyFpoVFVVobCwEIWFhQCAixcvorCwEMXFxdBoNBg+fDjmz5+PnJwcXLx4EZs2bcIHH3yARx55pNGYarUaGo3GbOOwCRERKYkRKkm25li7di3Cw8Ph5eWFwYMH49ixY1Ydt2XLFqhUKowbN86m88laaOTn56Nfv37o168fgJ/XzejXrx+WLFkC4Oc3FRsbi6eeegpRUVFYuXIlVqxYgRkzZsiZNhERkVPaunUr0tPTsXTpUpw4cQIxMTFITExEWVnZHY/7/vvv8Yc//AH332/72icqIUSrn/zq4dlZ7hSIiMhJ3Kq7ZPdzfBjytCRxnr78oU37Dx48GLGxsXjrrbcAAEajEV26dMGsWbOwcOFCi8fU19dj2LBhmDJlCr744guUl5c3WMn7ThQ7R4OIiKi1kmqOhsFgQEVFhdn26zsvb6urq0NBQYHZzRRubm6Ij49HXl5eo7n++c9/RmBgIKZOndqs98pCg4iIyMGMEm06nQ5ardZs0+l0Fs957do11NfXIygoyKw9KCgIJSUlFo85fPgw3nvvPWzYsKHZ71Wxt7cSERHRnWVkZCA9Pd2sTa1WSxK7srISzzzzDDZs2ICOHTs2Ow4LDSIiIgeTanKkWq22urDo2LEj3N3dUVpaatZeWlqK4ODgBvufP38e33//PZKTk01tt5eX8PDwQFFREe6+++4mz8uhEyIiIgeTYx0NT09PDBgwAPv37/9/eRiN2L9/P+Li4hrsHxkZiVOnTpmWoSgsLMTDDz+MkSNHorCwEF26dLHqvOzRICIichHp6elISUnBwIEDMWjQIKxZswbV1dWYPHkyAGDixIno3LkzdDodvLy80Lt3b7Pj27dvDwAN2u+EhQYREZGDyfWskwkTJuDq1atYsmQJSkpK0LdvX+zdu9c0QbS4uLjBitwtJes6GocOHcIrr7yCgoICXLlyBVlZWQ1WHPv222+xYMEC5Obm4tatW4iKisInn3yCsLAwq8/DdTSIiMhajlhH451QadbRmP5f29bRkIOsPRrV1dWIiYnBlClT8OijjzZ4/fz587jvvvswdepULF++HBqNBl9//TW8vLxkyNZ13Lj8RZP7eIfYvjockaNZ87sM8Pe5NeD3lnLJWmgkJSUhKSmp0df/9Kc/YfTo0Xj55ZdNbdbMcCUiIlIy4UKP4FLsXSdGoxG7d+/GPffcg8TERAQGBmLw4ME2LXtKRESkRFIt2OUMFFtolJWVoaqqCitXrsSoUaPw+eef45FHHsGjjz6K3NzcRo+ztByrCzzOhYiISJEUe9fJ7UVBxo4di3nz5gEA+vbtiyNHjmD9+vUYPny4xeN0Oh2WL19u1qZyaweVu8a+CRMREVnJWXojpKDYHo2OHTvCw8MDUVFRZu09e/ZEcXFxo8dlZGRAr9ebbSo3X3unS0REZDUh0eYMFNuj4enpidjYWBQVFZm1nzlzBl27dm30OEvLsapULjTrhoiIFM/WVT2dmayFRlVVFc6dO2f6+eLFiygsLISfnx/CwsIwf/58TJgwAcOGDcPIkSOxd+9e/POf/0ROTo58SRMREZHVZC008vPzMXLkSNPPt59Al5KSgk2bNuGRRx7B+vXrodPpMHv2bEREROCTTz7BfffdJ1fKRERELeZKczRkXRnUUW5eu9DkPtYu5MJFYaTHa0pESuKIlUFfDZNmZdDfFyt/ZVDFTgYlIiIi56fYyaBEREStVasfSvgFFhpEREQO5kp3nXDohIiIiOyGPRpEREQO5kp3nbDQICIicjBXmqMh69DJoUOHkJycjJCQEKhUqjs+mXXGjBlQqVRYs2aNw/IjIiKilpG10KiurkZMTAzWrl17x/2ysrLw5ZdfIiQkxEGZERER2Y8RQpLNGcg6dJKUlISkpKQ77nPp0iXMmjUL2dnZGDNmTLPOI+ViT1w4Snq8ptQcSlzozZqcAOvykjIWKQ/naCiE0WjEM888g/nz56NXr15yp0NERCQJ5+iLkIaib2996aWX4OHhgdmzZ8udChERETWDYns0CgoK8Prrr+PEiRM2PebdYDDAYDCYtQkh+Kh4IiJSDFcaOlFsj8YXX3yBsrIyhIWFwcPDAx4eHvjhhx/w+9//HuHh4Y0ep9PpoNVqzTZhrHRc4kRERE0wqqTZnIFiezSeeeYZxMfHm7UlJibimWeeweTJkxs9LiMjw/S4+ds6+EfaJUciIiK6M1kLjaqqKpw7d87088WLF1FYWAg/Pz+EhYXB39/fbP82bdogODgYERERjcZUq9VQq9VmbRw2ISIiJXGWW1OlIGuhkZ+fj5EjR5p+vt0TkZKSgk2bNsmUFRERkX25Tpkhc6ExYsQICGH95f7+++/tlwxRK6LENSakpsT85VizxxU+a6lYuzYJSUuxczSIiIhaK1e664SFBhERkYO50hwNxd7eSkRERM6PPRpEREQO5jr9GSw0iIiIHI5zNIiIiMhuOEeDiIiISAKyFhqHDh1CcnIyQkJCoFKpsGPHDtNrN2/exIIFC9CnTx/4+PggJCQEEydOxOXLl+VLmIiISAJCos0ZyDp0Ul1djZiYGEyZMgWPPvqo2Ws1NTU4ceIEFi9ejJiYGPz000+YM2cOHn74YeTn59t0HikXtOHiOM7P2kV7nPlzdObcyTb8rK1n7bW6VXfJzplwjobDJCUlISkpyeJrWq0W+/btM2t76623MGjQIBQXFyMsLMwRKRIREVELONVkUL1eD5VKhfbt28udChERUbMJpxn4aDmnKTRqa2uxYMECPPHEE9BoNHKnQ0RE1GwcOlGYmzdv4vHHH4cQAuvWrbvjvgaDAQaDwazNzWBo8Oh4IiIisj/F3956u8j44YcfsG/fviZ7M3Q6HbRardn20uvrHZQtERFR04wQkmzOQNE9GreLjLNnz+LgwYPw9/dv8piMjAykp6ebtblV2n8GMRERkbWco0SQhqyFRlVVFc6dO2f6+eLFiygsLISfnx86deqExx57DCdOnMCuXbtQX1+PkpISAICfnx88PT0txlSr1Q2GSW7WXbPfmyAiIqJGyVpo5OfnY+TIkaafb/dEpKSkYNmyZdi5cycAoG/fvmbHHTx4ECNGjHBUmkRERJJylmEPKchaaIwYMQJCNH6x7/SaLaRc0IaL4zg/pX6GrrCQmDV4HVyHKy+AyLtOiIiIyG5caR0Nxd91QkRERM6LPRpEREQOxqETIiIishsOnRARERFJgD0aREREDuZKQyey9mgcOnQIycnJCAkJgUqlwo4dO8xeF0JgyZIl6NSpE7y9vREfH4+zZ8/KkywREZFEjEJIsjkDWQuN6upqxMTEYO3atRZff/nll/HGG29g/fr1OHr0KHx8fJCYmIja2loHZ0pERETNoRJSrYrVQiqVCllZWRg3bhyAn3szQkJC8Pvf/x5/+MMfAAB6vR5BQUHYtGkTfvvb31od28Ozsz1SVhRXXvjG1Sjxs+YiW9Sa3Kqz//Oxnu76qCRxPvzhH5LEsSfFTga9ePEiSkpKEB8fb2rTarUYPHgw8vLyZMyMiIioZVzp6a2KLTRuP0AtKCjIrD0oKMj0GhERESlbq7vrxGAwwGAwmLUJIaBSqWTKiIiIyBzX0VCA4OBgAEBpaalZe2lpqek1S3Q6HbRardkmjJV2zZWIiMgWRok2Z6DYQqNbt24IDg7G/v37TW0VFRU4evQo4uLiGj0uIyMDer3ebFO5+ToiZSIiIqu40hwNWYdOqqqqcO7cOdPPFy9eRGFhIfz8/BAWFoa5c+fiL3/5C3r06IFu3bph8eLFCAkJMd2ZYolarYZarTZr47AJERGRPGQtNPLz8zFy5EjTz+np6QCAlJQUbNq0CX/84x9RXV2NadOmoby8HPfddx/27t0LLy8vuVImIiJqMVeaoyFroTFixAjcaRkPlUqFP//5z/jzn//swKyIiIjsy1nmV0ih1d114qq4EJL0lLgwllznbIoScwK4kJgrUeqfV1LwZFAiIqLWSgghydYca9euRXh4OLy8vDB48GAcO3as0X03bNiA+++/Hx06dECHDh0QHx9/x/0tYaFBRETkYHLddbJ161akp6dj6dKlOHHiBGJiYpCYmIiysjKL++fk5OCJJ57AwYMHkZeXhy5duiAhIQGXLlm/TDsLDSIiIhexevVqPPfcc5g8eTKioqKwfv16tG3bFu+//77F/T/66CP87ne/Q9++fREZGYm//vWvMBqNZktPNIVzNIiIiBxMqsmgllbDtrTMAwDU1dWhoKAAGRkZpjY3NzfEx8db/Qyxmpoa3Lx5E35+flbnyB4NIiIiBxMS/WdpNWydTmfxnNeuXUN9fX2LniG2YMEChISEmD3wtCns0SAiInJSGRkZpjWobrPUmyGFlStXYsuWLcjJybFpPStF92jU19dj8eLF6NatG7y9vXH33XfjhRdeaPZMWyIiIiWQajKoWq2GRqMx2xorNDp27Ah3d3ebnyEGAKtWrcLKlSvx+eefIzo62qb3qugejZdeegnr1q3D5s2b0atXL+Tn52Py5MnQarWYPXu23OlRK8d77p0fP0PX4WyftRz/YPb09MSAAQOwf/9+06M8bk/sTEtLa/S4l19+GStWrEB2djYGDhxo83kVXWgcOXIEY8eOxZgxYwAA4eHh+Pvf/27zPbxERERKItfKoOnp6UhJScHAgQMxaNAgrFmzBtXV1Zg8eTIAYOLEiejcubNpnsdLL72EJUuWIDMzE+Hh4aa5HO3atUO7du2sOqeih06GDBmC/fv348yZMwCAr776CocPH0ZSUpLMmRERETmfCRMmYNWqVViyZAn69u2LwsJC7N271zRBtLi4GFeuXDHtv27dOtTV1eGxxx5Dp06dTNuqVausPqdKKHjCg9FoxKJFi/Dyyy/D3d0d9fX1WLFihdmtOdbw8OxspwyJiKi1uVVn/WJUzZXQZZQkcT7/ca8kcexJ0UMnH3/8MT766CNkZmaiV69eKCwsxNy5cxESEoKUlBSLx1i6p1gIwUfFExGRYjRnVU9npehCY/78+Vi4cCF++9vfAgD69OmDH374ATqdrtFCQ6fTYfny5WZtKrd2ULlr7J4vERERmVP0HI2amhq4uZmn6O7uDqOx8Wk0GRkZ0Ov1ZpvKzdfeqRIREVlNzoeqOZqiezSSk5OxYsUKhIWFoVevXjh58iRWr16NKVOmNHqMpaVXOWxCRERKwqEThXjzzTexePFi/O53v0NZWRlCQkIwffp0LFmyRO7UiIiIyAqKvutEKrzrRHo3Ln9h1X7OtoiOM7Dm2jv6uvP3gVoTR9x1MiLU+meF3EnOf/8lSRx7UnSPBhERUWtkbP3/xjdR9GRQIiIicm7s0SAiInIw1+nPYKFBRETkcLzrhIiIiOzGlQoNztEgIiIiu2GPBhERkYO5wMoSJorv0bh06RKefvpp+Pv7w9vbG3369EF+fr7caRERETWbEUKSzRkoukfjp59+wtChQzFy5Eh89tlnCAgIwNmzZ9GhQwe5U7sjV1i8yJlzd3ZKvPbW5qTExcZcgSt8J5FyKbrQeOmll9ClSxds3LjR1NatWzcZMyIiImo54SS9EVJQ9NDJzp07MXDgQPzmN79BYGAg+vXrhw0bNsidFhERUYu40tNbFV1oXLhwAevWrUOPHj2QnZ2NmTNnYvbs2di8eXOjxxgMBlRUVJhtzvJhEBERtTaKHjoxGo0YOHAgXnzxRQBAv379cPr0aaxfvx4pKSkWj9HpdFi+fLlZm8qtHVTuGrvnS0REZA1nmcgpBUX3aHTq1AlRUVFmbT179kRxcXGjx2RkZECv15ttKjdfe6dKRERkNVcaOlF0j8bQoUNRVFRk1nbmzBl07dq10WPUajXUarVZm0qlskt+REREdGeKLjTmzZuHIUOG4MUXX8Tjjz+OY8eO4d1338W7774rd2pERETNxqEThYiNjUVWVhb+/ve/o3fv3njhhRewZs0aPPXUU3KnRkRE1GxCov+cgUo4yyBPC3h4dpY7BSIichK36i7Z/Ry9g+6VJM7p0i8liWNPiu7RICIiIuem6DkaRERErZGzDHtIgYUGERGRgxlb/6wFEw6dEBERkd2wR4OIiMjBOHRCREREdsOhE4VauXIlVCoV5s6dK3cqREREZAWn6dE4fvw43nnnHURHR8udChERUYtw6ERhqqqq8NRTT2HDhg34y1/+Inc6DnXj8hdW7ecdcr+dMyFqOWt+n/m7LD1+jygPh04UJjU1FWPGjEF8fLzcqRAREZENFN+jsWXLFpw4cQLHjx+XOxUiIiJJcOhEIX788UfMmTMH+/btg5eXl1XHGAwGGAwGszYhBB8VT0REiiGEUe4UHEbRQycFBQUoKytD//794eHhAQ8PD+Tm5uKNN96Ah4cH6uvrGxyj0+mg1WrNNmGslCF7IiIiy4wQkmzOQNE9Gg8++CBOnTpl1jZ58mRERkZiwYIFcHd3b3BMRkYG0tPTzdo6+EfaNU8iIiKyTNGFhq+vL3r37m3W5uPjA39//wbtt6nVaqjVarM2DpsQEZGSCBe660TRhQYREVFr5CzDHlJQCRcoq25eu9DkPrx/XD6OXluBawoQ0Z3cqrtk93OE+lnulbfVf6+fliSOPbFHg4iIyMFc4N/4Jiw0iIiIHIwrgxIRERFJgD0aREREDsaVQYmIiMhuXGmOBodOiIiIyG7Yo0FERORgrrSOhuJ7NHQ6HWJjY+Hr64vAwECMGzcORUVFcqdFRETUbEIISTZnoPgFu0aNGoXf/va3iI2Nxa1bt7Bo0SKcPn0a33zzDXx8fKyK4eHZ2c5ZEhFRa+GIBbv8fHtIEud65VlJ4tiT4guNX7t69SoCAwORm5uLYcOGWXUMCw0iIrIWCw1pOd0cDb1eDwDw8/OTORMiIqLmcbJ/47eIUxUaRqMRc+fOxdChQxt9eisREZHSudJkUKcqNFJTU3H69GkcPny40X0MBgMMBoNZmxCCj4onIiKSgeLvOrktLS0Nu3btwsGDBxEaGtrofjqdDlqt1mwTxkoHZkpERHRnvOtEQYQQmDVrFrKyspCTk4MePe48gcZSj0YH/0j2aBARkVUcMRm0XdtuksSpqrkoSRx7UvzQSWpqKjIzM/Hpp5/C19cXJSUlAACtVgtvb+8G+6vVaqjVarM2FhlERETyUHyPRmNFwsaNGzFp0iSrYvD2ViIispYjejR82oZLEqe65ntJ4tiT4ns0lFYH3bj8RZP7eIfc74BMWg9HX1Nrzif1OYmIfsmosL/b7MlpJoMSERGR81F8jwYREVFro7TeentioUFERORgggt2ERERkb24Uo8G52gQERG5kLVr1yI8PBxeXl4YPHgwjh07dsf9t23bhsjISHh5eaFPnz7Ys2ePTedjoUFERORgcq0MunXrVqSnp2Pp0qU4ceIEYmJikJiYiLKyMov7HzlyBE888QSmTp2KkydPYty4cRg3bhxOnz5t9TkVv46GFKRcR4O3t0qPt7cSkZI4Yh0Nqf5esjXXwYMHIzY2Fm+99RaAnx9W2qVLF8yaNQsLFy5ssP+ECRNQXV2NXbt2mdruvfde9O3bF+vXr7fqnOzRICIiclIGgwEVFRVm268fw3FbXV0dCgoKEB8fb2pzc3NDfHw88vLyLB6Tl5dntj8AJCYmNrq/RcIF1dbWiqVLl4ra2tpWGUuJOTEWYzlDTozFWM5m6dKlAoDZtnTpUov7Xrp0SQAQR44cMWufP3++GDRokMVj2rRpIzIzM83a1q5dKwIDA63O0SULDb1eLwAIvV7fKmMpMSfGYixnyImxGMvZ1NbWCr1eb7Y1VlzJVWjw9lYiIiInZelBoo3p2LEj3N3dUVpaatZeWlqK4OBgi8cEBwfbtL8lnKNBRETkAjw9PTFgwADs37/f1GY0GrF//37ExcVZPCYuLs5sfwDYt29fo/tbwh4NIiIiF5Geno6UlBQMHDgQgwYNwpo1a1BdXY3JkycDACZOnIjOnTtDp9MBAObMmYPhw4fj1VdfxZgxY7Blyxbk5+fj3XfftfqcLlloqNVqLF261OruJmeLpcScGIuxnCEnxmKs1m7ChAm4evUqlixZgpKSEvTt2xd79+5FUFAQAKC4uBhubv9vsGPIkCHIzMzE888/j0WLFqFHjx7YsWMHevfubfU5XWIdDSIiIpIH52gQERGR3bDQICIiIrthoUFERER2w0KDiIiI7MalCo1Dhw4hOTkZISEhUKlU2LFjR7PirFu3DtHR0dBoNNBoNIiLi8Nnn33WrFjLli2DSqUy2yIjI5sVKzw8vEEslUqF1NTUZsWrrKzE3Llz0bVrV3h7e2PIkCE4fvx4k8c1dZ3/8Y9/ICEhAf7+/lCpVCgsLGx2rGXLliEyMhI+Pj7o0KED4uPjcfTo0WbFmjRpUoNrN2rUqGbFsvQ5qFQqvPLKKzbFKS0txaRJkxASEoK2bdti1KhROHv2rMWcdDodYmNj4evri8DAQIwbNw5FRUVm+7z77rsYMWIENBoNVCoVysvLmx1r+vTpuPvuu+Ht7Y2AgACMHTsW3333XbNijRgxosG1mjFjhs2xvv/++0av/bZt22zK6fz583jkkUcQEBAAjUaDxx9/vMHCRUDT3wfWXnNrYll7za2JZe01byqWtdfc2rysve6WrFy5EiqVCnPnzjW12XL9yT5cqtCorq5GTEwM1q5d26I4oaGhWLlyJQoKCpCfn48HHngAY8eOxddff92seL169cKVK1dM2+HDh5sV5/jx42Zx9u3bBwD4zW9+06x4zz77LPbt24e//e1vOHXqFBISEhAfH49Ll+78tMCmrnN1dTXuu+8+vPTSS03m0FSse+65B2+99RZOnTqFw4cPIzw8HAkJCbh69arNsQBg1KhRZtfw73//e7Py+mWMK1eu4P3334dKpcL48eOtjiOEwLhx43DhwgV8+umnOHnyJLp27Yr4+HhUV1c32D83Nxepqan48ssvsW/fPty8eRMJCQlm+9bU1GDUqFFYtGhRo9fA2lgDBgzAxo0b8e233yI7OxtCCCQkJKC+vt7mWADw3HPPmV2zl19+2ea8unTp0uDaL1++HO3atUNSUpLVcaqrq5GQkACVSoUDBw7g3//+N+rq6pCcnAyj0WiWU1PfB9Zec2tiWXvNrYll7TVvKpa119yaWLZc9187fvw43nnnHURHR5u123L9yU6sXqy8lQEgsrKyJIvXoUMH8de//tXm45YuXSpiYmIky+OX5syZI+6++25hNBptPrampka4u7uLXbt2mbX3799f/OlPf7I6zp2u88WLFwUAcfLkyRbHuu328w3+9a9/2RwrJSVFjB071qpcbM1r7Nix4oEHHrApTlFRkQAgTp8+bWqrr68XAQEBYsOGDU3mVVZWJgCI3NzcBq8dPHhQABA//fRTk3GainXbV199JQCIc+fO2Rxr+PDhYs6cOVblYmteffv2FVOmTLEpTnZ2tnBzczN7TkZ5eblQqVRi3759TeZl6fvA1mt+p1i3WXvNLcVq7jW3Ji9rrrmlWM297pWVlaJHjx5i3759jb6v5l5/ajmX6tGwh/r6emzZsgXV1dU2Lcn6S2fPnkVISAjuuusuPPXUUyguLm5xXnV1dfjwww8xZcoUqFQqm4+/desW6uvr4eXlZdbu7e3d7B4Xe6urq8O7774LrVaLmJiYZsXIyclBYGAgIiIiMHPmTPzvf/9rcV6lpaXYvXs3pk6datNxtx/1/MvPwM3NDWq12qrPQK/XAwD8/PxsOm9zYlVXV2Pjxo3o1q0bunTp0qxYH330ETp27IjevXsjIyMDNTU1Lc6roKAAhYWFTV77X8cxGAxQqVRmiz15eXnBzc3tjtdeiu8Da2PZcs0bi9Wca95UXtZec0uxmnvdU1NTMWbMmAaPMyeFkLvSkQta2KPxn//8R/j4+Ah3d3eh1WrF7t27mxVnz5494uOPPxZfffWV2Lt3r4iLixNhYWGioqKi2bkJIcTWrVuFu7u7uHTpUrNjxMXFieHDh4tLly6JW7duib/97W/Czc1N3HPPPVbHuNN1lqpH45///Kfw8fERKpVKhISEiGPHjjUr1t///nfx6aefiv/85z8iKytL9OzZU8TGxopbt241K6/bXnrpJdGhQwdx48YNm+LU1dWJsLAw8Zvf/EZcv35dGAwGsXLlSgFAJCQk3DFWfX29GDNmjBg6dKjF1235192dYq1du1b4+PgIACIiIqLJf1k3Fuudd94Re/fuFf/5z3/Ehx9+KDp37iweeeSRZud128yZM0XPnj1tjlNWViY0Go2YM2eOqK6uFlVVVSItLU0AENOmTWsQw5rvA2uveVOxbLnmd4pl6zW39jvPmmveWCxbr7sQP/+57d27t+nPF3s0lIeFRjMZDAZx9uxZkZ+fLxYuXCg6duwovv766xbn9dNPPwmNRtOsYZhfSkhIEP/3f//Xohjnzp0Tw4YNEwCEu7u7iI2NFU899ZSIjIy0OoYjCo2qqipx9uxZkZeXJ6ZMmSLCw8NFaWlps/O67fz5880ehvmliIgIkZaWdscYjcXJz88XMTExps8gMTFRJCUliVGjRt0x1owZM0TXrl3Fjz/+aPF1W7507xSrvLxcnDlzRuTm5ork5GTRv3//OxZUTeV12/79+5scEmgqVk1NjdBqtWLVqlV3PFdjcbKzs8Vdd90lVCqVcHd3F08//bTo37+/mDFjRoMY1nwfWHvNm4plyzW35XuqqWtuTSxrr/mdYtly3YuLi0VgYKD46quvTG0sNJSHhYZEHnzwwUYrblsNHDhQLFy4sNnHf//998LNzU3s2LFDknyqqqrE5cuXhRBCPP7442L06NFWH+uIQuPXunfvLl588UVJYnXs2FGsX7++2bEOHTokAIjCwsImz3WnOOXl5aKsrEwIIcSgQYPE7373u0bjpKamitDQUHHhwoVG97H2S9eaWLcZDAbRtm1bkZmZ2eJYVVVVAoDYu3dvs2N98MEHok2bNqbr1tw4V69eNV2noKAg8fLLLzeZv6Xvg+b+RXen75amrrktsZq65tbEsuaaWxvLmuuelZVlKsJvbwBMRcoveyNZaMiHczQkYjQaTWPqLVFVVYXz58+jU6dOzY6xceNGBAYGYsyYMS3OBwB8fHzQqVMn/PTTT8jOzsbYsWMliWsvUn0W//3vf/G///2vRZ/Fe++9hwEDBjR7zshtWq0WAQEBOHv2LPLz8y1+BkIIpKWlISsrCwcOHEC3bt2afb7mxBI//8OlwbVvTqzbtzz/+trbEuu9997Dww8/jICAgBa9v44dO6J9+/Y4cOAAysrK8PDDDzeZv1S/g03FauyaNydWY9fcllh3uua2xrLmuj/44IM4deoUCgsLTdvAgQPx1FNPobCwEO7u7jblQfbhUk9vraqqwrlz50w/X7x4EYWFhfDz80NYWJjVcTIyMpCUlISwsDBUVlYiMzMTOTk5yM7OtjmnP/zhD0hOTkbXrl1x+fJlLF26FO7u7njiiSdsjgX8/Ad248aNSElJgYdHyz7e27fPRURE4Ny5c5g/fz4iIyNNjxNuTFPX+fr16yguLsbly5cBwLR+QXBwMIKDg62O5e/vjxUrVuDhhx9Gp06dcO3aNaxduxaXLl2yeEvvnWL5+flh+fLlGD9+PIKDg3H+/Hn88Y9/RPfu3ZGYmGjzewSAiooKbNu2Da+++mqzr9W2bdsQEBCAsLAwnDp1CnPmzMG4ceOQkJDQIFZqaioyMzPx6aefwtfXFyUlJQB+LlK8vb0BACUlJSgpKTGd89SpU/D19UVYWJjZhMqmYl24cAFbt25FQkICAgIC8N///hcrV66Et7c3Ro8ebVNe58+fR2ZmJkaPHg1/f3/85z//wbx58zBs2LAGtypa8x4B4Ny5czh06BD27Nlj8bpbE2fjxo3o2bMnAgICkJeXhzlz5mDevHmIiIgwi9XU94G117ypWLZc86Zi2XLNrXmP1lxza2NZe90BwNfXt8FTRH18fODv729qt+X6k53I1ZUih9tdZ7/eUlJSbIozZcoU0bVrV+Hp6SkCAgLEgw8+KD7//PNm5TRhwgTRqVMn4enpKTp37iwmTJhg9a1qlmRnZwsAoqioqNkxbtu6dau46667hKenpwgODhapqamivLy8yeOaus4bN260+PrSpUttinXjxg3xyCOPiJCQEOHp6Sk6deokHn744UYng94pVk1NjUhISBABAQGiTZs2omvXruK5554TJSUlzXqPQvw82c7b2/uO16ypOK+//roIDQ0Vbdq0EWFhYeL5558XBoPBYixLcQCIjRs3mvZZunRpk/tYE+vSpUsiKSlJBAYGijZt2ojQ0FDx5JNPiu+++87mvIqLi8WwYcOEn5+fUKvVonv37mL+/Plmtzja8h6FECIjI0N06dJF1NfXN/taLViwQAQFBYk2bdqIHj16iFdffdXireJNfR9Ye82bimXLNW8qli3X3Jr3aM01tzaWtde9Mb+eo2HL9Sf74GPiiYiIyG44R4OIiIjshoUGERER2Q0LDSIiIrIbFhpERERkNyw0iIiIyG5YaBAREZHdsNAgIiIiu2GhQeQCRowYgblz5zb6enh4ONasWeOwfIjIdbjUEuREruof//gH2rRpI3caROSCWGgQuQA+04GI5MKhEyIX8Muhk7KyMiQnJ8Pb2xvdunXDRx99JG9yRNSqsUeDyMVMmjQJly9fxsGDB9GmTRvMnj0bZWVlcqdFRK0UCw0iF3LmzBl89tlnOHbsGGJjYwEA7733Hnr27ClzZkTUWnHohMiFfPvtt/Dw8MCAAQNMbZGRkWjfvr18SRFRq8ZCg4iIiOyGhQaRC4mMjMStW7dQUFBgaisqKkJ5ebl8SRFRq8ZCg8iFREREYNSoUZg+fTqOHj2KgoICPPvss/D29pY7NSJqpVhoELmYjRs3IiQkBMOHD8ejjz6KadOmITAwUO60iKiVUgkhhNxJEBERUevEHg0iIiKyGxYaREREZDcsNIiIiMhuWGgQERGR3bDQICIiIrthoUFERER2w0KDiIiI7IaFBhEREdkNCw0iIiKyGxYaREREZDcsNIiIiMhuWGgQERGR3fx/CYFCQJmzWj0AAAAASUVORK5CYII=",
      "text/plain": [
       "<Figure size 640x480 with 2 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "import popy.utils as utils\n",
    "\n",
    "utils.create_contact_matrix(agents=agents)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "76baf626",
   "metadata": {},
   "source": [
    "To aggregate the results, simply insert the name of an agent attribute for `attr`.\n",
    "For instance, the following matrix shows the number of contacts between the different gender groups."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 105,
   "id": "b92ef100",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAhIAAAGwCAYAAAD8AYzHAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjcuNSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/xnp5ZAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAlyUlEQVR4nO3de3BU9f3/8dcSkuUSsjEJJOHWgtxESaCgGJUkVuRSrSBogYIEpTq1EYUYKam2aMuva6lc7BShowOISnW0BisdoUjZhSighovolLt+EUiCYJNAGBbYPb8/HLeuSSU5nMNujs+H85lJzu6ez3sZGd7zfn8+n+MyDMMQAACACS2iHQAAAGi+SCQAAIBpJBIAAMA0EgkAAGAaiQQAADCNRAIAAJhGIgEAAEwjkQAAAKa1jHYAdjh3/GC0QwBi0s7+RdEOAYg5gw6vsn0Oq/5dik/rbsl9rERFAgAAmObIigQAADElFIx2BLYhkQAAwG5GKNoR2IZEAgAAu4Wcm0iwRgIAAJhGRQIAAJsZtDYAAIBptDYAAADqoyIBAIDdaG0AAADTHHyOBK0NAABgGhUJAADsRmsDAACYxq4NAACA+qhIAABgMw6kAgAA5jm4tUEiAQCA3RxckWCNBAAAMI2KBAAAduNAKgAAYJoRsmY0weLFi5WVlaWkpCQlJSUpJydHb731Vvj1M2fOqLCwUKmpqUpMTNTYsWNVVVXV5K9GIgEAgAN17txZTz75pMrLy/XBBx/ohz/8oUaNGqWPP/5YkjRjxgy9+eabevXVV+X3+3X06FGNGTOmyfO4DMMwrA4+2s4dPxjtEICYtLN/UbRDAGLOoMOrbJ8j8PF6a27U4wYFAoGIS263W263u1EfT0lJ0R//+Efdcccdat++vVauXKk77rhDkrR7925dccUV2rx5s6699tpGh0RFAgAAu1nU2vB6vfJ4PBHD6/VecPpgMKiXX35ZdXV1ysnJUXl5uc6dO6ehQ4eG39OnTx917dpVmzdvbtJXY7ElAADNRElJiYqKIiuL31aN2LVrl3JycnTmzBklJiaqtLRUffv21Y4dO5SQkKDk5OSI96enp6uysrJJMZFIAABgN4sOpGpKG0OSevfurR07dqimpkavvfaaCgoK5Pf7LYnlKyQSAADYzDCis/0zISFBPXr0kCQNHDhQ77//vp5++mmNGzdOZ8+eVXV1dURVoqqqShkZGU2agzUSAAB8R4RCIQUCAQ0cOFDx8fFav/6/i0D37NmjQ4cOKScnp0n3pCIBAIDdonBEdklJiUaOHKmuXbvq5MmTWrlypXw+n9auXSuPx6OpU6eqqKhIKSkpSkpK0rRp05STk9OkHRsSiQQAAPaLwkO7jh07psmTJ6uiokIej0dZWVlau3atbr75ZknSggUL1KJFC40dO1aBQEDDhw/XM8880+R5OEcC+A7hHAmgvktxjsSZcmvmaDVwtCX3sRJrJAAAgGm0NgAAsJuDH9pFIgEAgN2isNjyUqG1AQAATKMiAQCA3aKwa+NSIZEAAMButDYAAADqoyIBAIDdaG0AAADTHJxI0NoAAACmUZEAAMBm0XqM+KVAIgEAgN0c3NogkQAAwG5s/wQAAKiPigQAAHajtQEAAEyjtQEAAFAfFQkAAOxGawMAAJhGawMAAKA+KhIAANiN1gYAADDNwYkErQ0AAGAaFQkAAOzm4MWWJBIAANjNwa0NEgkAAOzm4IoEayQAAIBpVCQAALAbrQ0AAGAarQ0AAID6qEgAAGA3WhsAAMA0BycStDYAAIBpVCQAALCbYUQ7AtuQSAAAYDdaGwAAAPVRkQAAwG4OrkiQSAAAYDcHH0hFIgEAgN0cXJFgjQQAADCNigQAAHZj+ycAADCN1gYAAEB9VCQAALCbgysSJBIAANjNwds/aW0AAADTSCQAALCZETIsGU3h9Xp19dVXq127durQoYNGjx6tPXv2RLwnPz9fLpcrYvz85z9v0jwkEgAA2C0UsmY0gd/vV2FhobZs2aJ169bp3LlzGjZsmOrq6iLed++996qioiI85s6d26R5WCMBAIADrVmzJuL35cuXq0OHDiovL1dubm74eps2bZSRkWF6HioSAADYzQhZMgKBgGprayNGIBBoVAg1NTWSpJSUlIjrL730ktLS0nTVVVeppKREp0+fbtJXI5EAAMBuIcOS4fV65fF4IobX673w9KGQpk+fruuvv15XXXVV+PpPf/pTvfjii9qwYYNKSkr0wgsvaNKkSU36arQ2AACwm0XnSJSUlKioqCjimtvtvuDnCgsL9dFHH6msrCzi+n333Rf+uV+/fsrMzNRNN92kAwcO6PLLL29UTCQSAAA0E263u1GJw9c98MADWr16tTZu3KjOnTt/63sHDx4sSdq/fz+JBAAAMSMKJ1sahqFp06aptLRUPp9P3bp1u+BnduzYIUnKzMxs9DwkEgAA2C0KT/8sLCzUypUr9cYbb6hdu3aqrKyUJHk8HrVu3VoHDhzQypUr9aMf/Uipqan68MMPNWPGDOXm5iorK6vR85BIAADgQIsXL5b05aFTX7ds2TJNmTJFCQkJevvtt7Vw4ULV1dWpS5cuGjt2rB577LEmzUMiAQCA3aLU2vg2Xbp0kd/vv+h5SCQAALBbE4+3bk6ifo7E5MmTtWzZMh04cCDaoQAAgCaKeiKRkJAgr9ernj17qkuXLpo0aZKee+457du3L9qhAQBgDYtOtoxFUU8knnvuOe3du1efffaZ5s6dq8TERM2bN099+vS54H5XAACaBYtOtoxFMbNG4rLLLlNqaqouu+wyJScnq2XLlmrfvv0FPxcIBOqdM94iEGjygR0AAKDpol6R+NWvfqXrrrtOqampmjVrls6cOaNZs2apsrJS27dvv+DnGzp3/A9PL7kEkQMA0DhGKGTJiEUu40L7Q2zWokULtW/fXjNmzNCYMWPUq1evJn2+wYrEySNUJIAG7OxfdOE3Ad8xgw6vsn2Ouv832ZL7tH10hSX3sVLUWxvbt2+X3++Xz+fTvHnzlJCQoLy8POXn5ys/P/+CiUVD546fO3vczpABAGiaGF0oaYWoJxLZ2dnKzs7Wgw8+KEnauXOnFixYoMLCQoVCIQWDwShHCAAA/peoJxKGYWj79u3y+Xzy+XwqKytTbW2tsrKylJeXF+3wAAC4eDG648IKUU8kUlJSdOrUKWVnZysvL0/33nuvhgwZouTk5GiHBgCANWJ0oaQVop5IvPjiixoyZIiSkpKiHQoAAGiiqCcSt9xyS7RDAADAXrQ2AACAaQ7etRH1A6kAAEDzRUUCAAC70doAAABmxerx1lagtQEAAEyjIgEAgN1obQAAANNIJAAAgGls/wQAAKiPigQAAHajtQEAAMwyHJxI0NoAAACmUZEAAMBuDq5IkEgAAGA3TrYEAACoj4oEAAB2o7UBAABMc3AiQWsDAACYRkUCAACbGYZzKxIkEgAA2M3BrQ0SCQAA7ObgRII1EgAAwDQqEgAA2MzJz9ogkQAAwG4OTiRobQAAANOoSAAAYDfnPmqDRAIAALs5eY0ErQ0AAGAaFQkAAOzm4IoEiQQAAHZz8BoJWhsAAMA0KhIAANjMyYstSSQAALCbg1sbJBIAANjMyRUJ1kgAAOBAXq9XV199tdq1a6cOHTpo9OjR2rNnT8R7zpw5o8LCQqWmpioxMVFjx45VVVVVk+YhkQAAwG4hi0YT+P1+FRYWasuWLVq3bp3OnTunYcOGqa6uLvyeGTNm6M0339Srr74qv9+vo0ePasyYMU2ax2UYhuPqLeeOH4x2CEBM2tm/KNohADFn0OFVts9x4sd5ltwn9U2/6c9+/vnn6tChg/x+v3Jzc1VTU6P27dtr5cqVuuOOOyRJu3fv1hVXXKHNmzfr2muvbdR9qUgAANBMBAIB1dbWRoxAINCoz9bU1EiSUlJSJEnl5eU6d+6chg4dGn5Pnz591LVrV23evLnRMZFIAABgN4taG16vVx6PJ2J4vd4LTx8Kafr06br++ut11VVXSZIqKyuVkJCg5OTkiPemp6ersrKy0V+NXRsAANjMsGj7Z0lJiYqKIluUbrf7gp8rLCzURx99pLKyMmsC+RoSCQAAmgm3292oxOHrHnjgAa1evVobN25U586dw9czMjJ09uxZVVdXR1QlqqqqlJGR0ej709oAAMBuUdi1YRiGHnjgAZWWlupf//qXunXrFvH6wIEDFR8fr/Xr14ev7dmzR4cOHVJOTk6j56EiAQCAzaxqbTRFYWGhVq5cqTfeeEPt2rULr3vweDxq3bq1PB6Ppk6dqqKiIqWkpCgpKUnTpk1TTk5Oo3dsSCQSAADYLhqJxOLFiyVJ+fn5EdeXLVumKVOmSJIWLFigFi1aaOzYsQoEAho+fLieeeaZJs1DIgEAgAM15pioVq1aadGiRVq0aJHpeUgkAACwWTQqEpcKiQQAAHYzXNGOwDbs2gAAAKZRkQAAwGa0NgAAgGlGiNYGAABAPVQkAACwGa0NAABgmsGuDQAAgPqoSAAAYDNaGwAAwDQn79ogkQAAwGaNeOxFs8UaCQAAYBoVCQAAbEZrAwAAmObkRILWBgAAMK3JiUQwGNTGjRtVXV1tQzgAADiPYVgzYlGTE4m4uDgNGzZM//nPf+yIBwAAxzFCLktGLDLV2rjqqqt08OBBq2MBAADNjKlEYs6cOSouLtbq1atVUVGh2traiAEAAP7LMFyWjFhkatfGj370I0nSbbfdJpfrv1/MMAy5XC4Fg0FrogMAwAE4IvsbNmzYYHUcAACgGTKVSOTl5VkdBwAAjhWK0baEFUyfI7Fp0yZNmjRJ1113nY4cOSJJeuGFF1RWVmZZcAAAOIGT10iYSiT+9re/afjw4WrdurW2bdumQCAgSaqpqdHvf/97SwMEAKC5Y/vnN8yZM0dLlizRs88+q/j4+PD166+/Xtu2bbMsOAAAENtMrZHYs2ePcnNz6133eDyceAkAwDfE6qmUVjBVkcjIyND+/fvrXS8rK1P37t0vOigAAJyE1sY33HvvvXrooYe0detWuVwuHT16VC+99JKKi4t1//33Wx0jAACIUaZaG7NmzVIoFNJNN92k06dPKzc3V263W8XFxZo2bZrVMQIA0Kw5efunqUTC5XLp0Ucf1SOPPKL9+/fr1KlT6tu3rxITE62ODwCAZi9Wt25awVQi8ZWEhAT17dvXqlgAAEAz0+hEYsyYMY2+6euvv24qGAAAnMjJuzYanUh4PJ7wz4ZhqLS0VB6PR4MGDZIklZeXq7q6ukkJBwAA3wWskZC0bNmy8M+//OUv9ZOf/ERLlixRXFycJCkYDOoXv/iFkpKSrI8SAADEJFPbP5cuXari4uJwEiFJcXFxKioq0tKlSy0LDgAAJ+BZG99w/vx57d69u9713bt3KxRy8EPXAQAwwTCsGbHI1K6Nu+++W1OnTtWBAwd0zTXXSJK2bt2qJ598UnfffbelAQIA0NyxRuIbnnrqKWVkZGjevHmqqKiQJGVmZuqRRx7Rww8/bGmAAAAgdrkM4+KKJbW1tZIUU4ssP+g8OtohADEpe8f8aIcAxJz4NPufEfV+p9stuc/VR0otuY+VLupAKim2EggAAGKRk1sbphZbVlVV6a677lLHjh3VsmVLxcXFRQwAAPDdYKoiMWXKFB06dEi//vWvlZmZKZfLuZkWAAAXK0Y3XFjCVCJRVlamTZs2qX///haHAwCA89Da+IYuXbroItdoAgAABzCVSCxcuFCzZs3Sp59+anE4AAA4j5NPtjTV2hg3bpxOnz6tyy+/XG3atFF8fHzE61988YUlwQEA4AROPvPZVCKxcOFCi8MAAABW27hxo/74xz+qvLxcFRUVKi0t1ejRo8OvT5kyRc8//3zEZ4YPH641a9Y0eg5TiURBQYGZjwEA8J1kKDptibq6OmVnZ+uee+7RmDFjGnzPiBEjIp7w7Xa7mzSH6QOpDhw4oGXLlunAgQN6+umn1aFDB7311lvq2rWrrrzySrO3BQDAcUIW7U8IBAIKBAIR19xu9//8x3/kyJEaOXLkt97T7XYrIyPDdEymFlv6/X7169dPW7du1euvv65Tp05Jknbu3KnZs2ebDgYAACcKyWXJ8Hq98ng8EcPr9V5UbD6fTx06dFDv3r11//3368SJE036vKlEYtasWZozZ47WrVunhISE8PUf/vCH2rJli5lbAgCACygpKVFNTU3EKCkpMX2/ESNGaMWKFVq/fr3+8Ic/yO/3a+TIkQoGg42+h6nWxq5du7Ry5cp61zt06KDjx4+buSUAAI5l1RqJb2tjmDF+/Pjwz/369VNWVpYuv/xy+Xw+3XTTTY26h6mKRHJycvjx4V+3fft2derUycwtAQBwrJBFw27du3dXWlqa9u/f3+jPmEokxo8fr1/+8peqrKyUy+VSKBTSO++8o+LiYk2ePNnMLQEAQJQdPnxYJ06cUGZmZqM/Y6q18fvf/16FhYXq0qWLgsGg+vbtq/Pnz2vixIl67LHHzNwSAADHitb2z1OnTkVUFz755BPt2LFDKSkpSklJ0RNPPKGxY8cqIyNDBw4c0MyZM9WjRw8NHz680XO4jIt4aMZnn32mXbt26dSpUxowYIB69uxp9laW+qDz6GiHAMSk7B3zox0CEHPi07rbPsea9PEXflMjjKh6uUnv9/l8uvHGG+tdLygo0OLFizV69Ght375d1dXV6tixo4YNG6bf/e53Sk9Pb/QcpioSRUVF9a5t2bJFLpdLrVq1Uo8ePTRq1CilpKSYuT0AALBAfn7+tz5kc+3atRc9h6lEYvv27dq2bZuCwaB69+4tSdq7d6/i4uLUp08fPfPMM3r44YdVVlamvn37XnSQAAA0Z05+1oapxZajRo3S0KFDdfToUZWXl6u8vFyHDx/WzTffrAkTJujIkSPKzc3VjBkzrI4XAIBmx5DLkhGLTK2R6NSpk9atW1ev2vDxxx9r2LBhOnLkiLZt26Zhw4ZF5VwJ1kgADWONBFDfpVgj8Y/0CZbc55aqv1pyHyuZqkjU1NTo2LFj9a5//vnnqq2tlfTlWRNnz569uOgAAHCAkMuaEYtMtzbuuecelZaW6vDhwzp8+LBKS0s1derU8ONJ33vvPfXq1cvKWAEAaJasetZGLDK12PIvf/mLZsyYofHjx+v8+fNf3qhlSxUUFGjBggWSpD59+ui5556zLlIAAJopix7+GZNMJRKJiYl69tlntWDBAh08eFDSl8dqJiYmht/Tv39/SwIEAACxy1Qi8ZXExERlZWVZFQsAAI7k5O2fF5VIAACACwu5YnN9gxVMLbYEAACQqEgAAGA7FlsCAADTnLxGgtYGAAAwjYoEAAA2i9VTKa1AIgEAgM1i9VRKK9DaAAAAplGRAADAZuzaAAAAprFGAgAAmMb2TwAAgAZQkQAAwGaskQAAAKY5eY0ErQ0AAGAaFQkAAGzm5MWWJBIAANjMyYkErQ0AAGAaFQkAAGxmOHixJYkEAAA2o7UBAADQACoSAADYzMkVCRIJAABsxsmWAADANE62BAAAaAAVCQAAbMYaCQAAYJqTEwlaGwAAwDQqEgAA2IxdGwAAwDR2bQAAADSAigQAADZz8mJLEgkAAGzm5DUStDYAAIBpVCQAALBZyME1CRIJAABsxhoJAABgmnPrEayRAAAAF4GKBAAANnNya4OKBAAANgu5rBlNtXHjRv34xz9Wx44d5XK5tGrVqojXDcPQb37zG2VmZqp169YaOnSo9u3b16Q5SCQAAHCouro6ZWdna9GiRQ2+PnfuXP3pT3/SkiVLtHXrVrVt21bDhw/XmTNnGj0HrQ0AAGxm1fbPQCCgQCAQcc3tdsvtdjf4/pEjR2rkyJENvmYYhhYuXKjHHntMo0aNkiStWLFC6enpWrVqlcaPH9+omKhIAABgM8Oi4fV65fF4IobX6zUV0yeffKLKykoNHTo0fM3j8Wjw4MHavHlzo+9DRQIAgGaipKRERUVFEdf+VzXiQiorKyVJ6enpEdfT09PDrzUGiQQAADazatfGt7UxooXWBgAANgvJsGRYKSMjQ5JUVVUVcb2qqir8WmOQSAAA8B3UrVs3ZWRkaP369eFrtbW12rp1q3Jychp9H1obAADYLFpHZJ86dUr79+8P//7JJ59ox44dSklJUdeuXTV9+nTNmTNHPXv2VLdu3fTrX/9aHTt21OjRoxs9B4kEAAA2i9bJlh988IFuvPHG8O9fLdQsKCjQ8uXLNXPmTNXV1em+++5TdXW1brjhBq1Zs0atWrVq9BwuwzAc9yyRDzqPjnYIQEzK3jE/2iEAMSc+rbvtcxR9v3FnMlzI/E9ftuQ+VmKNBAAAMI3WBgAANnNc6f9rSCQAALAZT/8EAABoABUJAABsZji4uUEiAQCAzWhtAAAANICKBAAANrP6ORmxhEQCAACbOTeNoLUBAAAuAhUJAABsRmsDAACY5uRdGzGTSJw5c0Yffvihjh07plAo8o/8tttui1JUAABcPM6RsNmaNWs0efJkHT9+vN5rLpdLwWAwClEBAIALiYnFltOmTdOdd96piooKhUKhiHGhJCIQCKi2tjZinDVIPAAAsSNk0YhFMZFIVFVVqaioSOnp6U3+rNfrlcfjiRjLT+6zIUoAAMwxLPovFsVEInHHHXfI5/OZ+mxJSYlqamoixpR2Pa0NEAAANCgm1kj8+c9/1p133qlNmzapX79+io+Pj3j9wQcf/J+fdbvdcrvdEdcSXHG2xAkAgBmx2pawQkwkEn/961/1z3/+U61atZLP55PL5Qq/5nK5vjWRAAAg1oWM2GxLWCEmEolHH31UTzzxhGbNmqUWLWKi2wIAABohJhKJs2fPaty4cSQRAABHcm49IkYWWxYUFOiVV16JdhgAANgiJMOSEYtioiIRDAY1d+5crV27VllZWfUWW86fPz9KkQEAgG8TE4nErl27NGDAAEnSRx99FPHa1xdeAgDQHMXqGRBWiIlEYsOGDdEOAQAA27D9EwAAmBar6xusEBOLLQEAQPNERQIAAJuxRgIAAJjm5DUStDYAAIBpVCQAALCZwbM2AACAWezaAAAAaAAVCQAAbObkxZYkEgAA2MzJ2z9pbQAAANOoSAAAYDMnL7YkkQAAwGZs/wQAAKY5ebElayQAAIBpVCQAALCZk3dtkEgAAGAzJy+2pLUBAABMoyIBAIDN2LUBAABMo7UBAADQABIJAABsZlj0X1M8/vjjcrlcEaNPnz6WfzdaGwAA2CwUpTUSV155pd5+++3w7y1bWv/PPokEAAAO1bJlS2VkZNg6B60NAABsZlg0AoGAamtrI0YgEPif8+7bt08dO3ZU9+7dNXHiRB06dMjy70YiAQCAzUIyLBler1cejydieL3eBuccPHiwli9frjVr1mjx4sX65JNPNGTIEJ08edLS7+YyHLi59YPOo6MdAhCTsnfMj3YIQMyJT+tu+xw5nW605D6+g2vqVSDcbrfcbvcFP1tdXa3vfe97mj9/vqZOnWpJPBJrJAAAaDYamzQ0JDk5Wb169dL+/fstjYnWBgAANjMMw5JxMU6dOqUDBw4oMzPTom/1JRIJAABsZtUaiaYoLi6W3+/Xp59+qnfffVe333674uLiNGHCBEu/G60NAAAc6PDhw5owYYJOnDih9u3b64YbbtCWLVvUvn17S+chkQAAwGZNPZXSCi+//PIlmYdEAgAAmzlwg2QYayQAAIBpVCQAALCZkx8jTiIBAIDNaG0AAAA0gIoEAAA2o7UBAABMi8b2z0uFRAIAAJuFWCMBAABQHxUJAABsRmsDAACYRmsDAACgAVQkAACwGa0NAABgGq0NAACABlCRAADAZrQ2AACAabQ2AAAAGkBFAgAAm9HaAAAAphlGKNoh2IZEAgAAmzn5MeKskQAAAKZRkQAAwGaGg3dtkEgAAGAzWhsAAAANoCIBAIDNaG0AAADTONkSAACgAVQkAACwGSdbAgAA05y8RoLWBgAAMI2KBAAANnPyORIkEgAA2MzJrQ0SCQAAbMb2TwAAgAZQkQAAwGa0NgAAgGlOXmxJawMAAJhGRQIAAJvR2gAAAKaxawMAAKABVCQAALAZD+0CAACm0doAAABoABUJAABsxq4NAABgGmskAACAaU6uSLBGAgAAB1u0aJG+//3vq1WrVho8eLDee+89S+9PIgEAgM0Mw7BkNNUrr7yioqIizZ49W9u2bVN2draGDx+uY8eOWfbdSCQAALCZYdFoqvnz5+vee+/V3Xffrb59+2rJkiVq06aNli5derFfKYxEAgCAZiIQCKi2tjZiBAKBBt979uxZlZeXa+jQoeFrLVq00NChQ7V582bLYnLkYstBh1dFOwToy//hvV6vSkpK5Ha7ox0OEDP4u/Hdc/7sEUvu8/jjj+uJJ56IuDZ79mw9/vjj9d57/PhxBYNBpaenR1xPT0/X7t27LYlHklyGk5eSIqpqa2vl8XhUU1OjpKSkaIcDxAz+bsCsQCBQrwLhdrsbTEiPHj2qTp066d1331VOTk74+syZM+X3+7V161ZLYnJkRQIAACf6X0lDQ9LS0hQXF6eqqqqI61VVVcrIyLAsJtZIAADgQAkJCRo4cKDWr18fvhYKhbR+/fqICsXFoiIBAIBDFRUVqaCgQIMGDdI111yjhQsXqq6uTnfffbdlc5BIwDZut1uzZ89mMRnwDfzdwKUybtw4ff755/rNb36jyspK9e/fX2vWrKm3APNisNgSAACYxhoJAABgGokEAAAwjUQCAACYRiIBAABMI5EAAACmkUgAAADTSCRgmfz8fE2bNk3Tp0/XZZddpvT0dD377LPhw0/atWunHj166K233op2qMAltXr1aiUnJysYDEqSduzYIZfLpVmzZoXf87Of/UyTJk2KVoiAaSQSsNTzzz+vtLQ0vffee5o2bZruv/9+3Xnnnbruuuu0bds2DRs2THfddZdOnz4d7VCBS2bIkCE6efKktm/fLkny+/1KS0uTz+cLv8fv9ys/Pz86AQIXgQOpYJn8/HwFg0Ft2rRJkhQMBuXxeDRmzBitWLFCklRZWanMzExt3rxZ1157bTTDBS6pgQMHasKECSouLtbtt9+uq6++Wk888YROnDihmpoade7cWXv37lXPnj2jHSrQJFQkYKmsrKzwz3FxcUpNTVW/fv3C1746lvXYsWOXPDYgmvLy8uTz+WQYhjZt2qQxY8boiiuuUFlZmfx+vzp27EgSgWaJZ23AUvHx8RG/u1yuiGsul0vSl0+gA75L8vPztXTpUu3cuVPx8fHq06eP8vPz5fP59J///Ed5eXnRDhEwhYoEAFwCX62TWLBgQThp+CqR8Pl8rI9As0UiAQCXwGWXXaasrCy99NJL4aQhNzdX27Zt0969e6lIoNkikQCASyQvL0/BYDCcSKSkpKhv377KyMhQ7969oxscYBK7NgAAgGlUJAAAgGkkEgAAwDQSCQAAYBqJBAAAMI1EAgAAmEYiAQAATCORAAAAppFIAAAA00gkAEiSpkyZotGjR0c7DADNDIkEAAAwjUQCgCUMw9D58+ejHQaAS4xEAogxJ0+e1MSJE9W2bVtlZmZqwYIFys/P1/Tp0yVJgUBAxcXF6tSpk9q2bavBgwfL5/OFP798+XIlJydr7dq1uuKKK5SYmKgRI0aooqIi/J5gMKiioiIlJycrNTVVM2fO1DcfuxMKheT1etWtWze1bt1a2dnZeu2118Kv+3w+uVwuvfXWWxo4cKDcbrfKysps/bMBEHtIJIAYU1RUpHfeeUd///vftW7dOm3atEnbtm0Lv/7AAw9o8+bNevnll/Xhhx/qzjvv1IgRI7Rv377we06fPq2nnnpKL7zwgjZu3KhDhw6puLg4/Pq8efO0fPlyLV26VGVlZfriiy9UWloaEYfX69WKFSu0ZMkSffzxx5oxY4YmTZokv98f8b5Zs2bpySef1L///W9lZWXZ9KcCIGYZAGJGbW2tER8fb7z66qvha9XV1UabNm2Mhx56yPi///s/Iy4uzjhy5EjE52666SajpKTEMAzDWLZsmSHJ2L9/f/j1RYsWGenp6eHfMzMzjblz54Z/P3funNG5c2dj1KhRhmEYxpkzZ4w2bdoY7777bsQ8U6dONSZMmGAYhmFs2LDBkGSsWrXKmi8PoFlqGe1EBsB/HTx4UOfOndM111wTvubxeNS7d29J0q5duxQMBtWrV6+IzwUCAaWmpoZ/b9OmjS6//PLw75mZmTp27JgkqaamRhUVFRo8eHD49ZYtW2rQoEHh9sb+/ft1+vRp3XzzzRHznD17VgMGDIi4NmjQoIv5ygCaORIJoBk5deqU4uLiVF5erri4uIjXEhMTwz/Hx8dHvOZyueqtgbjQPJL0j3/8Q506dYp4ze12R/zetm3bRt8XgPOQSAAxpHv37oqPj9f777+vrl27SvqygrB3717l5uZqwIABCgaDOnbsmIYMGWJqDo/Ho8zMTG3dulW5ubmSpPPnz6u8vFw/+MEPJEl9+/aV2+3WoUOHlJeXZ82XA+BIJBJADGnXrp0KCgr0yCOPKCUlRR06dNDs2bPVokULuVwu9erVSxMnTtTkyZM1b948DRgwQJ9//rnWr1+vrKws3XLLLY2a56GHHtKTTz6pnj17qk+fPpo/f76qq6sj4iguLtaMGTMUCoV0ww03qKamRu+8846SkpJUUFBg058AgOaGRAKIMfPnz9fPf/5z3XrrrUpKStLMmTP12WefqVWrVpKkZcuWac6cOXr44Yd15MgRpaWl6dprr9Wtt97a6DkefvhhVVRUqKCgQC1atNA999yj22+/XTU1NeH3/O53v1P79u3l9Xp18OBBJScn6wc/+IF+9atfWf6dATRfLqMpjVMAl1xdXZ06deqkefPmaerUqdEOBwAiUJEAYsz27du1e/duXXPNNaqpqdFvf/tbSdKoUaOiHBkA1EciAcSgp556Snv27FFCQoIGDhyoTZs2KS0tLdphAUA9tDYAAIBpHJENAABMI5EAAACmkUgAAADTSCQAAIBpJBIAAMA0EgkAAGAaiQQAADCNRAIAAJj2/wEEBDm6fR6KQQAAAABJRU5ErkJggg==",
      "text/plain": [
       "<Figure size 640x480 with 2 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "utils.create_contact_matrix(agents=agents, attr=\"gender\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "242a3850",
   "metadata": {},
   "source": [
    "By setting `return_df` to `True`, the data of the matrix can be returned, too."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 106,
   "id": "a58b9c0a",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>m</th>\n",
       "      <th>w</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>w</th>\n",
       "      <td>32</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>m</th>\n",
       "      <td>16</td>\n",
       "      <td>32</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "    m   w\n",
       "w  32  16\n",
       "m  16  32"
      ]
     },
     "execution_count": 106,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAhIAAAGwCAYAAAD8AYzHAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjcuNSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/xnp5ZAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAlyUlEQVR4nO3de3BU9f3/8dcSkuUSsjEJJOHWgtxESaCgGJUkVuRSrSBogYIEpTq1EYUYKam2aMuva6lc7BShowOISnW0BisdoUjZhSighovolLt+EUiCYJNAGBbYPb8/HLeuSSU5nMNujs+H85lJzu6ez3sZGd7zfn8+n+MyDMMQAACACS2iHQAAAGi+SCQAAIBpJBIAAMA0EgkAAGAaiQQAADCNRAIAAJhGIgEAAEwjkQAAAKa1jHYAdjh3/GC0QwBi0s7+RdEOAYg5gw6vsn0Oq/5dik/rbsl9rERFAgAAmObIigQAADElFIx2BLYhkQAAwG5GKNoR2IZEAgAAu4Wcm0iwRgIAAJhGRQIAAJsZtDYAAIBptDYAAADqoyIBAIDdaG0AAADTHHyOBK0NAABgGhUJAADsRmsDAACYxq4NAACA+qhIAABgMw6kAgAA5jm4tUEiAQCA3RxckWCNBAAAMI2KBAAAduNAKgAAYJoRsmY0weLFi5WVlaWkpCQlJSUpJydHb731Vvj1M2fOqLCwUKmpqUpMTNTYsWNVVVXV5K9GIgEAgAN17txZTz75pMrLy/XBBx/ohz/8oUaNGqWPP/5YkjRjxgy9+eabevXVV+X3+3X06FGNGTOmyfO4DMMwrA4+2s4dPxjtEICYtLN/UbRDAGLOoMOrbJ8j8PF6a27U4wYFAoGIS263W263u1EfT0lJ0R//+Efdcccdat++vVauXKk77rhDkrR7925dccUV2rx5s6699tpGh0RFAgAAu1nU2vB6vfJ4PBHD6/VecPpgMKiXX35ZdXV1ysnJUXl5uc6dO6ehQ4eG39OnTx917dpVmzdvbtJXY7ElAADNRElJiYqKIiuL31aN2LVrl3JycnTmzBklJiaqtLRUffv21Y4dO5SQkKDk5OSI96enp6uysrJJMZFIAABgN4sOpGpKG0OSevfurR07dqimpkavvfaaCgoK5Pf7LYnlKyQSAADYzDCis/0zISFBPXr0kCQNHDhQ77//vp5++mmNGzdOZ8+eVXV1dURVoqqqShkZGU2agzUSAAB8R4RCIQUCAQ0cOFDx8fFav/6/i0D37NmjQ4cOKScnp0n3pCIBAIDdonBEdklJiUaOHKmuXbvq5MmTWrlypXw+n9auXSuPx6OpU6eqqKhIKSkpSkpK0rRp05STk9OkHRsSiQQAAPaLwkO7jh07psmTJ6uiokIej0dZWVlau3atbr75ZknSggUL1KJFC40dO1aBQEDDhw/XM8880+R5OEcC+A7hHAmgvktxjsSZcmvmaDVwtCX3sRJrJAAAgGm0NgAAsJuDH9pFIgEAgN2isNjyUqG1AQAATKMiAQCA3aKwa+NSIZEAAMButDYAAADqoyIBAIDdaG0AAADTHJxI0NoAAACmUZEAAMBm0XqM+KVAIgEAgN0c3NogkQAAwG5s/wQAAKiPigQAAHajtQEAAEyjtQEAAFAfFQkAAOxGawMAAJhGawMAAKA+KhIAANiN1gYAADDNwYkErQ0AAGAaFQkAAOzm4MWWJBIAANjNwa0NEgkAAOzm4IoEayQAAIBpVCQAALAbrQ0AAGAarQ0AAID6qEgAAGA3WhsAAMA0BycStDYAAIBpVCQAALCbYUQ7AtuQSAAAYDdaGwAAAPVRkQAAwG4OrkiQSAAAYDcHH0hFIgEAgN0cXJFgjQQAADCNigQAAHZj+ycAADCN1gYAAEB9VCQAALCbgysSJBIAANjNwds/aW0AAADTSCQAALCZETIsGU3h9Xp19dVXq127durQoYNGjx6tPXv2RLwnPz9fLpcrYvz85z9v0jwkEgAA2C0UsmY0gd/vV2FhobZs2aJ169bp3LlzGjZsmOrq6iLed++996qioiI85s6d26R5WCMBAIADrVmzJuL35cuXq0OHDiovL1dubm74eps2bZSRkWF6HioSAADYzQhZMgKBgGprayNGIBBoVAg1NTWSpJSUlIjrL730ktLS0nTVVVeppKREp0+fbtJXI5EAAMBuIcOS4fV65fF4IobX673w9KGQpk+fruuvv15XXXVV+PpPf/pTvfjii9qwYYNKSkr0wgsvaNKkSU36arQ2AACwm0XnSJSUlKioqCjimtvtvuDnCgsL9dFHH6msrCzi+n333Rf+uV+/fsrMzNRNN92kAwcO6PLLL29UTCQSAAA0E263u1GJw9c98MADWr16tTZu3KjOnTt/63sHDx4sSdq/fz+JBAAAMSMKJ1sahqFp06aptLRUPp9P3bp1u+BnduzYIUnKzMxs9DwkEgAA2C0KT/8sLCzUypUr9cYbb6hdu3aqrKyUJHk8HrVu3VoHDhzQypUr9aMf/Uipqan68MMPNWPGDOXm5iorK6vR85BIAADgQIsXL5b05aFTX7ds2TJNmTJFCQkJevvtt7Vw4ULV1dWpS5cuGjt2rB577LEmzUMiAQCA3aLU2vg2Xbp0kd/vv+h5SCQAALBbE4+3bk6ifo7E5MmTtWzZMh04cCDaoQAAgCaKeiKRkJAgr9ernj17qkuXLpo0aZKee+457du3L9qhAQBgDYtOtoxFUU8knnvuOe3du1efffaZ5s6dq8TERM2bN099+vS54H5XAACaBYtOtoxFMbNG4rLLLlNqaqouu+wyJScnq2XLlmrfvv0FPxcIBOqdM94iEGjygR0AAKDpol6R+NWvfqXrrrtOqampmjVrls6cOaNZs2apsrJS27dvv+DnGzp3/A9PL7kEkQMA0DhGKGTJiEUu40L7Q2zWokULtW/fXjNmzNCYMWPUq1evJn2+wYrEySNUJIAG7OxfdOE3Ad8xgw6vsn2Ouv832ZL7tH10hSX3sVLUWxvbt2+X3++Xz+fTvHnzlJCQoLy8POXn5ys/P/+CiUVD546fO3vczpABAGiaGF0oaYWoJxLZ2dnKzs7Wgw8+KEnauXOnFixYoMLCQoVCIQWDwShHCAAA/peoJxKGYWj79u3y+Xzy+XwqKytTbW2tsrKylJeXF+3wAAC4eDG648IKUU8kUlJSdOrUKWVnZysvL0/33nuvhgwZouTk5GiHBgCANWJ0oaQVop5IvPjiixoyZIiSkpKiHQoAAGiiqCcSt9xyS7RDAADAXrQ2AACAaQ7etRH1A6kAAEDzRUUCAAC70doAAABmxerx1lagtQEAAEyjIgEAgN1obQAAANNIJAAAgGls/wQAAKiPigQAAHajtQEAAMwyHJxI0NoAAACmUZEAAMBuDq5IkEgAAGA3TrYEAACoj4oEAAB2o7UBAABMc3AiQWsDAACYRkUCAACbGYZzKxIkEgAA2M3BrQ0SCQAA7ObgRII1EgAAwDQqEgAA2MzJz9ogkQAAwG4OTiRobQAAANOoSAAAYDfnPmqDRAIAALs5eY0ErQ0AAGAaFQkAAOzm4IoEiQQAAHZz8BoJWhsAAMA0KhIAANjMyYstSSQAALCbg1sbJBIAANjMyRUJ1kgAAOBAXq9XV199tdq1a6cOHTpo9OjR2rNnT8R7zpw5o8LCQqWmpioxMVFjx45VVVVVk+YhkQAAwG4hi0YT+P1+FRYWasuWLVq3bp3OnTunYcOGqa6uLvyeGTNm6M0339Srr74qv9+vo0ePasyYMU2ax2UYhuPqLeeOH4x2CEBM2tm/KNohADFn0OFVts9x4sd5ltwn9U2/6c9+/vnn6tChg/x+v3Jzc1VTU6P27dtr5cqVuuOOOyRJu3fv1hVXXKHNmzfr2muvbdR9qUgAANBMBAIB1dbWRoxAINCoz9bU1EiSUlJSJEnl5eU6d+6chg4dGn5Pnz591LVrV23evLnRMZFIAABgN4taG16vVx6PJ2J4vd4LTx8Kafr06br++ut11VVXSZIqKyuVkJCg5OTkiPemp6ersrKy0V+NXRsAANjMsGj7Z0lJiYqKIluUbrf7gp8rLCzURx99pLKyMmsC+RoSCQAAmgm3292oxOHrHnjgAa1evVobN25U586dw9czMjJ09uxZVVdXR1QlqqqqlJGR0ej709oAAMBuUdi1YRiGHnjgAZWWlupf//qXunXrFvH6wIEDFR8fr/Xr14ev7dmzR4cOHVJOTk6j56EiAQCAzaxqbTRFYWGhVq5cqTfeeEPt2rULr3vweDxq3bq1PB6Ppk6dqqKiIqWkpCgpKUnTpk1TTk5Oo3dsSCQSAADYLhqJxOLFiyVJ+fn5EdeXLVumKVOmSJIWLFigFi1aaOzYsQoEAho+fLieeeaZJs1DIgEAgAM15pioVq1aadGiRVq0aJHpeUgkAACwWTQqEpcKiQQAAHYzXNGOwDbs2gAAAKZRkQAAwGa0NgAAgGlGiNYGAABAPVQkAACwGa0NAABgmsGuDQAAgPqoSAAAYDNaGwAAwDQn79ogkQAAwGaNeOxFs8UaCQAAYBoVCQAAbEZrAwAAmObkRILWBgAAMK3JiUQwGNTGjRtVXV1tQzgAADiPYVgzYlGTE4m4uDgNGzZM//nPf+yIBwAAxzFCLktGLDLV2rjqqqt08OBBq2MBAADNjKlEYs6cOSouLtbq1atVUVGh2traiAEAAP7LMFyWjFhkatfGj370I0nSbbfdJpfrv1/MMAy5XC4Fg0FrogMAwAE4IvsbNmzYYHUcAACgGTKVSOTl5VkdBwAAjhWK0baEFUyfI7Fp0yZNmjRJ1113nY4cOSJJeuGFF1RWVmZZcAAAOIGT10iYSiT+9re/afjw4WrdurW2bdumQCAgSaqpqdHvf/97SwMEAKC5Y/vnN8yZM0dLlizRs88+q/j4+PD166+/Xtu2bbMsOAAAENtMrZHYs2ePcnNz6133eDyceAkAwDfE6qmUVjBVkcjIyND+/fvrXS8rK1P37t0vOigAAJyE1sY33HvvvXrooYe0detWuVwuHT16VC+99JKKi4t1//33Wx0jAACIUaZaG7NmzVIoFNJNN92k06dPKzc3V263W8XFxZo2bZrVMQIA0Kw5efunqUTC5XLp0Ucf1SOPPKL9+/fr1KlT6tu3rxITE62ODwCAZi9Wt25awVQi8ZWEhAT17dvXqlgAAEAz0+hEYsyYMY2+6euvv24qGAAAnMjJuzYanUh4PJ7wz4ZhqLS0VB6PR4MGDZIklZeXq7q6ukkJBwAA3wWskZC0bNmy8M+//OUv9ZOf/ERLlixRXFycJCkYDOoXv/iFkpKSrI8SAADEJFPbP5cuXari4uJwEiFJcXFxKioq0tKlSy0LDgAAJ+BZG99w/vx57d69u9713bt3KxRy8EPXAQAwwTCsGbHI1K6Nu+++W1OnTtWBAwd0zTXXSJK2bt2qJ598UnfffbelAQIA0NyxRuIbnnrqKWVkZGjevHmqqKiQJGVmZuqRRx7Rww8/bGmAAAAgdrkM4+KKJbW1tZIUU4ssP+g8OtohADEpe8f8aIcAxJz4NPufEfV+p9stuc/VR0otuY+VLupAKim2EggAAGKRk1sbphZbVlVV6a677lLHjh3VsmVLxcXFRQwAAPDdYKoiMWXKFB06dEi//vWvlZmZKZfLuZkWAAAXK0Y3XFjCVCJRVlamTZs2qX///haHAwCA89Da+IYuXbroItdoAgAABzCVSCxcuFCzZs3Sp59+anE4AAA4j5NPtjTV2hg3bpxOnz6tyy+/XG3atFF8fHzE61988YUlwQEA4AROPvPZVCKxcOFCi8MAAABW27hxo/74xz+qvLxcFRUVKi0t1ejRo8OvT5kyRc8//3zEZ4YPH641a9Y0eg5TiURBQYGZjwEA8J1kKDptibq6OmVnZ+uee+7RmDFjGnzPiBEjIp7w7Xa7mzSH6QOpDhw4oGXLlunAgQN6+umn1aFDB7311lvq2rWrrrzySrO3BQDAcUIW7U8IBAIKBAIR19xu9//8x3/kyJEaOXLkt97T7XYrIyPDdEymFlv6/X7169dPW7du1euvv65Tp05Jknbu3KnZs2ebDgYAACcKyWXJ8Hq98ng8EcPr9V5UbD6fTx06dFDv3r11//3368SJE036vKlEYtasWZozZ47WrVunhISE8PUf/vCH2rJli5lbAgCACygpKVFNTU3EKCkpMX2/ESNGaMWKFVq/fr3+8Ic/yO/3a+TIkQoGg42+h6nWxq5du7Ry5cp61zt06KDjx4+buSUAAI5l1RqJb2tjmDF+/Pjwz/369VNWVpYuv/xy+Xw+3XTTTY26h6mKRHJycvjx4V+3fft2derUycwtAQBwrJBFw27du3dXWlqa9u/f3+jPmEokxo8fr1/+8peqrKyUy+VSKBTSO++8o+LiYk2ePNnMLQEAQJQdPnxYJ06cUGZmZqM/Y6q18fvf/16FhYXq0qWLgsGg+vbtq/Pnz2vixIl67LHHzNwSAADHitb2z1OnTkVUFz755BPt2LFDKSkpSklJ0RNPPKGxY8cqIyNDBw4c0MyZM9WjRw8NHz680XO4jIt4aMZnn32mXbt26dSpUxowYIB69uxp9laW+qDz6GiHAMSk7B3zox0CEHPi07rbPsea9PEXflMjjKh6uUnv9/l8uvHGG+tdLygo0OLFizV69Ght375d1dXV6tixo4YNG6bf/e53Sk9Pb/QcpioSRUVF9a5t2bJFLpdLrVq1Uo8ePTRq1CilpKSYuT0AALBAfn7+tz5kc+3atRc9h6lEYvv27dq2bZuCwaB69+4tSdq7d6/i4uLUp08fPfPMM3r44YdVVlamvn37XnSQAAA0Z05+1oapxZajRo3S0KFDdfToUZWXl6u8vFyHDx/WzTffrAkTJujIkSPKzc3VjBkzrI4XAIBmx5DLkhGLTK2R6NSpk9atW1ev2vDxxx9r2LBhOnLkiLZt26Zhw4ZF5VwJ1kgADWONBFDfpVgj8Y/0CZbc55aqv1pyHyuZqkjU1NTo2LFj9a5//vnnqq2tlfTlWRNnz569uOgAAHCAkMuaEYtMtzbuuecelZaW6vDhwzp8+LBKS0s1derU8ONJ33vvPfXq1cvKWAEAaJasetZGLDK12PIvf/mLZsyYofHjx+v8+fNf3qhlSxUUFGjBggWSpD59+ui5556zLlIAAJopix7+GZNMJRKJiYl69tlntWDBAh08eFDSl8dqJiYmht/Tv39/SwIEAACxy1Qi8ZXExERlZWVZFQsAAI7k5O2fF5VIAACACwu5YnN9gxVMLbYEAACQqEgAAGA7FlsCAADTnLxGgtYGAAAwjYoEAAA2i9VTKa1AIgEAgM1i9VRKK9DaAAAAplGRAADAZuzaAAAAprFGAgAAmMb2TwAAgAZQkQAAwGaskQAAAKY5eY0ErQ0AAGAaFQkAAGzm5MWWJBIAANjMyYkErQ0AAGAaFQkAAGxmOHixJYkEAAA2o7UBAADQACoSAADYzMkVCRIJAABsxsmWAADANE62BAAAaAAVCQAAbMYaCQAAYJqTEwlaGwAAwDQqEgAA2IxdGwAAwDR2bQAAADSAigQAADZz8mJLEgkAAGzm5DUStDYAAIBpVCQAALBZyME1CRIJAABsxhoJAABgmnPrEayRAAAAF4GKBAAANnNya4OKBAAANgu5rBlNtXHjRv34xz9Wx44d5XK5tGrVqojXDcPQb37zG2VmZqp169YaOnSo9u3b16Q5SCQAAHCouro6ZWdna9GiRQ2+PnfuXP3pT3/SkiVLtHXrVrVt21bDhw/XmTNnGj0HrQ0AAGxm1fbPQCCgQCAQcc3tdsvtdjf4/pEjR2rkyJENvmYYhhYuXKjHHntMo0aNkiStWLFC6enpWrVqlcaPH9+omKhIAABgM8Oi4fV65fF4IobX6zUV0yeffKLKykoNHTo0fM3j8Wjw4MHavHlzo+9DRQIAgGaipKRERUVFEdf+VzXiQiorKyVJ6enpEdfT09PDrzUGiQQAADazatfGt7UxooXWBgAANgvJsGRYKSMjQ5JUVVUVcb2qqir8WmOQSAAA8B3UrVs3ZWRkaP369eFrtbW12rp1q3Jychp9H1obAADYLFpHZJ86dUr79+8P//7JJ59ox44dSklJUdeuXTV9+nTNmTNHPXv2VLdu3fTrX/9aHTt21OjRoxs9B4kEAAA2i9bJlh988IFuvPHG8O9fLdQsKCjQ8uXLNXPmTNXV1em+++5TdXW1brjhBq1Zs0atWrVq9BwuwzAc9yyRDzqPjnYIQEzK3jE/2iEAMSc+rbvtcxR9v3FnMlzI/E9ftuQ+VmKNBAAAMI3WBgAANnNc6f9rSCQAALAZT/8EAABoABUJAABsZji4uUEiAQCAzWhtAAAANICKBAAANrP6ORmxhEQCAACbOTeNoLUBAAAuAhUJAABsRmsDAACY5uRdGzGTSJw5c0Yffvihjh07plAo8o/8tttui1JUAABcPM6RsNmaNWs0efJkHT9+vN5rLpdLwWAwClEBAIALiYnFltOmTdOdd96piooKhUKhiHGhJCIQCKi2tjZinDVIPAAAsSNk0YhFMZFIVFVVqaioSOnp6U3+rNfrlcfjiRjLT+6zIUoAAMwxLPovFsVEInHHHXfI5/OZ+mxJSYlqamoixpR2Pa0NEAAANCgm1kj8+c9/1p133qlNmzapX79+io+Pj3j9wQcf/J+fdbvdcrvdEdcSXHG2xAkAgBmx2pawQkwkEn/961/1z3/+U61atZLP55PL5Qq/5nK5vjWRAAAg1oWM2GxLWCEmEolHH31UTzzxhGbNmqUWLWKi2wIAABohJhKJs2fPaty4cSQRAABHcm49IkYWWxYUFOiVV16JdhgAANgiJMOSEYtioiIRDAY1d+5crV27VllZWfUWW86fPz9KkQEAgG8TE4nErl27NGDAAEnSRx99FPHa1xdeAgDQHMXqGRBWiIlEYsOGDdEOAQAA27D9EwAAmBar6xusEBOLLQEAQPNERQIAAJuxRgIAAJjm5DUStDYAAIBpVCQAALCZwbM2AACAWezaAAAAaAAVCQAAbObkxZYkEgAA2MzJ2z9pbQAAANOoSAAAYDMnL7YkkQAAwGZs/wQAAKY5ebElayQAAIBpVCQAALCZk3dtkEgAAGAzJy+2pLUBAABMoyIBAIDN2LUBAABMo7UBAADQABIJAABsZlj0X1M8/vjjcrlcEaNPnz6WfzdaGwAA2CwUpTUSV155pd5+++3w7y1bWv/PPokEAAAO1bJlS2VkZNg6B60NAABsZlg0AoGAamtrI0YgEPif8+7bt08dO3ZU9+7dNXHiRB06dMjy70YiAQCAzUIyLBler1cejydieL3eBuccPHiwli9frjVr1mjx4sX65JNPNGTIEJ08edLS7+YyHLi59YPOo6MdAhCTsnfMj3YIQMyJT+tu+xw5nW605D6+g2vqVSDcbrfcbvcFP1tdXa3vfe97mj9/vqZOnWpJPBJrJAAAaDYamzQ0JDk5Wb169dL+/fstjYnWBgAANjMMw5JxMU6dOqUDBw4oMzPTom/1JRIJAABsZtUaiaYoLi6W3+/Xp59+qnfffVe333674uLiNGHCBEu/G60NAAAc6PDhw5owYYJOnDih9u3b64YbbtCWLVvUvn17S+chkQAAwGZNPZXSCi+//PIlmYdEAgAAmzlwg2QYayQAAIBpVCQAALCZkx8jTiIBAIDNaG0AAAA0gIoEAAA2o7UBAABMi8b2z0uFRAIAAJuFWCMBAABQHxUJAABsRmsDAACYRmsDAACgAVQkAACwGa0NAABgGq0NAACABlCRAADAZrQ2AACAabQ2AAAAGkBFAgAAm9HaAAAAphlGKNoh2IZEAgAAmzn5MeKskQAAAKZRkQAAwGaGg3dtkEgAAGAzWhsAAAANoCIBAIDNaG0AAADTONkSAACgAVQkAACwGSdbAgAA05y8RoLWBgAAMI2KBAAANnPyORIkEgAA2MzJrQ0SCQAAbMb2TwAAgAZQkQAAwGa0NgAAgGlOXmxJawMAAJhGRQIAAJvR2gAAAKaxawMAAKABVCQAALAZD+0CAACm0doAAABoABUJAABsxq4NAABgGmskAACAaU6uSLBGAgAAB1u0aJG+//3vq1WrVho8eLDee+89S+9PIgEAgM0Mw7BkNNUrr7yioqIizZ49W9u2bVN2draGDx+uY8eOWfbdSCQAALCZYdFoqvnz5+vee+/V3Xffrb59+2rJkiVq06aNli5derFfKYxEAgCAZiIQCKi2tjZiBAKBBt979uxZlZeXa+jQoeFrLVq00NChQ7V582bLYnLkYstBh1dFOwToy//hvV6vSkpK5Ha7ox0OEDP4u/Hdc/7sEUvu8/jjj+uJJ56IuDZ79mw9/vjj9d57/PhxBYNBpaenR1xPT0/X7t27LYlHklyGk5eSIqpqa2vl8XhUU1OjpKSkaIcDxAz+bsCsQCBQrwLhdrsbTEiPHj2qTp066d1331VOTk74+syZM+X3+7V161ZLYnJkRQIAACf6X0lDQ9LS0hQXF6eqqqqI61VVVcrIyLAsJtZIAADgQAkJCRo4cKDWr18fvhYKhbR+/fqICsXFoiIBAIBDFRUVqaCgQIMGDdI111yjhQsXqq6uTnfffbdlc5BIwDZut1uzZ89mMRnwDfzdwKUybtw4ff755/rNb36jyspK9e/fX2vWrKm3APNisNgSAACYxhoJAABgGokEAAAwjUQCAACYRiIBAABMI5EAAACmkUgAAADTSCRgmfz8fE2bNk3Tp0/XZZddpvT0dD377LPhw0/atWunHj166K233op2qMAltXr1aiUnJysYDEqSduzYIZfLpVmzZoXf87Of/UyTJk2KVoiAaSQSsNTzzz+vtLQ0vffee5o2bZruv/9+3Xnnnbruuuu0bds2DRs2THfddZdOnz4d7VCBS2bIkCE6efKktm/fLkny+/1KS0uTz+cLv8fv9ys/Pz86AQIXgQOpYJn8/HwFg0Ft2rRJkhQMBuXxeDRmzBitWLFCklRZWanMzExt3rxZ1157bTTDBS6pgQMHasKECSouLtbtt9+uq6++Wk888YROnDihmpoade7cWXv37lXPnj2jHSrQJFQkYKmsrKzwz3FxcUpNTVW/fv3C1746lvXYsWOXPDYgmvLy8uTz+WQYhjZt2qQxY8boiiuuUFlZmfx+vzp27EgSgWaJZ23AUvHx8RG/u1yuiGsul0vSl0+gA75L8vPztXTpUu3cuVPx8fHq06eP8vPz5fP59J///Ed5eXnRDhEwhYoEAFwCX62TWLBgQThp+CqR8Pl8rI9As0UiAQCXwGWXXaasrCy99NJL4aQhNzdX27Zt0969e6lIoNkikQCASyQvL0/BYDCcSKSkpKhv377KyMhQ7969oxscYBK7NgAAgGlUJAAAgGkkEgAAwDQSCQAAYBqJBAAAMI1EAgAAmEYiAQAATCORAAAAppFIAAAA00gkAEiSpkyZotGjR0c7DADNDIkEAAAwjUQCgCUMw9D58+ejHQaAS4xEAogxJ0+e1MSJE9W2bVtlZmZqwYIFys/P1/Tp0yVJgUBAxcXF6tSpk9q2bavBgwfL5/OFP798+XIlJydr7dq1uuKKK5SYmKgRI0aooqIi/J5gMKiioiIlJycrNTVVM2fO1DcfuxMKheT1etWtWze1bt1a2dnZeu2118Kv+3w+uVwuvfXWWxo4cKDcbrfKysps/bMBEHtIJIAYU1RUpHfeeUd///vftW7dOm3atEnbtm0Lv/7AAw9o8+bNevnll/Xhhx/qzjvv1IgRI7Rv377we06fPq2nnnpKL7zwgjZu3KhDhw6puLg4/Pq8efO0fPlyLV26VGVlZfriiy9UWloaEYfX69WKFSu0ZMkSffzxx5oxY4YmTZokv98f8b5Zs2bpySef1L///W9lZWXZ9KcCIGYZAGJGbW2tER8fb7z66qvha9XV1UabNm2Mhx56yPi///s/Iy4uzjhy5EjE52666SajpKTEMAzDWLZsmSHJ2L9/f/j1RYsWGenp6eHfMzMzjblz54Z/P3funNG5c2dj1KhRhmEYxpkzZ4w2bdoY7777bsQ8U6dONSZMmGAYhmFs2LDBkGSsWrXKmi8PoFlqGe1EBsB/HTx4UOfOndM111wTvubxeNS7d29J0q5duxQMBtWrV6+IzwUCAaWmpoZ/b9OmjS6//PLw75mZmTp27JgkqaamRhUVFRo8eHD49ZYtW2rQoEHh9sb+/ft1+vRp3XzzzRHznD17VgMGDIi4NmjQoIv5ygCaORIJoBk5deqU4uLiVF5erri4uIjXEhMTwz/Hx8dHvOZyueqtgbjQPJL0j3/8Q506dYp4ze12R/zetm3bRt8XgPOQSAAxpHv37oqPj9f777+vrl27SvqygrB3717l5uZqwIABCgaDOnbsmIYMGWJqDo/Ho8zMTG3dulW5ubmSpPPnz6u8vFw/+MEPJEl9+/aV2+3WoUOHlJeXZ82XA+BIJBJADGnXrp0KCgr0yCOPKCUlRR06dNDs2bPVokULuVwu9erVSxMnTtTkyZM1b948DRgwQJ9//rnWr1+vrKws3XLLLY2a56GHHtKTTz6pnj17qk+fPpo/f76qq6sj4iguLtaMGTMUCoV0ww03qKamRu+8846SkpJUUFBg058AgOaGRAKIMfPnz9fPf/5z3XrrrUpKStLMmTP12WefqVWrVpKkZcuWac6cOXr44Yd15MgRpaWl6dprr9Wtt97a6DkefvhhVVRUqKCgQC1atNA999yj22+/XTU1NeH3/O53v1P79u3l9Xp18OBBJScn6wc/+IF+9atfWf6dATRfLqMpjVMAl1xdXZ06deqkefPmaerUqdEOBwAiUJEAYsz27du1e/duXXPNNaqpqdFvf/tbSdKoUaOiHBkA1EciAcSgp556Snv27FFCQoIGDhyoTZs2KS0tLdphAUA9tDYAAIBpHJENAABMI5EAAACmkUgAAADTSCQAAIBpJBIAAMA0EgkAAGAaiQQAADCNRAIAAJj2/wEEBDm6fR6KQQAAAABJRU5ErkJggg==",
      "text/plain": [
       "<Figure size 640x480 with 2 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "utils.create_contact_matrix(agents=agents, attr=\"gender\", return_df=True)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "194a5529",
   "metadata": {},
   "source": [
    "### From survey participants to agents\n",
    "\n",
    "As mentioned above, Popy is not a *population synthesizer*.\n",
    "The main purpose of Popy is to connect existing agents.\n",
    "However, Popy offers you to create agents based on a existing data before connecting them via locations.\n",
    "Besides simply transforming a row of data into an agent, Popy has a few functionalities that allow you to build a population of agents from survey data relatively quickly.\n",
    "\n",
    "To demonstrate these features of Popy, we use the following example data:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 107,
   "id": "77403b14",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>hh</th>\n",
       "      <th>gender</th>\n",
       "      <th>school_age</th>\n",
       "      <th>sample_weight</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "      <td>m</td>\n",
       "      <td>False</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1</td>\n",
       "      <td>w</td>\n",
       "      <td>False</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1</td>\n",
       "      <td>m</td>\n",
       "      <td>True</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2</td>\n",
       "      <td>w</td>\n",
       "      <td>False</td>\n",
       "      <td>0.5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>2</td>\n",
       "      <td>m</td>\n",
       "      <td>False</td>\n",
       "      <td>0.5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>2</td>\n",
       "      <td>w</td>\n",
       "      <td>True</td>\n",
       "      <td>0.5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>3</td>\n",
       "      <td>m</td>\n",
       "      <td>False</td>\n",
       "      <td>2.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>3</td>\n",
       "      <td>w</td>\n",
       "      <td>True</td>\n",
       "      <td>2.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   hh gender  school_age  sample_weight\n",
       "0   1      m       False            1.0\n",
       "1   1      w       False            1.0\n",
       "2   1      m        True            1.0\n",
       "3   2      w       False            0.5\n",
       "4   2      m       False            0.5\n",
       "5   2      w        True            0.5\n",
       "6   3      m       False            2.0\n",
       "7   3      w        True            2.0"
      ]
     },
     "execution_count": 107,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(\n",
    "    {\n",
    "        \"hh\": [1, 1, 1, 2, 2, 2, 3, 3],\n",
    "        \"gender\": [\"m\", \"w\", \"m\", \"w\", \"m\", \"w\", \"m\", \"w\"],\n",
    "        \"school_age\": [False, False, True, False, False, True, False, True],\n",
    "        \"sample_weight\": [1, 1, 1, 0.5, 0.5, 0.5, 2, 2],\n",
    "    }\n",
    ")\n",
    "\n",
    "df"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "76812b10",
   "metadata": {},
   "source": [
    "Let's start by defining two locations:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 108,
   "id": "dd191c32",
   "metadata": {},
   "outputs": [],
   "source": [
    "class Household(popy.MagicLocation):\n",
    "    def split(self, agent):\n",
    "        return agent.hh\n",
    "\n",
    "\n",
    "class School(popy.MagicLocation):\n",
    "    def filter(self, agent):\n",
    "        return agent.school_age"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e08750fd",
   "metadata": {},
   "source": [
    "In the second step, we build the population of agents using `Creator` and draw the resulting network:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 109,
   "id": "08c7c844",
   "metadata": {},
   "outputs": [],
   "source": [
    "model = popy.Model()\n",
    "creator = popy.Creator(model)\n",
    "inspector = popy.NetworkInspector(model)\n",
    "\n",
    "agents, locations = creator.make(\n",
    "    df=df,\n",
    "    location_classes=[Household, School],\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 110,
   "id": "d7f407e3",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"deef2c1a-ef73-4f14-8aaa-14794dacee85\" data-root-id=\"p29431\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"ae9a2854-e5e7-4ebf-87a6-302ce00b998a\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p29431\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p29433\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p29432\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p29444\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p29446\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p29438\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p29483\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p29474\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p29475\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p29476\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[-0.9038444704476836,-0.6193679617917494],[-0.2847135195168672,-0.6193679617917494],[-0.2847135195168672,0.06313741849908247],[-0.025366067241649685,0.11474710275453419],[0.9341064262815093,0.6924184971547511],[0.28284122134151835,0.11474710275453419],[-0.7438232515961157,-0.6193679617917494],[0.09222940125565365,0.11474710275453419],[0.09222940125565365,0.06313741849908247],[0.3976352033070165,0.6924184971547511],[0.3976352033070165,0.06313741849908247]]],[\"ys\",[[0.43883983269587695,0.4471856760421111],[0.2513574467392239,0.4471856760421111],[0.2513574467392239,0.03879182228743706],[-1.0,-0.7538627991896404],[0.5621550757060534,0.4185220279032365],[-0.980350555421565,-0.7538627991896404],[0.702795265408547,0.4471856760421111],[-0.3673026369107146,-0.7538627991896404],[-0.3673026369107146,0.03879182228743706],[0.2418688447394337,0.4185220279032365],[0.2418688447394337,0.03879182228743706]]],[\"_u\",[1,2,2,3,4,5,6,7,7,8,8]],[\"_v\",[9,9,12,10,11,10,9,10,12,11,12]],[\"weight\",[1,1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p29484\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p29485\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p29480\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p29481\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p29482\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p29497\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p29488\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p29489\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p29490\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.6193679617917494,0.11474710275453419,0.6924184971547511,0.06313741849908247]],[\"ys\",[0.4471856760421111,-0.7538627991896404,0.4185220279032365,0.03879182228743706]],[\"_node\",[9,10,11,12]],[\"bipartite\",[1,1,1,1]],[\"type\",[\"Household\",\"Household\",\"Household\",\"School\"]],[\"_colormap\",[\"rgb(84, 147, 204)\",\"rgb(84, 147, 204)\",\"rgb(84, 147, 204)\",\"rgb(86, 174, 166)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p29498\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p29499\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p29494\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p29495\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p29496\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p29509\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p29500\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p29501\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p29502\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[-0.9038444704476836,-0.2847135195168672,-0.025366067241649685,0.9341064262815093,0.28284122134151835,-0.7438232515961157,0.09222940125565365,0.3976352033070165]],[\"ys\",[0.43883983269587695,0.2513574467392239,-1.0,0.5621550757060534,-0.980350555421565,0.702795265408547,-0.3673026369107146,0.2418688447394337]],[\"_node\",[1,2,3,4,5,6,7,8]],[\"bipartite\",[0,0,0,0,0,0,0,0]],[\"type\",[\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\",\"Agent\"]],[\"_colormap\",[\"rgb(149, 248, 15)\",\"rgb(149, 248, 15)\",\"rgb(149, 248, 15)\",\"rgb(149, 248, 15)\",\"rgb(149, 248, 15)\",\"rgb(149, 248, 15)\",\"rgb(149, 248, 15)\",\"rgb(149, 248, 15)\"]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p29510\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p29511\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p29506\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p29507\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p29508\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"field\",\"field\":\"_colormap\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2},\"marker\":{\"type\":\"value\",\"value\":\"square\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p29439\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p29462\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p29463\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p29464\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p29465\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p29466\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p29486\",\"attributes\":{\"renderers\":[{\"id\":\"p29483\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p29512\",\"attributes\":{\"renderers\":[{\"id\":\"p29497\"}],\"tooltips\":[[\"type\",\"node lv0\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p29514\",\"attributes\":{\"renderers\":[{\"id\":\"p29509\"}],\"tooltips\":[[\"type\",\"node lv1\"],[\"node\",\"@_node\"],[\"type\",\"@type\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p29455\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p29456\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p29457\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p29458\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p29448\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p29449\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p29450\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p29451\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p29454\",\"attributes\":{\"axis\":{\"id\":\"p29448\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p29461\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p29455\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"ae9a2854-e5e7-4ebf-87a6-302ce00b998a\",\"roots\":{\"p29431\":\"deef2c1a-ef73-4f14-8aaa-14794dacee85\"},\"root_ids\":[\"p29431\"],\"notebook_comms_target\":\"p30457\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p29431"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 111,
   "id": "94036fa1",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": "(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(null);\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.1.1.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(null)).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "  <div id=\"d2d94204-a366-4dd5-860e-45f87fbe8271\" data-root-id=\"p30578\" style=\"display: contents;\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"65500443-3918-421d-aa93-e0d180db73e5\":{\"version\":\"3.1.1\",\"title\":\"Bokeh Application\",\"defs\":[],\"roots\":[{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"p30578\",\"attributes\":{\"width\":500,\"height\":500,\"x_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p30580\"},\"y_range\":{\"type\":\"object\",\"name\":\"DataRange1d\",\"id\":\"p30579\"},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p30591\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"p30593\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"p30585\"},\"renderers\":[{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p30630\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p30621\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p30622\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p30623\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[[0.8097635548956735,0.27542973841720714],[0.8097635548956735,0.4917342381452195],[0.27542973841720714,0.4917342381452195],[0.27542973841720714,-0.3740271315479433],[0.27542973841720714,0.21083736868677955],[-1.0,-0.9501082259753572],[-1.0,-0.3740271315479433],[0.5363704573784203,0.21083736868677955],[-0.9501082259753572,-0.3740271315479433],[-0.3740271315479433,0.21083736868677955]]],[\"ys\",[[0.6260197508309618,0.26951359407751446],[0.6260197508309618,0.8736518869243275],[0.26951359407751446,0.8736518869243275],[0.26951359407751446,-0.09845875976824979],[0.26951359407751446,-0.37364430899199286],[0.024566080508122402,-0.3719857501464104],[0.024566080508122402,-0.09845875976824979],[-0.9496624934342737,-0.37364430899199286],[-0.3719857501464104,-0.09845875976824979],[-0.09845875976824979,-0.37364430899199286]]],[\"_u\",[1,1,2,2,2,3,3,4,5,7]],[\"_v\",[2,6,6,7,8,5,7,8,7,8]],[\"weight\",[1,1,1,1,1,1,1,1,1,1]],[\"_edge_alpha\",[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p30631\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p30632\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p30627\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"field\",\"field\":\"_edge_alpha\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p30628\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"MultiLine\",\"id\":\"p30629\",\"attributes\":{\"xs\":{\"type\":\"field\",\"field\":\"xs\"},\"ys\":{\"type\":\"field\",\"field\":\"ys\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2}}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"p30644\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"p30635\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"p30636\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"p30637\"},\"data\":{\"type\":\"map\",\"entries\":[[\"xs\",[0.8097635548956735,0.27542973841720714,-1.0,0.5363704573784203,-0.9501082259753572,0.4917342381452195,-0.3740271315479433,0.21083736868677955]],[\"ys\",[0.6260197508309618,0.26951359407751446,0.024566080508122402,-0.9496624934342737,-0.3719857501464104,0.8736518869243275,-0.09845875976824979,-0.37364430899199286]],[\"_node\",[1,2,3,4,5,6,7,8]],[\"gender\",[\"m\",\"w\",\"m\",\"m\",\"w\",\"w\",\"m\",\"w\"]],[\"hh\",[2,2,1,3,1,2,1,3]],[\"sample_weight\",[0.5,0.5,1.0,2.0,1.0,0.5,1.0,2.0]],[\"school_age\",[false,true,false,false,false,false,true,true]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"p30645\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"p30646\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p30641\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.7},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.7},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.7}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p30642\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.1},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.1},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.1}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Scatter\",\"id\":\"p30643\",\"attributes\":{\"x\":{\"type\":\"field\",\"field\":\"xs\"},\"y\":{\"type\":\"field\",\"field\":\"ys\"},\"size\":{\"type\":\"value\",\"value\":9},\"line_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"line_alpha\":{\"type\":\"value\",\"value\":0.2},\"fill_color\":{\"type\":\"value\",\"value\":\"firebrick\"},\"fill_alpha\":{\"type\":\"value\",\"value\":0.2},\"hatch_alpha\":{\"type\":\"value\",\"value\":0.2}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"p30586\",\"attributes\":{\"logo\":null,\"tools\":[{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"p30609\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"p30610\",\"attributes\":{\"syncable\":false,\"level\":\"overlay\",\"visible\":false,\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"bottom_units\":\"canvas\",\"top_units\":\"canvas\",\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5}}}},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"p30611\"},{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"p30612\"},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"p30613\"},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p30633\",\"attributes\":{\"renderers\":[{\"id\":\"p30630\"}],\"tooltips\":[[\"type\",\"edge\"],[\"u\",\"@_u\"],[\"v\",\"@_v\"],[\"weight\",\"@weight\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"u\",\"printf\"],[\"v\",\"printf\"],[\"weight\",\"printf\"]]},\"line_policy\":\"interp\"}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"p30647\",\"attributes\":{\"renderers\":[{\"id\":\"p30644\"}],\"tooltips\":[[\"type\",\"node\"],[\"node\",\"@_node\"],[\"gender\",\"@gender\"],[\"hh\",\"@hh\"],[\"sample_weight\",\"@sample_weight\"],[\"school_age\",\"@school_age\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"type\",\"printf\"],[\"node\",\"printf\"],[\"gender\",\"printf\"],[\"hh\",\"printf\"],[\"sample_weight\",\"printf\"],[\"school_age\",\"printf\"]]},\"attachment\":\"vertical\"}}]}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p30602\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p30603\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p30604\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p30605\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"p30595\",\"attributes\":{\"visible\":false,\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"p30596\",\"attributes\":{\"mantissas\":[1,2,5]}},\"formatter\":{\"type\":\"object\",\"name\":\"BasicTickFormatter\",\"id\":\"p30597\"},\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"p30598\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p30601\",\"attributes\":{\"axis\":{\"id\":\"p30595\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"p30608\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"p30602\"},\"grid_line_color\":null}}]}}],\"callbacks\":{\"type\":\"map\"}}};\n  const render_items = [{\"docid\":\"65500443-3918-421d-aa93-e0d180db73e5\",\"roots\":{\"p30578\":\"d2d94204-a366-4dd5-860e-45f87fbe8271\"},\"root_ids\":[\"p30578\"],\"notebook_comms_target\":\"p31609\"}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "p30578"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "inspector.plot_agent_network(node_attrs=df.columns)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a214d4ec",
   "metadata": {},
   "source": [
    "Via the parameter `n_agents`, the method `make()` allows you to control the population size.\n",
    "While the parameter `n_agents` is untouched, each row of the dataset is transformed into an agent.\n",
    "When `n_agent` is set to any integer, `make()` samples the neccessary number of rows from the dataset.\n",
    "When `n_agent` is larger than the number of rows in the dataset, the sampling happens *with replacement*, otherwise *without replacement*."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 112,
   "id": "a5d3ad50",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "ename": "TypeError",
     "evalue": "Creator.__init__() missing 1 required positional argument: 'model'",
     "output_type": "error",
     "traceback": [
      "\u001b[1;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[1;31mTypeError\u001b[0m                                 Traceback (most recent call last)",
      "Cell \u001b[1;32mIn[112], line 1\u001b[0m\n\u001b[1;32m----> 1\u001b[0m creator \u001b[38;5;241m=\u001b[39m \u001b[43mpopy\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43mCreator\u001b[49m\u001b[43m(\u001b[49m\u001b[43m)\u001b[49m\n\u001b[0;32m      2\u001b[0m agents, locations \u001b[38;5;241m=\u001b[39m creator\u001b[38;5;241m.\u001b[39mmake(\n\u001b[0;32m      3\u001b[0m     df\u001b[38;5;241m=\u001b[39mdf, \n\u001b[0;32m      4\u001b[0m     location_classes\u001b[38;5;241m=\u001b[39m[Household, School],\n\u001b[0;32m      5\u001b[0m     n_agents\u001b[38;5;241m=\u001b[39m\u001b[38;5;241m30\u001b[39m,\n\u001b[0;32m      6\u001b[0m )\n",
      "\u001b[1;31mTypeError\u001b[0m: Creator.__init__() missing 1 required positional argument: 'model'"
     ]
    }
   ],
   "source": [
    "creator = popy.Creator()\n",
    "agents, locations = creator.make(\n",
    "    df=df,\n",
    "    location_classes=[Household, School],\n",
    "    n_agents=30,\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "3691275d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<popy.inspector.NetworkInspector at 0x1466bedaf10>"
      ]
     },
     "execution_count": 114,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "a86a2abf",
   "metadata": {},
   "outputs": [],
   "source": [
    "creator.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "735f5d85",
   "metadata": {},
   "outputs": [],
   "source": [
    "creator.plot_agent_network(node_attrs=df.columns)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b8fe9ec3",
   "metadata": {},
   "source": [
    "If we only want to see who is in our population and not how the population is connected, we can also use the following command:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "cc6cc117",
   "metadata": {},
   "outputs": [],
   "source": [
    "creator.get_df_agents()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f0a7fe68",
   "metadata": {},
   "source": [
    "By default, the rows are sampled individually.\n",
    "This might be what we want in many cases.\n",
    "In this case, however, we want that people from the same household are always sampled together.\n",
    "To define *sample units* that consist of more than one row, we can use the parameter `sample_level`:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "289a3daf",
   "metadata": {},
   "outputs": [],
   "source": [
    "creator = popy.Creator()\n",
    "agents, locations = creator.make(\n",
    "    df=df,\n",
    "    location_classes=[Household, School],\n",
    "    n_agents=30,\n",
    "    sample_level=\"hh\",\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "6bf13ade",
   "metadata": {},
   "outputs": [],
   "source": [
    "creator.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "2a5655fd",
   "metadata": {},
   "outputs": [],
   "source": [
    "creator.plot_agent_network(node_attrs=df.columns)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "8d8ec994",
   "metadata": {},
   "outputs": [],
   "source": [
    "creator.get_df_agents().sort_values(\"hh\").reset_index(drop=True)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "51873078",
   "metadata": {},
   "source": [
    "We can see that only complete households were sampled from the data.\n",
    "Another convenient thing happened in the background: the values of `\"hh\"` - our sampling unit - were replaced by unique values per sampled household.\n",
    "(The original values are now in `\"hh_original\"`.)\n",
    "You can turn this behavior off by setting `replace_sample_level_column` to `False`."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "32312052",
   "metadata": {},
   "source": [
    "There is also an option to use sampling weight to adjust the sampling probability.\n",
    "When using sample weights together with a *sample level*, the weight from the first row of an unit is used."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "ba2c59c1",
   "metadata": {},
   "outputs": [],
   "source": [
    "creator = popy.Creator()\n",
    "agents, locations = creator.make(\n",
    "    df=df,\n",
    "    location_classes=[Household, School],\n",
    "    n_agents=30,\n",
    "    sample_level=\"hh\",\n",
    "    sample_weight=\"sample_weight\",\n",
    ")\n",
    "\n",
    "creator.plot_agent_network(node_attrs=df.columns)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "5a03b088",
   "metadata": {},
   "source": [
    "By the way: Sometimes it might be neccessary to not directly build agents from the sampled data, but to adjust the data further.\n",
    "In this case one can use `Creator.draw_sample()`.\n",
    "This is the method which manages the whole process of sampling within `Creator.make()`."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "c4ab9e37",
   "metadata": {},
   "outputs": [],
   "source": [
    "df_sample = creator.draw_sample(\n",
    "    df=df,\n",
    "    n=30,\n",
    "    sample_level=\"hh\",\n",
    "    sample_weight=\"sample_weight\",\n",
    ")\n",
    "\n",
    "df_sample"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "574db66b",
   "metadata": {},
   "source": [
    "Now we could adjust the data as we want and then use it as input data in `Creator.make()` or `Creator.create_agents()`."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "aad3f282",
   "metadata": {},
   "source": [
    "## Running simulations using Popy\n",
    "\n",
    "In the previous part of this introduction, we have learned how to use Popy to build, evaluate and export static networks.\n",
    "In the following part of this introduction, we will learn how to use Popy to directly run a simulation based on the defined network.\n",
    "To perform simulations, Popy relies on [AgentPy](https://agentpy.readthedocs.io/en/latest/#) - a general ABM framework.\n",
    "We recommend you to familiarize yourself with AgentPy first, as only some aspects of AgentPy are covered in this introduction.\n",
    "\n",
    "In the following, we programme a simple infection simulation as an example of how to use Popy to run simulations."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "44488176",
   "metadata": {},
   "source": [
    "### DataFaker\n",
    "\n",
    "In the previous example, we used example data to create the population of agents.\n",
    "In this example, we also use *fake* data, but this time we use a data generator provided by Popy to generate the data.\n",
    "The DataFaker creates a data set of any size, which is similar to a classic survey data set.\n",
    "`popy.data_fakers.soep_faker` creates data similiar to the [German Socio-Economic Panel](https://www.diw.de/en/diw_01.c.678568.en/research_data_center_soep.html).\n",
    "\n",
    "We start by creating a dataset of 1000 rows:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "c5ad1457",
   "metadata": {},
   "outputs": [],
   "source": [
    "from popy.data_fakers.soep import soep_faker\n",
    "\n",
    "df_soep = soep_faker.soep(size=1000)\n",
    "df_soep.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "31dd241b",
   "metadata": {},
   "source": [
    "### A first Model\n",
    "\n",
    "The object class `Model` is a key component of implementing simulation models using Popy (or AgentPy).\n",
    "The class `Model` integrates all elements of the simulation and determines the simulation sequences.\n",
    "Every simulation model which relies on Popy must have exactly one instance of `Model`.\n",
    "(In fact, even the generation of static networks needs an instance of `Model`, which is created for you under the hood, to keep the code as simple as possible.)\n",
    "\n",
    "`Model` has four core methods that structure the processes of the simulation model:\n",
    "\n",
    "1. `Model.setup()`\n",
    "2. `Model.step()`\n",
    "3. `Model.update()`\n",
    "4. `Model.end()`\n",
    "\n",
    "Please refer to the [AgentPy documentation](https://agentpy.readthedocs.io/en/latest/reference_model.html) for more detailed information on those methods."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "067e7d4a",
   "metadata": {},
   "source": [
    "In addition to an *empty* `Agent` class and an *empty* `Location` class, we define our first own `Model` class below.\n",
    "First we define the method `setup()`, which is executed according to the AgentPy logic at the beginning of the simulation.\n",
    "Within the `setup()` method, we do nothing more than create a `Creator` as usual and then create agents and locations.\n",
    "This time, however, we save everything as attributes of the `InfectionModel`.\n",
    "It is also important to pass the `InfectionModel` to the `Creator` in the form of `self` via the `model` parameter.\n",
    "This ensures that all agents and locations created via this `Creator` are assigned to the `InfectionModel` and vice versa.\n",
    "This allows agents to access their environment during the simulation, for example."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "988b75b2",
   "metadata": {},
   "outputs": [],
   "source": [
    "import random\n",
    "\n",
    "import popy\n",
    "\n",
    "\n",
    "class Agent(popy.Agent):\n",
    "    pass\n",
    "\n",
    "\n",
    "class Home(popy.Location):\n",
    "    pass\n",
    "\n",
    "\n",
    "class InfectionModel(popy.Model):\n",
    "    def setup(self):\n",
    "        self.creator = popy.Creator(model=self)\n",
    "        self.agents = self.creator.create_agents(df=df_soep, agent_class=Agent)\n",
    "        self.locations = self.creator.create_locations(\n",
    "            agents=self.agents,\n",
    "            location_classes=[Home],\n",
    "        )"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8ba51621",
   "metadata": {},
   "source": [
    "Now, we execute the simulation model.\n",
    "Again, please refer to the [AgentPy documentation](https://agentpy.readthedocs.io/en/latest/overview.html#running-a-simulation) if needed."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "9b14be04",
   "metadata": {},
   "outputs": [],
   "source": [
    "parameters = {\n",
    "    \"steps\": 50,\n",
    "}\n",
    "model = InfectionModel(parameters=parameters)\n",
    "results = model.run()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a2b3790e",
   "metadata": {},
   "source": [
    "The simulation has now run, but practically nothing has happened except that the agents and locations have been created.\n",
    "The `model` object now has the `agents` attribute, for example:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "15dadde1",
   "metadata": {},
   "outputs": [],
   "source": [
    "model.agents"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "b86acca1",
   "metadata": {},
   "outputs": [],
   "source": [
    "model.locations"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "82ee42d7",
   "metadata": {},
   "source": [
    "Now we add some code to make the model a working infection simulation.\n",
    "We add the attributes `infection_status` and `days_since_infection` as well as the methods `infect` and `update_infection_status` to the agent.\n",
    "\n",
    "What is relevant here is how the agent accesses other agents with which it is in contact.\n",
    "This is done using the `Agent.neighbors()` method.\n",
    "On the other hand, it is relevant how the agent determines *how much* contact it has or has had with the other agents.\n",
    "This is done using the method `Agent.contact_weight()`.\n",
    "Both methods include all locations that an agent visits."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "7ed2de9c",
   "metadata": {},
   "outputs": [],
   "source": [
    "class Agent(popy.Agent):\n",
    "    def __init__(self, model, *args, **kwargs):\n",
    "        super().__init__(model, *args, **kwargs)\n",
    "        self.infection_status = \"susceptible\"\n",
    "        self.days_since_infection = 0\n",
    "\n",
    "    def infect(self):\n",
    "        if self.infection_status in [\"infectious\", \"symptomatic\"]:\n",
    "            for agent_v in self.neighbors():\n",
    "                if agent_v.infection_status == \"susceptible\":\n",
    "                    infection_probability = 0.01 * self.contact_weight(agent_v)\n",
    "\n",
    "                    if random.random() < infection_probability:\n",
    "                        agent_v.infection_status = \"exposed\"\n",
    "\n",
    "    def update_infection_status(self):\n",
    "        if self.infection_status in [\"exposed\", \"infectious\", \"symptomatic\"]:\n",
    "            self.days_since_infection += 1\n",
    "\n",
    "            if 2 <= self.days_since_infection <= 5:\n",
    "                self.infection_status = \"infectious\"\n",
    "\n",
    "            elif 6 <= self.days_since_infection <= 10:\n",
    "                self.infection_status = \"symptomatic\"\n",
    "\n",
    "            elif self.days_since_infection >= 11:\n",
    "                self.infection_status = \"recovered\""
   ]
  },
  {
   "cell_type": "markdown",
   "id": "058669e6",
   "metadata": {},
   "source": [
    "Next, we define 4 locations.\n",
    "A home `Home`, to which all agents of a household are assigned, a workplace `Work`, which groups the agents according to their occupational sectors, and a school `School`, which contains age-specific classes.\n",
    "To ensure that each agent has contact with at least two other agents, we also define the location `Ring`, which connects the entire population along a ring using the predefined Popy class `RingLocation`."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "d92b7324",
   "metadata": {},
   "outputs": [],
   "source": [
    "class Home(popy.Location):\n",
    "    def split(self, agent):\n",
    "        return agent.hid\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return 12\n",
    "\n",
    "\n",
    "class Work(popy.Location):\n",
    "    def setup(self):\n",
    "        self.n_agents = 10\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return True if agent.work_hours_day > 0 and agent.nace2_division > 0 else False\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.nace2_division\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return agent.work_hours_day\n",
    "\n",
    "\n",
    "class School(popy.Location):\n",
    "    def setup(self):\n",
    "        self.n_agents = 25\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return True if 6 <= agent.age <= 18 else False\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.age\n",
    "\n",
    "    def weight(self, agent):\n",
    "        return 6\n",
    "\n",
    "\n",
    "class Ring(popy.RingLocation):\n",
    "    pass"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d96a8bb4",
   "metadata": {},
   "source": [
    "We extend the `InfectionModel` so that 10 random agents are infected at the start of the simulation (`setup()`).\n",
    "In `step()` we define what should happen in each individual time step of the simulation.\n",
    "First, the method `update_infection_status()` is to be executed for each agent and then the method `infect()` for each agent.\n",
    "If you are wondering about the strange syntax, have a look [here](https://agentpy.readthedocs.io/en/latest/overview.html#agent-sequences).\n",
    "The method `update()` is also executed in each time step, but always after the method `step()`.\n",
    "In `update()` we collect the number of agents ever infected per time step in order to visualize it after the simulation."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "f44f17c3",
   "metadata": {},
   "outputs": [],
   "source": [
    "class InfectionModel(popy.Model):\n",
    "    def setup(self):\n",
    "        self.creator = popy.Creator(model=self)\n",
    "        self.agents = self.creator.create_agents(df=df_soep, agent_class=Agent)\n",
    "        self.locations = self.creator.create_locations(\n",
    "            agents=self.agents,\n",
    "            location_classes=[\n",
    "                Home,\n",
    "                Work,\n",
    "                School,\n",
    "                Ring,\n",
    "            ],\n",
    "        )\n",
    "\n",
    "        for agent in random.choices(self.agents, k=10):\n",
    "            agent.infection_status = \"exposed\"\n",
    "\n",
    "    def step(self):\n",
    "        self.agents.update_infection_status()\n",
    "        self.agents.infect()\n",
    "\n",
    "    def update(self):\n",
    "        self.record(\n",
    "            \"cumulative_infections\",\n",
    "            sum([1 for agent in self.agents if agent.infection_status != \"susceptible\"]),\n",
    "        )"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "388a1983",
   "metadata": {},
   "source": [
    "Let's execute the model:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "dc3cbbc4",
   "metadata": {},
   "outputs": [],
   "source": [
    "parameters = {\n",
    "    \"steps\": 50,\n",
    "}\n",
    "model = InfectionModel(parameters=parameters)\n",
    "results = model.run()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d9a4fb4c",
   "metadata": {},
   "source": [
    "Below, you can see the number of infections per time step."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "508f59c8",
   "metadata": {},
   "outputs": [],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "\n",
    "plt.plot(results.variables.InfectionModel.cumulative_infections)\n",
    "plt.grid()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "646de47f",
   "metadata": {},
   "source": [
    "Just because we can, let's have look at the network:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "b2942458",
   "metadata": {},
   "outputs": [],
   "source": [
    "model.creator.plot_bipartite_network()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "d9d58875",
   "metadata": {},
   "outputs": [],
   "source": [
    "model.creator.plot_agent_network()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e64ca85c",
   "metadata": {},
   "source": [
    "### Dynamic networks\n",
    "\n",
    "Up to now, we have had purely static networks that have not changed once they have been created.\n",
    "In Popy, there are two ways to change the networks during the simulation.\n",
    "Firstly, agents can leave and join locations using the methods `Location.remove_agent()` and `Location.add_agent()`.\n",
    "If a complete *move* of the agent from one location to another is not necessary, the connection weights between the agent and the location can also simply be varied.\n",
    "If possible, this method is always preferable.\n",
    "In the following, we will have a look at this method to create dynamic networks."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "9f75bb8f",
   "metadata": {},
   "source": [
    "We now want to add another property to the infection simulation: Agents only visit the school or workplace if they are not currently symptomatically ill.\n",
    "\n",
    "In order to exclude agents who are symptomatically ill from schools and workplaces, we adapt the `weight()` method in each case.\n",
    "By default, the `weight()` method is executed repeatedly in each time step for each location so that the weights are always up to date\n",
    "(as this can affect the performance of the simulation, you can set the attribute `Location.static_weight = True` in the `setup()` method to deactivate this function)."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "a969ccdf",
   "metadata": {},
   "outputs": [],
   "source": [
    "class Home(popy.Location):\n",
    "    def split(self, agent):\n",
    "        return agent.hid\n",
    "\n",
    "    def weight(self, agent):\n",
    "        if agent.infection_status == \"symptomatic\":\n",
    "            return 3\n",
    "        else:\n",
    "            return 12\n",
    "\n",
    "    def project_weights(self, agent1, agent2):\n",
    "        return min(self.get_weight(agent1), self.get_weight(agent2))\n",
    "\n",
    "\n",
    "class Work(popy.Location):\n",
    "    def setup(self):\n",
    "        self.n_agents = 10\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return True if agent.work_hours_day > 0 and agent.nace2_division > 0 else False\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.nace2_division\n",
    "\n",
    "    def weight(self, agent):\n",
    "        if agent.infection_status == \"symptomatic\":\n",
    "            return 0\n",
    "        else:\n",
    "            return agent.work_hours_day\n",
    "\n",
    "    def project_weights(self, agent1, agent2):\n",
    "        return min(self.get_weight(agent1), self.get_weight(agent2))\n",
    "\n",
    "\n",
    "class School(popy.Location):\n",
    "    def setup(self):\n",
    "        self.n_agents = 25\n",
    "\n",
    "    def filter(self, agent):\n",
    "        return True if 6 <= agent.age <= 18 else False\n",
    "\n",
    "    def split(self, agent):\n",
    "        return agent.age\n",
    "\n",
    "    def weight(self, agent):\n",
    "        if agent.infection_status == \"symptomatic\":\n",
    "            return 0\n",
    "        else:\n",
    "            return 6\n",
    "\n",
    "    def project_weights(self, agent1, agent2):\n",
    "        return min(self.get_weight(agent1), self.get_weight(agent2))\n",
    "\n",
    "\n",
    "class Ring(popy.Location):\n",
    "    def subsplit(self, agent):\n",
    "        pos = self.model.agents.index(agent)\n",
    "        right = (pos + 1) % len(self.model.agents)\n",
    "        return [pos, right]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "bae15758",
   "metadata": {},
   "outputs": [],
   "source": [
    "import datetime as dt\n",
    "\n",
    "\n",
    "class InfectionModel(popy.Model):\n",
    "    def setup(self):\n",
    "        self.creator = popy.Creator(model=self)\n",
    "        self.agents = self.creator.create_agents(df=df_soep, agent_class=Agent)\n",
    "        self.locations = self.creator.create_locations(\n",
    "            agents=self.agents,\n",
    "            location_classes=[\n",
    "                Home,\n",
    "                Work,\n",
    "                School,\n",
    "                Ring,\n",
    "            ],\n",
    "        )\n",
    "        self.date = dt.date(2022, 1, 1)\n",
    "\n",
    "        for agent in random.choices(self.agents, k=10):\n",
    "            agent.infection_status = \"exposed\"\n",
    "\n",
    "    def step(self):\n",
    "        self.agents.update_infection_status()\n",
    "        self.agents.infect()\n",
    "\n",
    "    def update(self):\n",
    "        self.record(\n",
    "            \"cumulative_infections\",\n",
    "            sum([1 for agent in self.agents if agent.infection_status != \"susceptible\"]),\n",
    "        )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "64405e4d",
   "metadata": {},
   "outputs": [],
   "source": [
    "class Agent(popy.Agent):\n",
    "    def __init__(self, model, *args, **kwargs):\n",
    "        super().__init__(model, *args, **kwargs)\n",
    "        self.infection_status = \"susceptible\"\n",
    "        self.days_since_infection = 0\n",
    "\n",
    "    def infect(self):\n",
    "        if self.infection_status in [\"infectious\", \"symptomatic\"]:\n",
    "            for agent_v in self.neighbors():\n",
    "                if agent_v.infection_status == \"susceptible\":\n",
    "                    contact_weight = self.contact_weight(agent_v)\n",
    "                    infection_probability = 0.01 * contact_weight\n",
    "\n",
    "                    if random.random() < infection_probability:\n",
    "                        agent_v.infection_status = \"exposed\"\n",
    "\n",
    "    def update_infection_status(self):\n",
    "        if self.infection_status in [\"exposed\", \"infectious\", \"symptomatic\"]:\n",
    "            self.days_since_infection += 1\n",
    "\n",
    "            if 1 <= self.days_since_infection <= 2:\n",
    "                self.infection_status = \"infectious\"\n",
    "\n",
    "            elif 3 <= self.days_since_infection <= 10:\n",
    "                self.infection_status = \"symptomatic\"\n",
    "\n",
    "            elif self.days_since_infection >= 11:\n",
    "                self.infection_status = \"recovered\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "93e7c36c",
   "metadata": {},
   "outputs": [],
   "source": [
    "parameters = {\n",
    "    \"steps\": 50,\n",
    "}\n",
    "model = InfectionModel(parameters=parameters)\n",
    "results = model.run()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "7db06af9",
   "metadata": {},
   "outputs": [],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "\n",
    "plt.plot(results.variables.InfectionModel.cumulative_infections)\n",
    "plt.grid()"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": ".venv",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.11.0"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
